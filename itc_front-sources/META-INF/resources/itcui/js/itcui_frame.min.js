/*! itc_ui 2017-01-16 10:56:55 */

function ITCUI_Container(a){var b=a,c={},d=null;this.switchTo=function(e,f,g){var h=$(b).children(".ITCUI_Iframe_"+d);if(c[d]&&(c[d].cache?h.css("display","none"):(h.remove(),delete c[d])),d=e,c[e]&&c[e].cache)$(b).children(".ITCUI_Iframe_"+e).css("display","block");else{var i="";g.id&&(i=" id='"+g.id+"' "),$("<iframe frameborder='no'"+i+" border='0' style='width:99.7%;height:100%;' class='ITCUI_ContainerFrame ITCUI_Iframe_"+e+"' src='about:blank'></iframe>").appendTo(a),c[e]=g,$(a).children(".ITCUI_Iframe_"+e).attr("src",f)}},this.navigate=function(a){if(null!=d){FW.triggerEvent("onContainerNavigate");var c=$(b).children(".ITCUI_Iframe_"+d);c.attr("src","about:blank"),c.attr("src",a)}},this.resize=function(){},this.remove=function(a){delete c[a],$(b).children(".ITCUI_Iframe_"+a).remove()}}function _itc_initskinner(){if(!($("#itc_skin").length>0)){var a='<footer class="skin" id="itc_skin"><div class="skin-item skin-top">    <div class="skin-top-inner"></div>    <div class="skin-top-inner2"></div></div><div class="skin-item skin-top-left"></div><div class="skin-item skin-top-right"></div><div class="skin-item skin-left" id="themeLeft"></div><div class="skin-item skin-left-top" id="themeLeftTop"></div><div class="skin-item skin-left-bottom" id="themeLeftBottom"></div><div class="skin-item skin-right"></div><div class="skin-item skin-right-top"></div><div class="skin-item skin-right-bottom"></div><div class="skin-item skin-bottom"></div><div class="skin-item skin-fullScreen" id="themeFullScreen"></div><div class="skin-imgProxy" id="themeImgProxy"></div></footer>';$("body").prepend(a)}}function changeSkin(a,b){$("#skin-css").remove();var c="itcui/skin/";if(window.skinPage){var d=skinPage.indexOf("skin.jsp");c=skinPage.substring(0,d)}c+=a+"/theme.css",$("head").append('<link id="skin-css" rel="stylesheet" type="text/css" href="'+c+'" media="all"/>'),b&&b.fullScreenImage?changeFSImage(a,b):$("#themeFullScreen").html("")}function changeFSImage(a,b){var c=document.documentElement.clientWidth,d=skinPage.indexOf("skin.jsp"),e=skinPage.substring(0,d)+a+"/img/"+b.fullScreenImage;$("<img src='"+e+"'></img>").appendTo("#themeFullScreen").css({width:c,height:"auto",opacity:1,position:"absolute",top:b.top||"0px"})}var privMapping=privMapping||null,_ITC=_ITC||_parent().window._ITC||{},TREE_HALF_WIDTH=20,firstHideHint=!0;_ITC.navTab=_ITC.navTab||null,_ITC.navTree=_ITC.navTree||null,_ITC.container=_ITC.container||null,_ITC.specTreeState={},_ITC.isTreeButtonShow=!1,_ITC.isSideButtonShow=!1,_ITC.isButtonMouseOut=!0,_ITC.isSideBtnMouseOut=!0,_ITC.isTreeMouseOut=!0,_ITC.isSideTreeMouseOut=!0,_ITC.firstTab=null,_ITC.tagList=[],_ITC.sideTreeStat={},_ITC.switchTab=function(a){_ITC.opts.tabSwitchFunc(a)},_ITC._switchTab=function(a,b){var c=_ITC.opts;if(_ITC.firstTab=_ITC.firstTab||_ITC.navTab.getCurrentTab(),c.tabMapping){var d=c.tabMapping[a];if(d){if(d.tab)return _ITC._switchTab(d.tab,a),_ITC.useSameTree=d.tab,void _ITC.container.switchTo(a,d.url,{cache:!0,id:d.id});if(_ITC.useSameTree=null,_ITC.navTree&&(_ITC.currTab=_ITC.currTab||_ITC.firstTab,_ITC.tabTreeStat[_ITC.currTab]=_ITC.navTree.ITCUI_NavTree("getstate"),_ITC.currTab=a),d.tree?(_ITC.noTree=!1,_ITC.navTree=$("#"+c.treeId).ITCUI_NavTree("init",d.tree,{expandOnlyOne:!0}),_ITC.navTree.ITCUI_NavTree("updateTag",_ITC.tagList),$("#"+c.treeId).click(function(){$(this).hasClass("tree-dark")&&_ITC.mannalHideTree()}),$("#"+_ITC.opts.treeId).show(),$("#"+_ITC.opts.bottomId).addClass("tree-width-p")):(_ITC.noTree=!0,$("#"+_ITC.opts.treeId).hide(),$("#"+_ITC.opts.bottomId).removeClass("tree-width-p")),$("#btn_treefold").hide(),_ITC.initedTab[a])_ITC.container.switchTo(a,"",{cache:!0});else{var e={cache:!0};if(_ITC.initedTab[a]=!0,c.tabMapping[a].id&&(e.id=c.tabMapping[a].id),d.tree&&_ITC.navTree)for(var f=!0,g=0;g<d.tree.length&&f;g++){var h=d.tree[g];if(!privMapping||!h.privilege||privMapping[h.privilege])if(!h.id&&h.items)for(var i=0;i<h.items.length;i++){var j=h.items[i];if(!privMapping||!j.privilege||privMapping[j.privilege]){_ITC.container.switchTo(a,c.treeMapping[j.id],e),_ITC.navTree.ITCUI_NavTree("highlight",j.id),f=!1;break}}else if(h.id){_ITC.container.switchTo(a,c.treeMapping[h.id],e),_ITC.navTree.ITCUI_NavTree("highlight",h.id),f=!1;break}}else d.url&&_ITC.container.switchTo(a,d.url,e)}if(_ITC.adjustFrame(),_ITC.tabTreeStat[a]&&_ITC.navTree.ITCUI_NavTree("loadstate",_ITC.tabTreeStat[a]),!_ITC.noTree){var k=b||a;"ALWAYS_OFF"==_ITC.opts.treeDisplayState||"fold"==_ITC.specTreeState[k]?_ITC.halfDisplayTree(!0):_ITC.halfDisplayTree(!1)}FW.triggerEvent("onAfterTabSwitch")}}},_ITC.initEIPMode=function(){window._eipMode&&($("body").removeAttr("style").css({width:"100%",height:"100%"}),$("#"+_ITC.opts.tabId).parent().hide(),$("#itc_skin").remove(),$("#"+_ITC.opts.treeId).parent().removeClass("tree-width-p"),$("#"+_ITC.opts.treeId).remove())},_ITC.updateTreeTag=function(a){if(a.id){for(var b=!1,c=_ITC.tagList,d=0;d<c.length;d++){var e=c[d];if(e.id==a.id){c[d]=a,b=!0;break}}b||c.push(a),_ITC.navTree.ITCUI_NavTree("updateTag",c)}},_ITC.toggleNavTree=function(a){_ITC.specTreeState[_ITC.navTab.getCurrentTab()]=a,"fold"==a?_ITC.halfDisplayTree(!0):"expand"==a&&_ITC.halfDisplayTree(!1)},_ITC.switchTreeItem=function(a){_ITC.opts.treeSwitchFunc(a)},_ITC._switchTreeItem=function(a){var b=_ITC.opts;if(b.treeMapping)return _ITC.useSameTree?(_ITC.navTab.activeById(_ITC.useSameTree),_ITC.useSameTree=null,void _ITC.navTree.switchTo(a)):void _ITC.container.navigate(b.treeMapping[a])},_ITC.addTab=function(a,b){var c=_ITC.opts;null!=a&&a.id&&a.name&&(b=b||{},b.cache=b.cache||!1,c.tabMapping[a.id]||(c.tabMapping[a.id]=b,_ITC.navTab.insert(a)))},_ITC.addTabWithTree=function(a){var b=a.tabOpt||{},c=_ITC.opts;b.id=a.id,b.name=a.name;var d={tab:a.tab||(window._eipMode?null:_ITC.navTab.getCurrentTab()),url:a.url,id:a.id};a.initState&&(_ITC.specTreeState[id]=a.initState),c.tabMapping[a.id]?_ITC.navTab.activeById(a.id):(c.tabMapping[a.id]=d,_ITC.navTab.insert(b),_ITC.navTab.activeById(a.id))},_ITC.deleteTab=function(a){var b=_ITC.opts;delete b.tabMapping[a],_ITC.container.remove(a),delete _ITC.initedTab[a],delete _ITC.specTreeState[a]},_ITC.init=function(a){return _event_handler?(a=a||{},a.tabId=a.tabId||"itcui_nav_tab_container",a.bottomId=a.bottomId||"mainframe_bottom",a.contentId=a.contentId||"mainframe_content",a.treeId=a.treeId||"mainframe_navtree",$("#mainframe_bottom").append("<div style='display:none' class='tree-button-div tree-btn-left' id='btn_treefold' onclick='_ITC.mannalHideTree()'><div class='tree-hide-button'></div></div>"),a.tabs=a.tabs||null,a.tabMapping=a.tabMapping||null,a.tabSwitchFunc=a.tabSwitchFunc||_ITC._switchTab,a.treeWidth=$("#"+a.treeId).width()+1,a.treeSwitchFunc=a.treeSwitchFunc||_ITC._switchTreeItem,a.treeDisplayState="AUTO",_ITC.opts=a,_ITC.noTree=!1,_ITC.treeState=1,_ITC.initedTab={},_ITC.currTab=null,_ITC.tabTreeStat={},window._eipMode&&(a.tabs.push({name:"EIP弹窗",id:"eipWindow"}),a.tabMapping.eipWindow={url:window._eipMode,cache:!0}),a.tabs&&(_ITC.navTab=new ITCUI_Navigation("#"+a.tabId,a.tabs,{}),_ITC.navTab.init()),_ITC.container=new ITCUI_Container("#"+a.contentId),_event_handler.registerEvent("tabSwitch",_ITC.switchTab),_event_handler.registerEvent("navTreeItemClick",_ITC.switchTreeItem),_ITC.adjustFrame(),$(window).resize(function(){_ITC.adjustFrame()}),_ITC.sideFrameOpts={},FW.registerEvent("onAfterTabSwitch",function(a){_ITC.ctrlSideFrame()}),FW.registerEvent("navTreeItemClick",function(a){_ITC.ctrlSideFrame()}),_ITC.registerDialogScrollEvent(),$("#mainframe_navtree").mouseover(function(a){a.stopPropagation(),_ITC.isTreeButtonShow||(_ITC.isTreeButtonShow=!0,$("#btn_treefold").show()),_ITC.isTreeMouseOut=!1}),$("#btn_treefold").mouseover(function(a){a.stopPropagation(),_ITC.isButtonMouseOut=!1}),$("#mainframe_navtree").mouseout(function(){_ITC.isTreeMouseOut=!0,_ITC.tryHideTreeButton()}),$("#btn_treefold").mouseout(function(){_ITC.isButtonMouseOut=!0,_ITC.tryHideTreeButton()}),FW.registerEvent("onClickBlank",function(){$(".hide-on-click").each(function(){var a=$(this);a.hasClass("dropdown")?a.removeClass("open"):a.hide()})}),void _ITC.initEIPMode()):void FW.debug("没有找到_event_handler,ITC前端框架初始化失败")},_ITC.registerDialogScrollEvent=function(){FW.registerEvent("onDialogScroll",function(){for(var a=$("remove-on-scroll,hide-on-scroll"),b=0;b<a.length;b++){var c=a[b];UiCommon.adjustObjPosition(c)}})},_ITC.ctrlSideFrame=function(){if(_ITC.navTree){$(".sideAppendFrame").hide(),$("#mainframe_content").removeClass("pleft230").removeClass("sidetree-hide");var a=_ITC.navTab.getCurrentTab(),b=FW.getCurrentTabId(),c=_ITC.navTree.ITCUI_NavTree("getactive");for(var d in _ITC.sideFrameOpts){var e=_ITC.sideFrameOpts[d];if(e&&e.conditions&&isArray(e.conditions))for(var f=0;f<e.conditions.length;f++){var g=!1,h=!1,i=e.conditions[f];if(i.tree){var j=new RegExp(i.tree);j.test(c)&&(h=!0)}else h=!0;if(i.tab){var j=new RegExp(i.tab);j.test(a)&&(g=!0)}else g=!0;if(h&&g){$("#"+e.id).show(),$("#mainframe_content").addClass(e.containerCls),_ITC.sideTreeStat[b]||$("#mainframe_content").addClass("sidetree-hide"),_ITC.sideTreeStat[b]?$("#btn_sidetree_fold").hide():$("#mainframe_content").addClass("sidetree-hide");break}}}}};var _hideHandle=null;_ITC.tryHideTreeButton=function(){0==_ITC.isTreeButtonShow||$("#btn_treefold").hasClass("tree-btn-right")||(_hideHandle=setTimeout(function(){_ITC.isTreeMouseOut&&_ITC.isButtonMouseOut&&($("#btn_treefold").hide(),_ITC.isTreeButtonShow=!1)},150))};var _sideHideHandle=null;_ITC.tryHideSideTreeButton=function(){0==_ITC.isSideButtonShow||$("#btn_sidetree_fold").hasClass("tree-btn-right")||(_sideHideHandle=setTimeout(function(){_ITC.isSideTreeMouseOut&&_ITC.isSideBtnMouseOut&&($("#btn_sidetree_fold").hide(),_ITC.isSideButtonShow=!1)},150))},_ITC.switchDefaultTab=function(){var a=_ITC.opts;if(window._eipMode)return void _ITC.navTab.activeById("eipWindow");for(var b=0;b<a.tabs.length;b++){var c=a.tabs[b].id;if(!privMapping||privMapping[a.tabMapping[c].privilege])return void _ITC.navTab.activeById(c)}},_ITC.mannalHideTree=function(){var a=$("#btn_treefold").hasClass("tree-btn-right");a?(_ITC.opts.treeDisplayState="ALWAYS_ON",_ITC.halfDisplayTree(!1)):(_ITC.opts.treeDisplayState="ALWAYS_OFF",_ITC.halfDisplayTree(!0))},_ITC.closeWindow=function(){window.opener=null,window.open(" ","_self"," "),window.close()},_ITC._halfDisplayTree=function(a){window._eipMode||(a?($("#btn_treefold").addClass("tree-btn-right").removeClass("tree-btn-left").attr("title","单击展开导航菜单").css("left","19px"),$("#"+_ITC.opts.treeId).children(".itc_navtree").addClass("half-hide"),$("#"+_ITC.opts.bottomId).addClass("tree-width-p").addClass("tree-half-p"),$("#btn_treefold").show()):($("#btn_treefold").removeClass("tree-btn-right").addClass("tree-btn-left").attr("title","单击收起导航菜单").css("left","199px"),$("#"+_ITC.opts.treeId).children(".itc_navtree").removeClass("half-hide"),$("#"+_ITC.opts.bottomId).addClass("tree-width-p").removeClass("tree-half-p")))},_ITC.halfDisplayTree=function(a){_ITC.noTree||(a?($("#"+_ITC.opts.treeId).css({width:TREE_HALF_WIDTH+"px"}),_ITC._halfDisplayTree(a)):($("#"+_ITC.opts.treeId).css({width:_ITC.opts.treeWidth+"px"}),_ITC._halfDisplayTree(a)))};var lastAdjustTime=0;_ITC.adjustFrame=function(){var a=(new Date).getTime();if(a-lastAdjustTime>200){lastAdjustTime=a;var b=parseInt(document.documentElement.clientWidth);if("AUTO"==_ITC.opts.treeDisplayState){var c=$("#itc_navtree").hasClass("half-hide");1e3>b?c||_ITC.halfDisplayTree(!0):c&&_ITC.halfDisplayTree(!1)}}},_ITC.addSideFrame=function(a){if(!a.src)return void FW.debug("参数src缺失，必须指定附加iframe的url地址");if(!a.conditions)return void FW.debug("参数conditions缺失，至少应该指定显示在哪些选项卡下，这是一个list");if(a.id=a.id||_ITC.navTab.getCurrentTab(),_ITC.sideTreeStat[FW.getCurrentTabId()]=!0,!_ITC.sideFrameOpts[a.id]){a.containerCls=a.containerCls||"pleft230",_ITC.sideFrameOpts[a.id]=a;var b=_parent().$("#"+_ITC.opts.contentId);b.addClass(a.containerCls),$("<iframe id='"+a.id+"' frameborder='no' border='0' class='sideAppendFrame tree-border-right'></iframe>").prependTo(b).attr("src",a.src),$("#sidetree_mask").length||$("<div id='sidetree_mask'></div>").prependTo(b),$("#"+a.id).mouseover(function(a){a.stopPropagation(),_ITC.isSideButtonShow||(_ITC.isSideButtonShow=!0,$("#btn_sidetree_fold").show()),_ITC.isSideTreeMouseOut=!1}),$("#"+a.id).mouseout(function(){_ITC.isSideTreeMouseOut=!0,_ITC.tryHideSideTreeButton()}),$("#btn_sidetree_fold").length||($("#sidetree_mask").mouseover(function(a){a.stopPropagation(),_ITC.isSideButtonShow||(_ITC.isSideButtonShow=!0,$("#btn_sidetree_fold").show()),_ITC.isSideTreeMouseOut=!1}),$("#sidetree_mask").mouseout(function(){_ITC.isSideTreeMouseOut=!0,_ITC.tryHideSideTreeButton()}),$(b).append("<div style='display:none' class='tree-button-div' id='btn_sidetree_fold' onclick='_ITC.toggleSideTree()'><div class='sidetree-hide-button'></div></div>"),$("#btn_sidetree_fold").mouseover(function(a){a.stopPropagation(),_ITC.isSideBtnMouseOut=!1}),$("#btn_sidetree_fold").mouseout(function(){_ITC.isSideBtnMouseOut=!0,_ITC.tryHideSideTreeButton()}))}},_ITC.showSkinPage=function(){var a=_ITC.navTab.getCurrentTab(),b={name:"更换皮肤",id:"changeSkin",afterClose:function(b){_ITC.deleteTab(b),_ITC.navTab.activeById(a)},closeable:!0},c={url:skinPage};_ITC.addTab(b,c),_ITC.navTab.activeById("changeSkin")},_ITC.toggleSideTree=function(a){var b=null,c=FW.getCurrentTabId();b=void 0===a?_ITC.sideTreeStat[c]:a,_ITC.sideTreeStat[c]=!b;var d=$("#mainframe_content");b?(d.addClass("sidetree-hide"),$("#btn_sidetree_fold").attr("title","单击收起资产树")):(d.removeClass("sidetree-hide"),$("#btn_sidetree_fold").attr("title","单击展开资产树"))};var stack_bottomright={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25};_ITC.notify=function(a){a=a||{},a={title:a.title||"测试标题",text:a.text||"测试通知内容",type:a.type||"success",addclass:"stack-bottomright",icon:!1,stack:stack_bottomright,buttons:{sticker:!1}},new PNotify(a)},ITCUI_EventHandler=function(){var a={},b={},c={},d={};this.get=function(a){return c[a]},this.set=function(a,b,d){d?c[a]=JSON.parse(JSON.stringify(b)):c[a]=b},this.registerEvent=function(c,e,f){var g=a[c];g||(a[c]=[],g=a[c]);var h=(new Date).getTime()%1e5+""+Math.abs(Math.round(1e3*Math.random()));if(g.push([e,h]),b[h]=c,f){var i=FW.getCurrentTabId();d[i]||(d[i]=[]),d[i].push(h)}return h},this.unregisterEvent=function(c){var d=b[c];if(d){var e=a[d];if(e){var f=0;for(f=0;f<e.length;f++){var g=e[f];if(g[1]==c)break}for(var h=[],i=0;i<e.length;i++)i!=f&&h.push(e[f]);e=h,delete b[c]}}},this.triggerEvent=function(b,c){var d=a[b],e=[];if(d)for(var f=0;f<d.length;f++){var g=d[f];g&&g[0]&&e.push(g[0](c))}return e.length>0?e:-1}};var _event_handler=window._event_handler||_parent()._event_handler||new ITCUI_EventHandler,ITCUI_Navigation=function(renderTo,items,options){var handle={},items=items,options=options||{},currMaxTab=Math.floor((FW.getScnWidth()-180)/120),MAX_TAB=options.maxTab||(currMaxTab>10?10:currMaxTab),renderTo=renderTo,_this=this;this.findTabIndex=function(a){for(var b=0;b<items.length;b++){var c=items[b];if(c.id===a)return b}return-1},this.findTabItem=function(a){var b=this.findTabIndex(a);return-1!==b?items[b]:null},this.removeTabItem=function(a){var b=this.findTabIndex(a);-1!==b&&items.splice(b,1)},this.setTabItemActive=function(a){for(var b=0;b<items.length;b++){var c=items[b];c.active=c.id===a}},this.checkTabOptions=function(a){return a.sortNum=a.sortNum||0,a},this.init=function(){if(privMapping&&_ITC&&_ITC.opts){for(var a=[],b=0;b<items.length;b++){var c=items[b],d=_ITC.opts.tabMapping[c.id].privilege;d&&!privMapping[d]||a.push(c)}items=a}handle.container=$(renderTo).addClass("bbox").html(""),handle.navigation=$("<div></div>").addClass("itcui-navigation").appendTo(handle.container),handle.navigation.data("obj",this),handle.ul=$("<ul></ul>").addClass("itcui-navigation-ul").appendTo(handle.navigation),handle.separator=$("<div></div>").addClass("itcui-navigation-separator").appendTo(handle.navigation);for(var e="",b=0;b<items.length;b++){var c=items[b];e+=this.makeTabHtml(c),this.checkTabOptions(c)}e+='<li class="itcui-nav-menu-btn tA0 rC0 navitem radus-right" style="float:left"><b></b></li>',menuHtml='<div class="dropdown" style="position:absolute" id="itcui_nav_toggler_wrap">',menuHtml+='<a data-toggle="dropdown" id="itcui_nav_toggler"></a>',menuHtml+='<ul class="dropdown-menu" role="menu">',menuHtml+="</ul>",menuHtml+="</div>",handle.ul.html(e),$("body").append(menuHtml),this.bindEvent(),this.arrangeTab()},this.makeTabHtml=function(a){var b="";return a.name?(a.front||(a.front=""),b+=a.id?"<li class='navitem tA0 oZ0' style='width:120px' id='itcui_nav_tab_"+a.id+"'>":"<li class='navitem tA0 oZ0' style='width:120px'>",b+="<div class='kA0'></div>",b+="<span class='navitem-name'>"+a.name+"</span>",b+="<span class='navitem-rear' style='display:inline'>",b+=a.closeable?"<a class='navitem-close-button'></a>":"<a class='navitem-close-button' style='display:none'></a>",b+="</span>",b+="</li>"):""},this.arrangeTab=function(){items.sort(function(a,b){return a.active||b.active?a.active?-1:1:a.closeable&&b.closeable?a.sortNum-b.sortNum:a.closeable||b.closeable?a.closeable?-1:1:a.sortNum-b.sortNum});for(var a=0;a<items.length;a++){var b=items[a];b.isShow=MAX_TAB>a,b.jqTab||(b.jqTab=$("#itcui_nav_tab_"+b.id))}this.adjustTabStyle()},this.adjustTabStyle=function(){handle.ul.find(".navitem-selected").removeClass("navitem-selected").addClass("navitem");for(var a=0;a<items.length;a++){var b=items[a];b.jqTab.css("margin-left","-1"),b.isShow?b.jqTab.addClass("show").removeClass("hide"):b.jqTab.removeClass("show"),b.active&&this.getJqTab(b.id).addClass("navitem-selected")}var c=handle.ul.find(".oZ0");handle.ul.find(".last-sepline").removeClass("last-sepline"),c.removeClass("radus-left").removeClass("radus-right");var d=handle.ul.find(".oZ0.show");d.last().addClass("radus-right").children(".kA0").addClass("last-sepline"),d.first().addClass("radus-left").css("margin-left","0")},this.bindEvent=function(){handle.container.find(".navitem").each(function(a){_this.bindSingleEvent($(this))})},this.bindSingleEvent=function(a){a.on("mouseenter",function(a){$(this).hasClass("navitem-selected")||$(this).removeClass("navitem").addClass("navitem-hover")}).on("mouseleave",function(a){$(this).hasClass("navitem-selected")||$(this).addClass("navitem"),$(this).removeClass("navitem-hover")}).on("click",function(a){a.stopPropagation();var b=$(this),c=b.parents(".itcui-navigation").data("obj");if(b.attr("id")){var d=b.attr("id").replace("itcui_nav_tab_","");window.iRoute?location.href="#path=/"+d:c.activeById(d)}if(b.hasClass("itcui-nav-menu-btn")){menuHtml='<li targettab="_all"><a class="menuitem"><i class="itcui_close_tab"></i>关闭所有选项卡</a></li>';for(var e="",f=0;f<items.length;f++){var g=items[f];g.isShow||(e+='<li targettab="'+g.id+'"><a class="menuitem"><i class="itcui_menu_icon"></i>'+g.name+"</a></li>")}e&&(menuHtml+='<li class="divider"></li>'+e),$("#itcui_nav_toggler_wrap ul").html(menuHtml),$("#itcui_nav_toggler_wrap").data("ptr",c),$("#itcui_nav_toggler_wrap ul li").click(function(){var a=$(this),b=a.parent().parent().data("ptr"),c=a.attr("targettab");"_all"==c?b.closeAll():b.activeById(c)});var h=b.offset();$("#itcui_nav_toggler_wrap").css({top:h.top+32,left:h.left+3}),$("#itcui_nav_toggler").parent().addClass("hide-on-click"),$("#itcui_nav_toggler").dropdown("toggle")}}),a.find(".navitem-close-button").on("click",function(a){a.stopPropagation()}).on("mouseover",function(a){$(this).addClass("navitem-close-button-hover")}).on("mouseleave",function(a){$(this).removeClass("navitem-close-button-hover")}).on("click",function(a){var b=$(this),c=b.parent().parent().attr("id").replace("itcui_nav_tab_",""),d=b.parents(".itcui-navigation");d.data("obj").removeById(c)})},this.getJqTab=function(a){return $("#itcui_nav_tab_"+a)},this.activeById=function(a){if(a+=""){var b=null;a.indexOf("|")>0&&(idArr=a.split("|"),a=idArr[0],b=idArr[1]),-1===this.findTabIndex(a)&&(a=b||items[0].id);var c=this.findTabItem(a),d=this.getJqTab(a);if(this.setTabItemActive(a),!d.hasClass("itcui-nav-menu-btn")&&this.run(c.beforeClick,a)){_event_handler&&_event_handler.triggerEvent("tabSwitch",a);var e=c.click;return e&&this.run(e,a),this.arrangeTab(),!0}}},this.run=function(fun,arg){return fun?"string"==typeof fun?(fun=fun.replace(/\$arg/,arg),eval(fun),!0):fun(arg):!0},this.getCurrentTab=function(){for(var a=0;a<items.length;a++){var b=items[a];if(b.active)return b.id}},this.closeAll=function(){for(var a=handle.ul.children("li"),b=0;b<a.length;b++){var c=$(a[b]),d=c.find(".navitem-close-button");if(d.length>0&&"none"!=d.css("display")){var e=c.attr("id").replace("itcui_nav_tab_","");if(this.removeById(e))break}}},this.insert=function(a,b){b=b||{};var c=b.position||"last";if(a){var d=this.makeTabHtml(a);if("first"==c)handle.ul.prepend(d),this.bindSingleEvent(handle.ul.find(".navitem").first());else if("last"==c)this.bindSingleEvent(handle.ul.children(".itcui-nav-menu-btn").before(d).prev(".navitem"));else if(/before/.test(c)){var e="#itcui_nav_tab_"+c.replace("before:","");this.bindSingleEvent(handle.ul.find(e).before(d).prev(".navitem"))}else if(/after/.test(c)){var e="#itcui_nav_tab_"+c.replace("after:","");this.bindSingleEvent(handle.ul.find(e).after(d).next(".navitem"))}items.push(a),this.arrangeTab()}},this.removeById=function(a){var b=this.findTabItem(a);if(!b)return void FW.debug("no tab found for "+a);if(!this.run(b.beforeClose,a))return!0;this.getJqTab(a).remove(),items.splice(this.findTabIndex(a),1),this.run(b.afterClose,a);var c=FW.getFrame(FW.getCurrentTabId());c&&c._afterCloseCallBack&&c._afterCloseCallBack(a)},this.getEventMap=function(){for(var a={},b=0;b<items.length;b++){var c=items[b];a[c.id]=c}return a}};!function(a){a.fn.extend({ITCUI_NavTree:function(b,c,d){var e=200,f="itc_navtree",g=a(this),h=this,i=!1;if(h.initTree=function(b,c){a("#"+f).remove();for(var d='<div class="itc_navtree" id="'+f+'">',e=0;e<b.length;e++){treeGroup=b[e];var h=f+"_"+e;if(!(privMapping&&_ITC&&_ITC.opts&&treeGroup.privilege)||privMapping[treeGroup.privilege]){var i=treeGroup.grouptitle||treeGroup.title;if(treeGroup.items){var j="";treeGroup.initexpand&&(j=" itc_navtree_grouptitle_expand"),d+='<div class="itc_navtree_grouptitle'+j+'" id="'+h+'"><div class="navtree-arrow"></div>'+i+"</div>";var k=h+"_subitem";if(d+='<div id="'+k+'" class="navtree_subitem"',treeGroup.initexpand?g.data("expandedNode",h):d+=' style="display:none"',d+=">",treeGroup.items)for(var l=0;l<treeGroup.items.length;l++){var m=treeGroup.items[l];if(!(privMapping&&_ITC&&_ITC.opts)||privMapping[m.privilege]){var n=m.id||f+"_item_"+e+"_"+l;d+='<div class="itc_navtree_item" id="'+n+'">',d+=m.title+"</div>"}}d+="</div>"}else d+='<div class="itc_navtree_nochildren" id="'+treeGroup.id+'">'+i+"</div>"}}d+="</div>",g.append(d)},h.canTreeSwitch=function(a){if(_event_handler)for(var b=_event_handler.triggerEvent("navTreeItemBeforeClick",a),c=0;c<b.length;c++)if(b[c]===!1)return!1;return!0},h.addEvents=function(b,c){a("#"+f).find(".itc_navtree_item,.itc_navtree_nochildren").click(function(){var b=a(this);h.canTreeSwitch(this.id)&&(b.parents(".itc_navtree").find(".itc_navtree_item_selected").removeClass("itc_navtree_item_selected"),b.addClass("itc_navtree_item_selected"),_event_handler&&_event_handler.triggerEvent("navTreeItemClick",this.id))}),a("#"+f+" .itc_navtree_grouptitle").click(function(){h.expandNode(this)})},h.expandNode=function(b,c){var d=a(b).attr("id"),e=d+"_subitem",f="none"==a("#"+e).css("display")?!0:!1,g=a(b).parents(".itc_navtree");i&&g.find(".itc_navtree_grouptitle_expand").each(function(){g.attr("id")!=d&&(a(this).removeClass("itc_navtree_grouptitle_expand"),a(this).next(".navtree_subitem").hide())}),f?(c?a("#"+e).show():a("#"+e).slideDown(),a(b).addClass("itc_navtree_grouptitle_expand")):(c?a("#"+e).hide():a("#"+e).slideUp(),a(b).removeClass("itc_navtree_grouptitle_expand"))},h.switchTo=function(a){h.canTreeSwitch(a)&&(h.highlight(a),_event_handler&&_event_handler.triggerEvent("navTreeItemClick",a))},h.highlight=function(b,c){var d=a("#"+f);d.find(".itc_navtree_item_selected").removeClass("itc_navtree_item_selected");var e=d.find("#"+b);if(e.addClass("itc_navtree_item_selected"),!c){var g=e.parent();if(g.hasClass("navtree_subitem")){var i=g.prev(".itc_navtree_grouptitle");i.hasClass("itc_navtree_grouptitle_expand")||h.expandNode(i,!0)}}},h.getTreeState=function(){for(var b={},c=g.find(".itc_navtree_grouptitle"),d=0;d<c.length;d++){var e=a(c[d]);if(b[e.attr("id")]={items:{}},e.hasClass("itc_navtree_grouptitle_expand")){b[e.attr("id")].expanded=!0;for(var f=e.next(".navtree_subitem").find(".itc_navtree_item"),h=0;h<f.length;h++){var i=a(f[h]);i.hasClass("itc_navtree_item_selected")&&(b[e.attr("id")].items[i.attr("id")]={selected:!0})}}}for(var j=g.find(".itc_navtree_nochildren"),d=0;d<j.length;d++){var e=a(j[d]);e.hasClass("itc_navtree_item_selected")&&(b[e.attr("id")]={selected:!0})}return b},h.loadTreeState=function(b){for(var c in b){var d=a("#"+c);if(b[c].expanded?(d.addClass("itc_navtree_grouptitle_expand"),d.next(".navtree_subitem").show()):(d.removeClass("itc_navtree_grouptitle_expand"),d.next(".navtree_subitem").hide()),b[c].selected&&d.addClass("itc_navtree_item_selected"),b[c].items)for(var e in b[c].items){var d=b[c].items[e];d.selected&&a("#"+e).addClass("itc_navtree_item_selected")}}},h.getActiveItemId=function(){return g.find(".itc_navtree_item_selected").attr("id")},h.updateTag=function(b){for(var c=0;c<b.length;c++){var d=b[c];if(!d.id)return;var e=a("#"+d.id);if(!e.length||!e.hasClass("itc_navtree_grouptitle")&&!e.hasClass("itc_navtree_item"))return;if(e.children(".itc-badge-tp").remove(),d.tagValue){d.tagClass=d.tagClass||"";var f="<span class='itc-badge-tp' style='color:#B70004;margin-left:4px;'>("+d.tagValue+")</span>";e.append(f)}}},!window._eipMode){if("init"==b)d&&(d.width&&d.width>100&&(e=d.width),d.expandOnlyOne===!1&&(i=!1)),this.initTree(c,d),this.addEvents(c,d);else if("highlight"==b)h.highlight(c,d);else if("switchto"==b)h.switchTo(c);else{if("getstate"==b)return h.getTreeState();if("loadstate"==b)h.loadTreeState(c);else{if("getactive"==b)return h.getActiveItemId();if("updateTag"==b)return h.updateTag(c)}}return g}}})}(jQuery),$(document).ready(function(){if(_itc_initskinner(),window.defaultSkin&&window._skins)for(var a in _skins)for(var b=0;b<_skins[a].length;b++)if(_skins[a][b].id==defaultSkin){var c=_skins[a][b].options;c&&changeFSImage(defaultSkin,c)}});var iRouteBeta=function(){this.cachedPatterns=null};iRouteBeta.prototype.init=function(){var a=this;setTimeout(function(){a.openTab()},500)},iRouteBeta.prototype.go=function(a){for(var b=null,c=0;c<_route.length;c++)_route[c].routeId==a&&(b=_route[c]);var d=JSON.parse(decodeURIComponent(b.urlHash));d.id&&(d.id=d.id.replace("${rand}",(new Date).getTime())),FW.addTabWithTree(d)},iRouteBeta.prototype.openTab=function(){var a=location.href;if(!(!a.indexOf("#")<0)){for(var b=a.indexOf("#"),c=a.substring(b+1),d=/([^=]+)=([^&]+)/g,e={},f=d.exec(c);f;)e[f[1]]=f[2],f=d.exec(c);if(e.routeId&&window._route){var g=e.routeId;if(0==g.indexOf("Function")){var h=g.substring(9);if(window[h]&&"function"==typeof window[h])return void window[h]()}iRouteBeta.go(g)}}},window.iRouteBeta=new iRouteBeta,window.iRouteBeta.init(),function(a,b){"function"==typeof define&&define.amd?define("pnotify",["jquery"],function(c){return b(c,a)}):"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("jquery"),global||a):a.PNotify=b(a.jQuery,a)}("undefined"!=typeof window?window:this,function(a,b){var c=function(b){var d,e,f={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:a("body"),modal:!1},g=a(b),h=function(){e=a("body"),j.prototype.options.stack.context=e,g=a(b),g.bind("resize",function(){d&&clearTimeout(d),d=setTimeout(function(){j.positionAll(!0)},10)})},i=function(b){var c=a("<div />",{"class":"ui-pnotify-modal-overlay"});return c.prependTo(b.context),b.overlay_close&&c.click(function(){j.removeStack(b)}),c},j=function(a){this.parseOptions(a),this.init()};return a.extend(j.prototype,{version:"3.0.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:f},modules:{},runModules:function(a,b){var c;for(var d in this.modules)c="object"==typeof b&&d in b?b[d]:b,"function"==typeof this.modules[d][a]&&(this.modules[d].notice=this,this.modules[d].options="object"==typeof this.options[d]?this.options[d]:{},this.modules[d][a](this,"object"==typeof this.options[d]?this.options[d]:{},c))},state:"initializing",timer:null,animTimer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var b=this;return this.modules={},a.extend(!0,this.modules,j.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=j.styling[this.options.styling],this.elem=a("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(a){if(b.options.mouse_reset&&"out"===b.animating){if(!b.timerHide)return;b.cancelRemove()}b.options.hide&&b.options.mouse_reset&&b.cancelRemove()},mouseleave:function(a){b.options.hide&&b.options.mouse_reset&&"out"!==b.animating&&b.queueRemove(),j.positionAll()}}),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=a("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),this.options.icon!==!1&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=a("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),this.options.title===!1?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=a("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),this.options.text===!1?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?j.notices=a.merge([this],j.notices):j.notices=a.merge(j.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(b){var c=this.options;return this.parseOptions(c,b),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==c.cornerclass&&this.container.removeClass("ui-corner-all "+c.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==c.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),this.options.addclass===!1?this.elem.removeClass(c.addclass):this.options.addclass!==c.addclass&&this.elem.removeClass(c.addclass).addClass(this.options.addclass),
this.options.title===!1?this.title_container.slideUp("fast"):this.options.title!==c.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),c.title===!1&&this.title_container.slideDown(200)),this.options.text===!1?this.text_container.slideUp("fast"):this.options.text!==c.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),c.text===!1&&this.text_container.slideDown(200)),this.options.type!==c.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==c.icon||this.options.icon===!0&&this.options.type!==c.type)&&(this.container.find("div.ui-pnotify-icon").remove(),this.options.icon!==!1&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==c.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==c.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?c.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",c),this},open:function(){this.state="opening",this.runModules("beforeOpen");var a=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:e),"top"!==this.options.stack.push&&this.position(!0),this.animateIn(function(){a.queuePosition(!0),a.options.hide&&a.queueRemove(),a.state="open",a.runModules("afterOpen")}),this},remove:function(c){this.state="closing",this.timerHide=!!c,this.runModules("beforeClose");var d=this;return this.timer&&(b.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(d.state="closed",d.runModules("afterClose"),d.queuePosition(!0),d.options.remove&&d.elem.detach(),d.runModules("beforeDestroy"),d.options.destroy&&null!==j.notices){var b=a.inArray(d,j.notices);-1!==b&&j.notices.splice(b,1)}d.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(b,c){this.options=a.extend(!0,{},j.prototype.options),this.options.stack=j.prototype.options.stack;for(var d,e=[b,c],f=0;f<e.length&&(d=e[f],"undefined"!=typeof d);f++)if("object"!=typeof d)this.options.text=d;else for(var g in d)this.modules[g]?a.extend(!0,this.options[g],d[g]):this.options[g]=d[g]},animateIn:function(a){this.animating="in";var b=this;a=function(){b.animTimer&&clearTimeout(b.animTimer),"in"===b.animating&&(b.elem.is(":visible")?(this&&this.call(),b.animating=!1):b.animTimer=setTimeout(a,40))}.bind(a),"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",a).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(a,650)):(this.elem.addClass("ui-pnotify-in"),a())},animateOut:function(a){this.animating="out";var b=this;a=function(){b.animTimer&&clearTimeout(b.animTimer),"out"===b.animating&&("0"!=b.elem.css("opacity")&&b.elem.is(":visible")?b.animTimer=setTimeout(a,40):(b.elem.removeClass("ui-pnotify-in"),this&&this.call(),b.animating=!1))}.bind(a),"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",a).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(a,650)):(this.elem.removeClass("ui-pnotify-in"),a())},position:function(a){var b=this.options.stack,c=this.elem;if("undefined"==typeof b.context&&(b.context=e),b){"number"!=typeof b.nextpos1&&(b.nextpos1=b.firstpos1),"number"!=typeof b.nextpos2&&(b.nextpos2=b.firstpos2),"number"!=typeof b.addpos2&&(b.addpos2=0);var d=!c.hasClass("ui-pnotify-in");if(!d||a){b.modal&&(b.overlay?b.overlay.show():b.overlay=i(b)),c.addClass("ui-pnotify-move");var f,h,j;switch(b.dir1){case"down":j="top";break;case"up":j="bottom";break;case"left":j="right";break;case"right":j="left"}f=parseInt(c.css(j).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(f)&&(f=0),"undefined"!=typeof b.firstpos1||d||(b.firstpos1=f,b.nextpos1=b.firstpos1);var k;switch(b.dir2){case"down":k="top";break;case"up":k="bottom";break;case"left":k="right";break;case"right":k="left"}switch(h=parseInt(c.css(k).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(h)&&(h=0),"undefined"!=typeof b.firstpos2||d||(b.firstpos2=h,b.nextpos2=b.firstpos2),("down"===b.dir1&&b.nextpos1+c.height()>(b.context.is(e)?g.height():b.context.prop("scrollHeight"))||"up"===b.dir1&&b.nextpos1+c.height()>(b.context.is(e)?g.height():b.context.prop("scrollHeight"))||"left"===b.dir1&&b.nextpos1+c.width()>(b.context.is(e)?g.width():b.context.prop("scrollWidth"))||"right"===b.dir1&&b.nextpos1+c.width()>(b.context.is(e)?g.width():b.context.prop("scrollWidth")))&&(b.nextpos1=b.firstpos1,b.nextpos2+=b.addpos2+("undefined"==typeof b.spacing2?25:b.spacing2),b.addpos2=0),"number"==typeof b.nextpos2&&(b.animation?c.css(k,b.nextpos2+"px"):(c.removeClass("ui-pnotify-move"),c.css(k,b.nextpos2+"px"),c.css(k),c.addClass("ui-pnotify-move"))),b.dir2){case"down":case"up":c.outerHeight(!0)>b.addpos2&&(b.addpos2=c.height());break;case"left":case"right":c.outerWidth(!0)>b.addpos2&&(b.addpos2=c.width())}switch("number"==typeof b.nextpos1&&(b.animation?c.css(j,b.nextpos1+"px"):(c.removeClass("ui-pnotify-move"),c.css(j,b.nextpos1+"px"),c.css(j),c.addClass("ui-pnotify-move"))),b.dir1){case"down":case"up":b.nextpos1+=c.height()+("undefined"==typeof b.spacing1?25:b.spacing1);break;case"left":case"right":b.nextpos1+=c.width()+("undefined"==typeof b.spacing1?25:b.spacing1)}}return this}},queuePosition:function(a,b){return d&&clearTimeout(d),b||(b=10),d=setTimeout(function(){j.positionAll(a)},b),this},cancelRemove:function(){return this.timer&&b.clearTimeout(this.timer),this.animTimer&&b.clearTimeout(this.animTimer),"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var a=this;return this.cancelRemove(),this.timer=b.setTimeout(function(){a.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),a.extend(j,{notices:[],reload:c,removeAll:function(){a.each(j.notices,function(){this.remove&&this.remove(!1)})},removeStack:function(b){a.each(j.notices,function(){this.remove&&this.options.stack===b&&this.remove(!1)})},positionAll:function(b){if(d&&clearTimeout(d),d=null,j.notices&&j.notices.length)a.each(j.notices,function(){var a=this.options.stack;a&&(a.overlay&&a.overlay.hide(),a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=b)}),a.each(j.notices,function(){this.position()});else{var c=j.prototype.options.stack;c&&(delete c.nextpos1,delete c.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),j.styling.fontawesome=a.extend({},j.styling.bootstrap3),a.extend(j.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),b.document.body?h():a(h),j};return c(b)}),function(a,b){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],b):"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("jquery"),require("./pnotify")):b(a.jQuery,a.PNotify)}("undefined"!=typeof window?window:this,function(a,b){b.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}},b.prototype.modules.buttons={closer:null,sticker:null,init:function(b,c){var d=this;b.elem.on({mouseenter:function(a){!d.options.sticker||b.options.nonblock&&b.options.nonblock.nonblock&&!d.options.show_on_nonblock||d.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible"),!d.options.closer||b.options.nonblock&&b.options.nonblock.nonblock&&!d.options.show_on_nonblock||d.closer.css("visibility","visible")},mouseleave:function(a){d.options.sticker_hover&&d.sticker.css("visibility","hidden"),d.options.closer_hover&&d.closer.css("visibility","hidden")}}),this.sticker=a("<div />",{"class":"ui-pnotify-sticker","aria-role":"button","aria-pressed":b.options.hide?"false":"true",tabindex:"0",title:b.options.hide?c.labels.stick:c.labels.unstick,css:{cursor:"pointer",visibility:c.sticker_hover?"hidden":"visible"},click:function(){b.options.hide=!b.options.hide,b.options.hide?b.queueRemove():b.cancelRemove(),a(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var c=null===d.options.classes.pin_up?b.styles.pin_up:d.options.classes.pin_up,e=null===d.options.classes.pin_down?b.styles.pin_down:d.options.classes.pin_down;a(this).attr("title",b.options.hide?d.options.labels.stick:d.options.labels.unstick).children().attr("class","").addClass(b.options.hide?c:e).attr("aria-pressed",b.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(b.container),(!c.sticker||b.options.nonblock&&b.options.nonblock.nonblock&&!c.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=a("<div />",{"class":"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:c.labels.close,css:{cursor:"pointer",visibility:c.closer_hover?"hidden":"visible"},click:function(){b.remove(!1),d.sticker.css("visibility","hidden"),d.closer.css("visibility","hidden")}}).append(a("<span />",{"class":null===c.classes.closer?b.styles.closer:c.classes.closer})).prependTo(b.container),(!c.closer||b.options.nonblock&&b.options.nonblock.nonblock&&!c.show_on_nonblock)&&this.closer.css("display","none")},update:function(a,b){!b.closer||a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock?this.closer.css("display","none"):b.closer&&this.closer.css("display","block"),!b.sticker||a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock?this.sticker.css("display","none"):b.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify:buttons:toggleStick"),this.closer.find("span").attr("class","").addClass(null===b.classes.closer?a.styles.closer:b.classes.closer),b.sticker_hover?this.sticker.css("visibility","hidden"):a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock||this.sticker.css("visibility","visible"),b.closer_hover?this.closer.css("visibility","hidden"):a.options.nonblock&&a.options.nonblock.nonblock&&!b.show_on_nonblock||this.closer.css("visibility","visible")}},a.extend(b.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"}),a.extend(b.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),a.extend(b.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),a.extend(b.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),a.extend(b.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(a,b){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],b):"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("jquery"),require("./pnotify")):b(a.jQuery,a.PNotify)}("undefined"!=typeof window?window:this,function(a,b){var c,d=function(a,b){return(d="Notification"in window?function(a,b){return new Notification(a,b)}:"mozNotification"in navigator?function(a,b){return navigator.mozNotification.createNotification(a,b.body,b.icon).show()}:"webkitNotifications"in window?function(a,b){return window.webkitNotifications.createNotification(b.icon,a,b.body)}:function(a,b){return null})(a,b)};b.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null},b.prototype.modules.desktop={tag:null,icon:null,genNotice:function(a,b){null===b.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+a.options.type+".png":b.icon===!1?this.icon=null:this.icon=b.icon,(null===this.tag||null!==b.tag)&&(this.tag=null===b.tag?"PNotify-"+Math.round(1e6*Math.random()):b.tag),a.desktop=d(a.options.title,{icon:this.icon,body:b.text||a.options.text,tag:this.tag}),!("close"in a.desktop)&&"cancel"in a.desktop&&(a.desktop.close=function(){a.desktop.cancel()}),a.desktop.onclick=function(){a.elem.trigger("click")},a.desktop.onclose=function(){"closing"!==a.state&&"closed"!==a.state&&a.remove()}},init:function(a,d){return d.desktop?(c=b.desktop.checkPermission(),0!==c?void(d.fallback||(a.options.auto_display=!1)):void this.genNotice(a,d)):void 0},update:function(a,b,d){0!==c&&b.fallback||!b.desktop||this.genNotice(a,b)},beforeOpen:function(a,b){0!==c&&b.fallback||!b.desktop||a.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterOpen:function(a,b){0!==c&&b.fallback||!b.desktop||(a.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"show"in a.desktop&&a.desktop.show())},beforeClose:function(a,b){0!==c&&b.fallback||!b.desktop||a.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterClose:function(a,b){0!==c&&b.fallback||!b.desktop||(a.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"close"in a.desktop&&a.desktop.close())}},b.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},c=b.desktop.checkPermission()});
//# sourceMappingURL=itcui_frame.min.js.map
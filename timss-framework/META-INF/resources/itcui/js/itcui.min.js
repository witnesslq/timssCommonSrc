+function(d){var b=function(f,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",f,e)};b.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};b.prototype.init=function(l,j,g){this.enabled=true;this.type=l;this.$element=d(j);this.options=this.getOptions(g);var k=this.options.trigger.split(" ");for(var h=k.length;h--;){var f=k[h];if(f=="click"){this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this))}else{if(f!="manual"){var m=f=="hover"?"mouseenter":"focus";var e=f=="hover"?"mouseleave":"blur";this.$element.on(m+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(e+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}}this.options.selector?(this._options=d.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.getOptions=function(e){e=d.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e};b.prototype.getDelegateOptions=function(){var e={};var f=this.getDefaults();this._options&&d.each(this._options,function(g,h){if(f[g]!=h){e[g]=h}});return e};b.prototype.enter=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show){return e.show()}e.timeout=setTimeout(function(){if(e.hoverState=="in"){e.show()}},e.options.delay.show)};b.prototype.leave=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide){return e.hide()}e.timeout=setTimeout(function(){if(e.hoverState=="out"){e.hide()}},e.options.delay.hide)};b.prototype.show=function(){var p=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(p);if(p.isDefaultPrevented()){return}var k=this.tip();this.setContent();if(this.options.animation){k.addClass("fade")}var j=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement;var t=/\s?auto?\s?/i;var u=t.test(j);if(u){j=j.replace(t,"")||"top"}k.detach().css({top:0,left:0,display:"block"}).addClass(j);this.options.container?k.appendTo(this.options.container):k.insertAfter(this.$element);var q=this.getPosition();var f=k[0].offsetWidth;var m=k[0].offsetHeight;if(u){var i=this.$element.parent();var h=j;var r=document.documentElement.scrollTop||document.body.scrollTop;var s=this.options.container=="body"?window.innerWidth:i.outerWidth();var n=this.options.container=="body"?window.innerHeight:i.outerHeight();var l=this.options.container=="body"?0:i.offset().left;j=j=="bottom"&&q.top+q.height+m-r>n?"top":j=="top"&&q.top-r-m<0?"bottom":j=="right"&&q.right+f>s?"left":j=="left"&&q.left-f<l?"right":j;k.removeClass(h).addClass(j)}var g=this.getCalculatedOffset(j,q,f,m);this.applyPlacement(g,j);this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(j,k){var h;var l=this.tip();var g=l[0].offsetWidth;var p=l[0].offsetHeight;var f=parseInt(l.css("margin-top"),10);var i=parseInt(l.css("margin-left"),10);if(isNaN(f)){f=0}if(isNaN(i)){i=0}j.top=j.top+f;j.left=j.left+i;l.offset(j).addClass("in");var e=l[0].offsetWidth;var m=l[0].offsetHeight;if(k=="top"&&m!=p){h=true;j.top=j.top+p-m}if(/bottom|top/.test(k)){var n=0;if(j.left<0){n=j.left*-2;j.left=0;l.offset(j);e=l[0].offsetWidth;m=l[0].offsetHeight}this.replaceArrow(n-g+e,e,"left")}else{this.replaceArrow(m-p,m,"top")}if(h){l.offset(j)}};b.prototype.replaceArrow=function(g,f,e){this.arrow().css(e,g?(50*(1-g/f)+"%"):"")};b.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](e);f.removeClass("fade in top bottom left right")};b.prototype.hide=function(){var g=this;var i=this.tip();var h=d.Event("hide.bs."+this.type);function f(){if(g.hoverState!="in"){i.detach()}}this.$element.trigger(h);if(h.isDefaultPrevented()){return}i.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?i.one(d.support.transition.end,f).emulateTransitionEnd(150):f();this.$element.trigger("hidden.bs."+this.type);return this};b.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(){var e=this.$element[0];return d.extend({},(typeof e.getBoundingClientRect=="function")?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(e,h,f,g){return e=="bottom"?{top:h.top+h.height,left:h.left+h.width/2-f/2}:e=="top"?{top:h.top-g,left:h.left+h.width/2-f/2}:e=="left"?{top:h.top+h.height/2-g/2,left:h.left-f}:{top:h.top+h.height/2-g/2,left:h.left+h.width}};b.prototype.getTitle=function(){var g;var e=this.$element;var f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g};b.prototype.tip=function(){return this.$tip=this.$tip||d(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};b.prototype.enable=function(){this.enabled=true};b.prototype.disable=function(){this.enabled=false};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(g){var f=g?d(g.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;f.tip().hasClass("in")?f.leave(f):f.enter(f)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=d.fn.tooltip;d.fn.tooltip=function(e){return this.each(function(){var h=d(this);var g=h.data("bs.tooltip");var f=typeof e=="object"&&e;if(!g){h.data("bs.tooltip",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})};d.fn.tooltip.Constructor=b;d.fn.tooltip.noConflict=function(){d.fn.tooltip=a;return this}}(jQuery);
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
;
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
(function(a){a.matchMedia=a.matchMedia||function(g,h){var e,b=g.documentElement,d=b.firstElementChild||b.firstChild,f=g.createElement("body"),i=g.createElement("div");i.id="mq-test-1";i.style.cssText="position:absolute;top:-100em";f.style.background="none";f.appendChild(i);return function(j){i.innerHTML='&shy;<style media="'+j+'"> #mq-test-1 { width: 42px; }</style>';b.insertBefore(f,d);e=i.offsetWidth===42;b.removeChild(f);return{matches:e,media:j}}}(a.document)})(this);
/*! Respond.js v1.4.0: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */
(function(l){var x={};l.respond=x;x.update=function(){};var d=[],e=function(){var w=false;try{w=new l.XMLHttpRequest()}catch(C){w=new l.ActiveXObject("Microsoft.XMLHTTP")}return function(){return w}}(),p=function(w,D){var C=e();if(!C){return}C.open("GET",w,true);C.onreadystatechange=function(){if(C.readyState!==4||C.status!==200&&C.status!==304){return}D(C.responseText)};if(C.readyState===4){return}C.send(null)},t=function(w){return w.replace(x.regex.minmaxwh,"").match(x.regex.other)};x.ajax=p;x.queue=d;x.unsupportedmq=t;x.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g};x.mediaQueriesSupported=l.matchMedia&&l.matchMedia("only all")!==null&&l.matchMedia("only all").matches;if(x.mediaQueriesSupported){return}var B=l.document,v=B.documentElement,i=[],k=[],s=[],q={},h=30,f=B.getElementsByTagName("head")[0]||v,g=B.getElementsByTagName("base")[0],b=f.getElementsByTagName("link"),m,u,r,A=function(){var D,G=B.createElement("div"),w=B.body,F=v.style.fontSize,E=w&&w.style.fontSize,C=false;G.style.cssText="position:absolute;font-size:1em;width:1em";if(!w){w=C=B.createElement("body");w.style.background="none"}v.style.fontSize="100%";w.style.fontSize="100%";w.appendChild(G);if(C){v.insertBefore(w,v.firstChild)}D=G.offsetWidth;if(C){v.removeChild(w)}else{w.removeChild(G)}v.style.fontSize=F;if(E){w.style.fontSize=E}D=r=parseFloat(D);return D},j=function(N){var S="clientWidth",E=v[S],C=B.compatMode==="CSS1Compat"&&E||B.body[S]||E,Q={},R=b[b.length-1],D=new Date().getTime();if(N&&m&&D-m<h){l.clearTimeout(u);u=l.setTimeout(j,h);return}else{m=D}for(var L in i){if(i.hasOwnProperty(L)){var O=i[L],H=O.minw,K=O.maxw,M=H===null,P=K===null,w="em";if(!!H){H=parseFloat(H)*(H.indexOf(w)>-1?r||A():1)}if(!!K){K=parseFloat(K)*(K.indexOf(w)>-1?r||A():1)}if(!O.hasquery||(!M||!P)&&(M||C>=H)&&(P||C<=K)){if(!Q[O.media]){Q[O.media]=[]}Q[O.media].push(k[O.rules])}}}for(var J in s){if(s.hasOwnProperty(J)){if(s[J]&&s[J].parentNode===f){f.removeChild(s[J])}}}s.length=0;for(var I in Q){if(Q.hasOwnProperty(I)){var G=B.createElement("style"),F=Q[I].join("\n");G.type="text/css";G.media=I;f.insertBefore(G,R.nextSibling);if(G.styleSheet){G.styleSheet.cssText=F}else{G.appendChild(B.createTextNode(F))}s.push(G)}}},n=function(M,w,D){var K=M.replace(x.regex.comments,"").replace(x.regex.keyframes,"").match(x.regex.media),N=K&&K.length||0;w=w.substring(0,w.lastIndexOf("/"));var C=function(O){return O.replace(x.regex.urls,"$1"+w+"$2$3")},E=!N&&D;if(w.length){w+="/"}if(E){N=1}for(var H=0;H<N;H++){var I,J,F,L;if(E){I=D;k.push(C(M))}else{I=K[H].match(x.regex.findStyles)&&RegExp.$1;k.push(RegExp.$2&&C(RegExp.$2))}F=I.split(",");L=F.length;for(var G=0;G<L;G++){J=F[G];if(t(J)){continue}i.push({media:J.split("(")[0].match(x.regex.only)&&RegExp.$2||"all",rules:k.length-1,hasquery:J.indexOf("(")>-1,minw:J.match(x.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:J.match(x.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}j()},z=function(){if(d.length){var w=d.shift();p(w.href,function(C){n(C,w.href,w.media);q[w.href]=true;l.setTimeout(function(){z()},0)})}},a=function(){for(var E=0;E<b.length;E++){var D=b[E],C=D.href,F=D.media,w=D.rel&&D.rel.toLowerCase()==="stylesheet";if(!!C&&w&&!q[C]){if(D.styleSheet&&D.styleSheet.rawCssText){n(D.styleSheet.rawCssText,C,F);q[C]=true}else{if(!/^([a-zA-Z:]*\/\/)/.test(C)&&!g||C.replace(RegExp.$1,"").split("/")[0]===l.location.host){if(C.substring(0,2)==="//"){C=l.location.protocol+C}d.push({href:C,media:F})}}}}z()};a();x.update=a;x.getEmValue=A;function y(){j(true)}if(l.addEventListener){l.addEventListener("resize",y,false)}else{if(l.attachEvent){l.attachEvent("onresize",y)}}})(this);$(document).ready(function(){$(".btn").on("mouseup",function(){$(this).blur()})});+function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},b.DEFAULTS,e)};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var i="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g=g+"Text";if(!f.resetText){e.data("resetText",e[h]())}e[h](f[g]||this.options[g]);setTimeout(function(){g=="loadingText"?e.addClass(i).attr(i,i):e.removeClass(i).removeAttr(i)},0)};b.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');var f=true;if(e.length){var g=this.$element.find("input");if(g.prop("type")==="radio"){if(g.prop("checked")&&this.$element.hasClass("active")){f=false}else{e.find(".active").removeClass("active")}}if(f){g.prop("checked",!this.$element.hasClass("active")).trigger("change")}}if(f){this.$element.toggleClass("active")}};var a=d.fn.button;d.fn.button=function(e){return this.each(function(){var h=d(this);var g=h.data("bs.button");var f=typeof e=="object"&&e;if(!g){h.data("bs.button",(g=new b(this,f)))}if(e=="toggle"){g.toggle()}else{if(e){g.setState(e)}}})};d.fn.button.Constructor=b;d.fn.button.noConflict=function(){d.fn.button=a;return this};d(document).on("click.bs.button.data-api","[data-toggle^=button]",function(g){var f=d(g.target);if(!f.hasClass("btn")){f=f.closest(".btn")}f.button("toggle");g.preventDefault()})}(jQuery);+function(h){var f=".dropdown-backdrop";var b="[data-toggle=dropdown]";var a=function(i){h(i).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(l){var k=h(this);if(k.is(".disabled, :disabled")){return}var j=g(k);var i=j.hasClass("open");e();if(!i){if("ontouchstart" in document.documentElement&&!j.closest(".navbar-nav").length){h('<div class="dropdown-backdrop"/>').insertAfter(h(this)).on("click",e)}j.trigger(l=h.Event("show.bs.dropdown"));if(l.isDefaultPrevented()){return}j.toggleClass("open").trigger("shown.bs.dropdown");k.focus()}return false};a.prototype.keydown=function(m){if(!/(38|40|27)/.test(m.keyCode)){return}var l=h(this);m.preventDefault();m.stopPropagation();if(l.is(".disabled, :disabled")){return}var k=g(l);var j=k.hasClass("open");if(!j||(j&&m.keyCode==27)){if(m.which==27){k.find(b).focus()}return l.click()}var n=h("[role=menu] li:not(.divider):visible a",k);if(!n.length){return}var i=n.index(n.filter(":focus"));if(m.keyCode==38&&i>0){i--}if(m.keyCode==40&&i<n.length-1){i++}if(!~i){i=0}n.eq(i).focus()};function e(){h(f).remove();h(b).each(function(j){var i=g(h(this));if(!i.hasClass("open")){return}i.trigger(j=h.Event("hide.bs.dropdown"));if(j.isDefaultPrevented()){return}i.removeClass("open").trigger("hidden.bs.dropdown")})}function g(k){var i=k.attr("data-target");if(!i){i=k.attr("href");i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}var j=i&&h(i);return j&&j.length?j:k.parent()}var d=h.fn.dropdown;h.fn.dropdown=function(i){return this.each(function(){var k=h(this);var j=k.data("bs.dropdown");if(!j){k.data("bs.dropdown",(j=new a(this)))}if(typeof i=="string"){j[i].call(k)}})};h.fn.dropdown.Constructor=a;h.fn.dropdown.noConflict=function(){h.fn.dropdown=d;return this};h(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(jQuery);var privMapping=window.privMapping||_parent().privMapping||null;var itcui=itcui||{};itcui.combo_displayed=false;function ITC_GetAbsPos(e){var f=$(e);var b=f.offset().left;var a=f.offset().top;while(f.attr("parentNode")){f=f.parent();b+=f.offset().left;a+=f.offset().top}var d={left:b,top:a};return d}function _parent(){if(typeof(window)=="undefined"){FW.debug("window未定义，为什么？在IE下调调看，是不是又执行了已释放的代码");return null}if(window._xssEmbbed||!window.parent||window.parent.document==document){return window}else{return window.parent}}function ITC_Len(e){var a=e.length;var b=0;for(var d=0;d<a;d++){if(e.charCodeAt(d)<27||e.charCodeAt(d)>126){b+=2}else{b++}}return b}function ITC_Substr(g,h,f){var e=0;c=0;a=0;rstr="";var d=g.length;var b=ITC_Len(g);if(h<0){h=b+h}if(f<1){f=b+f}for(e=0;e<d;e++){if(c>=h){break}var a=g.charCodeAt(e);if(a<127){c+=1}else{c+=2}}for(e=e;e<d;e++){var a=g.charCodeAt(e);if(a<127){c+=1}else{c+=2}rstr+=g.charAt(e);if(c>=f){break}}return rstr}function isArray(a){return Object.prototype.toString.call(a)==="[object Array]"}function priv(a){if(!privMapping){return}$("div,span,button").each(function(){var d=$(this);var b=d.attr("privilege");if(b){if(!privMapping[b]){if(!a){d.css("display","none")}else{d.remove()}}}})}Date.prototype.format=function(b){var d={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var a in d){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length==1?d[a]:("00"+d[a]).substr((""+d[a]).length))}}return b};ITCUI_EventHandler=function(){var a={};var e={};var b={};var d={};this.get=function(f){return b[f]};this.set=function(f,h,g){if(g){b[f]=JSON.parse(JSON.stringify(h))}else{b[f]=h}};this.registerEvent=function(j,k,i){var g=a[j];if(!g){a[j]=[];g=a[j]}var l=(new Date().getTime()%100000)+""+Math.abs(Math.round(Math.random()*1000));g.push([k,l]);e[l]=j;if(i){var h=FW.getCurrentTabId();if(!d[h]){d[h]=[]}d[h].push(l)}return l};this.unregisterEvent=function(n){var m=e[n];if(!m){return}var g=a[m];if(!g){return}var k=0;for(k=0;k<g.length;k++){var f=g[k];if(f[1]==n){break}}var l=[];for(var h=0;h<g.length;h++){if(h!=k){l.push(g[k])}}g=l;delete (e[n])};this.triggerEvent=function(l,j){var g=a[l];var h=[];if(g){for(var k=0;k<g.length;k++){var f=g[k];if(f&&f[0]){h.push(f[0](j))}}}if(h.length>0){return h}return -1}};var _event_handler=window._event_handler||_parent()._event_handler||new ITCUI_EventHandler();(function(h,d){var j=".inputEvent ",e="bound.inputEvent",k="value.inputEvent",f="delegated.inputEvent",l=["input","textInput","propertychange","paste","cut","keydown","keyup","drop",""].join(j),i=["focusin","mouseover","dragstart",""].join(j)+l,a={TEXTAREA:d,INPUT:d},g={paste:d,cut:d,keydown:d,drop:d,textInput:d};function b(m){return h(m).prop("contenteditable")=="true"||m.tagName in a}h.event.special.txtinput={setup:function(t,n,v,u){var m,q,s=this,p=h(this),r=false;if(b(s)){q=h.data(s,e)||0;if(!q){p.bind(l,v)}h.data(s,e,++q);h.data(s,k,s.value)}else{p.bind(i,function(x){var w=x.target;if(b(w)&&!h.data(s,f)){q=h.data(w,e)||0;if(!q){h(w).bind(l,v);v.apply(this,arguments)}h.data(s,f,true);h.data(w,e,++q);h.data(w,k,w.value)}})}function v(x){var w=x.target;window.clearTimeout(m),m=null;if(r){return}if(x.type in g&&!m){m=window.setTimeout(function(){if(w.value!==h.data(w,k)){h(w).trigger("txtinput");h.data(w,k,w.value)}},0)}else{if(x.type=="propertychange"){if(x.originalEvent.propertyName=="value"){h(w).trigger("txtinput");h.data(w,k,w.value);r=true;window.setTimeout(function(){r=false},0)}}else{var y=u!==undefined?u:h.fn.input.settings.onChangeOnly;if(h.data(w,k)==w.value&&y){return}h(w).trigger("txtinput");h.data(w,k,w.value);r=true;window.setTimeout(function(){r=false},0)}}}},teardown:function(){var m=h(this);m.unbind(i);m.find("input, textarea").andSelf().each(function(){bndCount=h.data(this,e,(h.data(this,e)||1)-1);if(!bndCount){m.unbind(l)}})}};h.fn.input=function(m){return m?h(this).bind("txtinput",m):this.trigger("txtinput")};h.fn.input.settings={onChangeOnly:false}})(jQuery);var hintTimerId=null;(function(a){a.fn.extend({ITCUI_Input:function(e){var g=a(this);var b=e||{};var f=g.parent();var d=this;init=function(){var i=b.icon||g.attr("icon")||null;var m=b.placeholder||g.attr("placeholder")||null;var h=b.onlylabel||g.attr("onlylabel")||null;var n=b.onPressEnter;var k=b.onClickIcon;var j=b.onSearch;if(j){n=j;k=j}var l="100%";if(i){a("<span class='itcui_input_icon'></span>").appendTo(f).addClass(i).css({position:"absolute",top:"6px",right:"6px"});f.css("padding-right","20px")}if(m||i){g.css({"float":"left",width:l,"border-width":"0px",outline:"none",height:"24px",display:"block",width:"95%"});f.addClass("form-control-style")}if(m){if(!a.support.leadingWhitespace){a("<span class='itcui_placeholder' style='float:left'>"+m+"</span>").prependTo(f).addClass("itcui_placeholder").css({width:l});f.children("input").hide().blur(function(){var p=a(this);if(!p.val()){p.hide();p.prev("span").css("display","block")}});f.children(".itcui_placeholder").click(function(){var p=a(this);p.hide();p.next("input").css("display","block").focus()})}}if(h){addLabel()}if(n){g.data("onPressEnter",n);g.on("keypress",function(p){if(p.which==13){a(this).data("onPressEnter")(a(this).val())}})}if(k){g.data("onClickIcon",k);g.parent().children(".itcui_input_icon").on("click",function(){var p=a(this).parent().children("input");p.data("onClickIcon")(p.val())})}};d.resize=function(){};addLabel=function(){f.addClass("borderless").find(".itcui_input_icon").css("display","none");f.find("input").css("visibility","hidden");f.css("height",f.css("height")).css("overflow","hidden");var h=g.val();a("<span class='itcui_onlylabel'>"+h+"</span>").prependTo(f)};removeLabel=function(){};if(!e||typeof(e)=="object"){init()}else{if(typeof(e)=="string"){if(e=="label"){addLabel()}else{if(e=="resize"){d.resize()}}}}}})})(jQuery);var hintTimer=null;var lastHintVal=null;var currHintObj=null;(function($){$.fn.extend({ITCUI_HintList:function(opt){var _this=$(this);var _t=this;opt=opt||{};if(!opt.datasource&&!opt.datafunc){return}opt.maxItemCount=opt.maxItemCount||10;opt.filterHere=opt.filterHere||false;opt.getDataOnKeyPress=opt.getDataOnKeyPress||false;opt.extArgName=opt.extArgName||null;opt.extArgFunc=opt.extArgFunc||function(){};opt.highlight=opt.highlight||false;opt.clickEvent=opt.clickEvent||function(){};opt.highlighter=opt.highlighter||"<span style='color:red'>#</span>";opt.showOn=opt.showOn||"click";_this.data("opt",opt);_t.createWrap=function(target){var wrapWidth=target.css("width");var hlHtml='<ul class="dropdown-menu" role="menu" id="ITC_HintList_Wrap" style="overflow:hidden;position:absolute;min-width:200px;width:'+wrapWidth+'">';hlHtml+='<li><span class="menuitem noclick">正在加载，请稍后</span></li>';hlHtml+="</ul>";target.after(hlHtml);var opt=target.data("opt");var pos=(opt.getAbsPosFunc||ITC_GetAbsPos)(target);$("#ITC_HintList_Wrap").css({left:pos.left,top:pos.top+parseInt(target.css("height")+4),display:"block"});if(opt.showOn=="input"){$("#ITC_HintList_Wrap").hide()}if(hintTimer!=null){clearInterval(hintTimer)}lastHintVal=null;currHintObj=this;hintTimer=setInterval(function(){var that=$(currHintObj);var val=that.val();if(val.length>0&&that.next("#ITC_HintList_Wrap").css("display")=="none"){$("#ITC_HintList_Wrap").show()}if(val!=lastHintVal){lastHintVal=val;changeData(that)}},100)};_this.on("click",function(e){e.stopPropagation()});_this.on("focus",function(e){var target=$(this);if($("#ITC_HintList_Wrap").length>0){if(target.next("#ITC_HintList_Wrap").length>0){return}else{$("#ITC_HintList_Wrap").remove();_t.createWrap(target)}}else{_t.createWrap(target)}});$("body").click(function(){if(hintTimer){clearInterval(hintTimer)}$("#ITC_HintList_Wrap").remove()});changeData=function(target){var kw=target.val();var opt=target.data("opt");if(opt.datafunc){var data=opt.datafunc(kw);if(isArray(data)){genList(kw,data,target)}}else{if(opt.datasource){var form={kw:kw};if(opt.extArgName){form[opt.extArgName]=opt.extArgFunc()}$.ajax({url:opt.datasource,type:"POST",data:form,success:function(result){if(!isArray(result)){result=eval("("+result+")")}if(isArray(result)){genList(kw,result,target)}}})}}};genList=function(kw,data,target){var opt=target.data("opt");var lHtml="";var l=data.length>opt.maxItemCount?opt.maxItemCount:data.length;for(var i=0;i<l;i++){var o=data[i];var name=o.name;if(opt.highlight){var t=opt.highlighter.replace("#",kw);name=o.name.replace(kw,t)}lHtml+='<li><a class="menuitem" hintid="'+o.id+'" _name="'+o.name+'">'+name+"</a></li>"}if(data.length==0){lHtml+='<li><span class="noclick">没有符合条件的结果</span></li>'}if(data.length>opt.maxItemCount){lHtml+='<li><span class="noclick">结果多于'+opt.maxItemCount+"条，请补充关键字</span></li>"}$("#ITC_HintList_Wrap").html(lHtml).find(".menuitem").click(function(){var __this=$(this);var id=__this.attr("hintid");var name=__this.attr("_name");var target=__this.parents("#ITC_HintList_Wrap").prev("input");var opt=target.data("opt");opt.clickEvent(id,name)})}}})})(jQuery);(function($){$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(err){}})};function _1(_2){_2._remove()}function _3(_4,_5){var _6=$.data(_4,"panel").options;var _7=$.data(_4,"panel").panel;var _8=_7.children("div.panel-header");var _9=_7.children("div.panel-body");if(_5){$.extend(_6,{width:_5.width,height:_5.height,left:_5.left,top:_5.top})}_6.fit?$.extend(_6,_7._fit()):_7._fit(false);_7.css({left:_6.left,top:_6.top});if(!isNaN(_6.width)){_7._outerWidth(_6.width)}else{_7.width("auto")}_8.add(_9)._outerWidth(_7.width());if(!isNaN(_6.height)){_7._outerHeight(_6.height);_9._outerHeight(_7.height()-_8._outerHeight())}else{_9.height("auto")}_7.css("height","");_6.onResize.apply(_4,[_6.width,_6.height]);$(_4).find(">div,>form>div").triggerHandler("_resize")}function _a(_b,_c){var _d=$.data(_b,"panel").options;var _e=$.data(_b,"panel").panel;if(_c){if(_c.left!=null){_d.left=_c.left}if(_c.top!=null){_d.top=_c.top}}_e.css({left:_d.left,top:_d.top});_d.onMove.apply(_b,[_d.left,_d.top])}function _f(_10){$(_10).addClass("panel-body");var _11=$('<div class="panel"></div>').insertBefore(_10);_11[0].appendChild(_10);_11.bind("_resize",function(){var _12=$.data(_10,"panel").options;if(_12.fit==true){_3(_10)}return false});return _11}function _13(_14){var _15=$.data(_14,"panel").options;var _16=$.data(_14,"panel").panel;if(_15.tools&&typeof _15.tools=="string"){_16.find(">div.panel-header>div.panel-tool .panel-tool-a").appendTo(_15.tools)}_1(_16.children("div.panel-header"));if(_15.title&&!_15.noheader){var _17=$('<div class="panel-header"><div class="panel-title">'+_15.title+"</div></div>").prependTo(_16);if(_15.iconCls){_17.find(".panel-title").addClass("panel-with-icon");$('<div class="panel-icon"></div>').addClass(_15.iconCls).appendTo(_17)}var _18=$('<div class="panel-tool"></div>').appendTo(_17);_18.bind("click",function(e){e.stopPropagation()});if(_15.tools){if($.isArray(_15.tools)){for(var i=0;i<_15.tools.length;i++){var t=$('<a href="javascript:void(0)"></a>').addClass(_15.tools[i].iconCls).appendTo(_18);if(_15.tools[i].handler){t.bind("click",eval(_15.tools[i].handler))}}}else{$(_15.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(_18)})}}if(_15.collapsible){$('<a class="panel-tool-collapse" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){if(_15.collapsed==true){_3c(_14,true)}else{_2c(_14,true)}return false})}if(_15.minimizable){$('<a class="panel-tool-min" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){_47(_14);return false})}if(_15.maximizable){$('<a class="panel-tool-max" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){if(_15.maximized==true){_4b(_14)}else{_2b(_14)}return false})}if(_15.closable){$('<a class="panel-tool-close" href="javascript:void(0)"></a>').appendTo(_18).bind("click",function(){_19(_14);return false})}_16.children("div.panel-body").removeClass("panel-body-noheader")}else{_16.children("div.panel-body").addClass("panel-body-noheader")}}function _1a(_1b){var _1c=$.data(_1b,"panel");var _1d=_1c.options;if(_1d.href){if(!_1c.isLoaded||!_1d.cache){if(_1d.onBeforeLoad.call(_1b)==false){return}_1c.isLoaded=false;_1e(_1b);if(_1d.loadingMessage){$(_1b).html($('<div class="panel-loading"></div>').html(_1d.loadingMessage))}$.ajax({url:_1d.href,cache:false,dataType:"html",success:function(_1f){_20(_1d.extractor.call(_1b,_1f));_1d.onLoad.apply(_1b,arguments);_1c.isLoaded=true}})}}else{if(_1d.content){if(!_1c.isLoaded){_1e(_1b);_20(_1d.content);_1c.isLoaded=true}}}function _20(_21){$(_1b).html(_21);if($.parser){$.parser.parse($(_1b))}}}function _1e(_22){var t=$(_22);t.find(".combo-f").each(function(){$(this).combo("destroy")});t.find(".m-btn").each(function(){$(this).menubutton("destroy")});t.find(".s-btn").each(function(){$(this).splitbutton("destroy")});t.find(".tooltip-f").each(function(){$(this).tooltip("destroy")})}function _23(_24){$(_24).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible").each(function(){$(this).triggerHandler("_resize",[true])})}function _25(_26,_27){var _28=$.data(_26,"panel").options;var _29=$.data(_26,"panel").panel;if(_27!=true){if(_28.onBeforeOpen.call(_26)==false){return}}_29.show();_28.closed=false;_28.minimized=false;var _2a=_29.children("div.panel-header").find("a.panel-tool-restore");if(_2a.length){_28.maximized=true}_28.onOpen.call(_26);if(_28.maximized==true){_28.maximized=false;_2b(_26)}if(_28.collapsed==true){_28.collapsed=false;_2c(_26)}if(!_28.collapsed){_1a(_26);_23(_26)}}function _19(_2d,_2e){var _2f=$.data(_2d,"panel").options;var _30=$.data(_2d,"panel").panel;if(_2e!=true){if(_2f.onBeforeClose.call(_2d)==false){return}}_30._fit(false);_30.hide();_2f.closed=true;_2f.onClose.call(_2d)}function _31(_32,_33){var _34=$.data(_32,"panel").options;var _35=$.data(_32,"panel").panel;if(_33!=true){if(_34.onBeforeDestroy.call(_32)==false){return}}_1e(_32);_1(_35);_34.onDestroy.call(_32)}function _2c(_36,_37){var _38=$.data(_36,"panel").options;var _39=$.data(_36,"panel").panel;var _3a=_39.children("div.panel-body");var _3b=_39.children("div.panel-header").find("a.panel-tool-collapse");if(_38.collapsed==true){return}_3a.stop(true,true);if(_38.onBeforeCollapse.call(_36)==false){return}_3b.addClass("panel-tool-expand");if(_37==true){_3a.slideUp("normal",function(){_38.collapsed=true;_38.onCollapse.call(_36)})}else{_3a.hide();_38.collapsed=true;_38.onCollapse.call(_36)}}function _3c(_3d,_3e){var _3f=$.data(_3d,"panel").options;var _40=$.data(_3d,"panel").panel;var _41=_40.children("div.panel-body");var _42=_40.children("div.panel-header").find("a.panel-tool-collapse");if(_3f.collapsed==false){return}_41.stop(true,true);if(_3f.onBeforeExpand.call(_3d)==false){return}_42.removeClass("panel-tool-expand");if(_3e==true){_41.slideDown("normal",function(){_3f.collapsed=false;_3f.onExpand.call(_3d);_1a(_3d);_23(_3d)})}else{_41.show();_3f.collapsed=false;_3f.onExpand.call(_3d);_1a(_3d);_23(_3d)}}function _2b(_43){var _44=$.data(_43,"panel").options;var _45=$.data(_43,"panel").panel;var _46=_45.children("div.panel-header").find("a.panel-tool-max");if(_44.maximized==true){return}_46.addClass("panel-tool-restore");if(!$.data(_43,"panel").original){$.data(_43,"panel").original={width:_44.width,height:_44.height,left:_44.left,top:_44.top,fit:_44.fit}}_44.left=0;_44.top=0;_44.fit=true;_3(_43);_44.minimized=false;_44.maximized=true;_44.onMaximize.call(_43)}function _47(_48){var _49=$.data(_48,"panel").options;var _4a=$.data(_48,"panel").panel;_4a._fit(false);_4a.hide();_49.minimized=true;_49.maximized=false;_49.onMinimize.call(_48)}function _4b(_4c){var _4d=$.data(_4c,"panel").options;var _4e=$.data(_4c,"panel").panel;var _4f=_4e.children("div.panel-header").find("a.panel-tool-max");if(_4d.maximized==false){return}_4e.show();_4f.removeClass("panel-tool-restore");$.extend(_4d,$.data(_4c,"panel").original);_3(_4c);_4d.minimized=false;_4d.maximized=false;$.data(_4c,"panel").original=null;_4d.onRestore.call(_4c)}function _50(_51){var _52=$.data(_51,"panel").options;var _53=$.data(_51,"panel").panel;var _54=$(_51).panel("header");var _55=$(_51).panel("body");_53.css(_52.style);_53.addClass(_52.cls);if(_52.border){_54.removeClass("panel-header-noborder");_55.removeClass("panel-body-noborder")}else{_54.addClass("panel-header-noborder");_55.addClass("panel-body-noborder")}_54.addClass(_52.headerCls);_55.addClass(_52.bodyCls);if(_52.id){$(_51).attr("id",_52.id)}else{$(_51).attr("id","")}}function _56(_57,_58){$.data(_57,"panel").options.title=_58;$(_57).panel("header").find("div.panel-title").html(_58)}var TO=false;var _59=true;$(window).unbind(".panel").bind("resize.panel",function(){if(!_59){return}if(TO!==false){clearTimeout(TO)}TO=setTimeout(function(){_59=false;var _5a=$("body.layout");if(_5a.length){_5a.layout("resize")}else{$("body").children("div.panel,div.accordion,div.tabs-container,div.layout").triggerHandler("_resize")}_59=true;TO=false},200)});$.fn.panel=function(_5b,_5c){if(typeof _5b=="string"){return $.fn.panel.methods[_5b](this,_5c)}_5b=_5b||{};return this.each(function(){var _5d=$.data(this,"panel");var _5e;if(_5d){_5e=$.extend(_5d.options,_5b);_5d.isLoaded=false}else{_5e=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),_5b);$(this).attr("title","");_5d=$.data(this,"panel",{options:_5e,panel:_f(this),isLoaded:false})}_13(this);_50(this);if(_5e.doSize==true){_5d.panel.css("display","block");_3(this)}if(_5e.closed==true||_5e.minimized==true){_5d.panel.hide()}else{_25(this)}})};$.fn.panel.methods={options:function(jq){return $.data(jq[0],"panel").options},panel:function(jq){return $.data(jq[0],"panel").panel},header:function(jq){return $.data(jq[0],"panel").panel.find(">div.panel-header")},body:function(jq){return $.data(jq[0],"panel").panel.find(">div.panel-body")},setTitle:function(jq,_5f){return jq.each(function(){_56(this,_5f)})},open:function(jq,_60){return jq.each(function(){_25(this,_60)})},close:function(jq,_61){return jq.each(function(){_19(this,_61)})},destroy:function(jq,_62){return jq.each(function(){_31(this,_62)})},refresh:function(jq,_63){return jq.each(function(){$.data(this,"panel").isLoaded=false;if(_63){$.data(this,"panel").options.href=_63}_1a(this)})},resize:function(jq,_64){return jq.each(function(){_3(this,_64)})},move:function(jq,_65){return jq.each(function(){_a(this,_65)})},maximize:function(jq){return jq.each(function(){_2b(this)})},minimize:function(jq){return jq.each(function(){_47(this)})},restore:function(jq){return jq.each(function(){_4b(this)})},collapse:function(jq,_66){return jq.each(function(){_2c(this,_66)})},expand:function(jq,_67){return jq.each(function(){_3c(this,_67)})}};$.fn.panel.parseOptions=function(_68){var t=$(_68);return $.extend({},$.parser.parseOptions(_68,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"}]),{loadingMessage:(t.attr("loadingMessage")!=undefined?t.attr("loadingMessage"):undefined)})};$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:true,fit:false,border:true,doSize:true,noheader:false,content:null,collapsible:false,minimizable:false,maximizable:false,closable:false,collapsed:false,minimized:false,maximized:false,closed:false,tools:null,href:null,loadingMessage:"Loading...",extractor:function(_69){var _6a=/<body[^>]*>((.|[\n\r])*)<\/body>/im;var _6b=_6a.exec(_69);if(_6b){return _6b[1]}else{return _69}},onBeforeLoad:function(){},onLoad:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(_6c,_6d){},onMove:function(_6e,top){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}})(jQuery);(function(a){a.fn.resizable=function(i,h){if(typeof i=="string"){return a.fn.resizable.methods[i](this,h)}function g(n){var m=n.data;var l=a.data(m.target,"resizable").options;if(m.dir.indexOf("e")!=-1){var k=m.startWidth+n.pageX-m.startX;k=Math.min(Math.max(k,l.minWidth),l.maxWidth);m.width=k}if(m.dir.indexOf("s")!=-1){var j=m.startHeight+n.pageY-m.startY;j=Math.min(Math.max(j,l.minHeight),l.maxHeight);m.height=j}if(m.dir.indexOf("w")!=-1){var k=m.startWidth-n.pageX+m.startX;k=Math.min(Math.max(k,l.minWidth),l.maxWidth);m.width=k;m.left=m.startLeft+m.startWidth-m.width}if(m.dir.indexOf("n")!=-1){var j=m.startHeight-n.pageY+m.startY;j=Math.min(Math.max(j,l.minHeight),l.maxHeight);m.height=j;m.top=m.startTop+m.startHeight-m.height}}function b(l){var j=l.data;var k=a(j.target);k.css({left:j.left,top:j.top});if(k.outerWidth()!=j.width){k._outerWidth(j.width)}if(k.outerHeight()!=j.height){k._outerHeight(j.height)}}function f(j){a.fn.resizable.isResizing=true;a.data(j.data.target,"resizable").options.onStartResize.call(j.data.target,j);return false}function e(j){g(j);if(a.data(j.data.target,"resizable").options.onResize.call(j.data.target,j)!=false){b(j)}return false}function d(j){a.fn.resizable.isResizing=false;g(j,true);b(j);a.data(j.data.target,"resizable").options.onStopResize.call(j.data.target,j);a(document).unbind(".resizable");a("body").css("cursor","");return false}return this.each(function(){var k=null;var j=a.data(this,"resizable");if(j){a(this).unbind(".resizable");k=a.extend(j.options,i||{})}else{k=a.extend({},a.fn.resizable.defaults,a.fn.resizable.parseOptions(this),i||{});a.data(this,"resizable",{options:k})}if(k.disabled==true){return}a(this).bind("mousemove.resizable",{target:this},function(m){if(a.fn.resizable.isResizing){return}var n=l(m);if(n==""){a(m.data.target).css("cursor","")}else{a(m.data.target).css("cursor",n+"-resize")}}).bind("mouseleave.resizable",{target:this},function(m){a(m.data.target).css("cursor","")}).bind("mousedown.resizable",{target:this},function(p){var m=l(p);if(m==""){return}function q(r){var s=parseInt(a(p.data.target).css(r));if(isNaN(s)){return 0}else{return s}}var n={target:p.data.target,dir:m,startLeft:q("left"),startTop:q("top"),left:q("left"),top:q("top"),startX:p.pageX,startY:p.pageY,startWidth:a(p.data.target).outerWidth(),startHeight:a(p.data.target).outerHeight(),width:a(p.data.target).outerWidth(),height:a(p.data.target).outerHeight(),deltaWidth:a(p.data.target).outerWidth()-a(p.data.target).width(),deltaHeight:a(p.data.target).outerHeight()-a(p.data.target).height()};a(document).bind("mousedown.resizable",n,f);a(document).bind("mousemove.resizable",n,e);a(document).bind("mouseup.resizable",n,d);a("body").css("cursor",m+"-resize")});function l(v){var w=a(v.data.target);var q="";var t=w.offset();var s=w.outerWidth();var r=w.outerHeight();var p=k.edge;if(v.pageY>t.top&&v.pageY<t.top+p){q+="n"}else{if(v.pageY<t.top+r&&v.pageY>t.top+r-p){q+="s"}}if(v.pageX>t.left&&v.pageX<t.left+p){q+="w"}else{if(v.pageX<t.left+s&&v.pageX>t.left+s-p){q+="e"}}var n=k.handles.split(",");for(var u=0;u<n.length;u++){var m=n[u].replace(/(^\s*)|(\s*$)/g,"");if(m=="all"||m==q){return q}}return""}})};a.fn.resizable.methods={options:function(b){return a.data(b[0],"resizable").options},enable:function(b){return b.each(function(){a(this).resizable({disabled:false})})},disable:function(b){return b.each(function(){a(this).resizable({disabled:true})})}};a.fn.resizable.parseOptions=function(b){var d=a(b);return a.extend({},a.parser.parseOptions(b,["handles",{minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number",edge:"number"}]),{disabled:(d.attr("disabled")?true:undefined)})};a.fn.resizable.defaults={disabled:false,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:10000,maxHeight:10000,edge:5,onStartResize:function(b){},onResize:function(b){},onStopResize:function(b){}};a.fn.resizable.isResizing=false})(jQuery);(function(d){function e(h){var g=d.data(h,"linkbutton").options;var f=d(h);f.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected");if(g.plain){f.addClass("l-btn-plain")}if(g.selected){f.addClass(g.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected")}f.attr("group",g.group||"");f.attr("id",g.id||"");f.html('<span class="l-btn-left"><span class="l-btn-text"></span></span>');if(g.text){f.find(".l-btn-text").html(g.text);if(g.iconCls){f.find(".l-btn-text").addClass(g.iconCls).addClass(g.iconAlign=="left"?"l-btn-icon-left":"l-btn-icon-right")}}else{f.find(".l-btn-text").html('<span class="l-btn-empty">&nbsp;</span>');if(g.iconCls){f.find(".l-btn-empty").addClass(g.iconCls)}}f.unbind(".linkbutton").bind("focus.linkbutton",function(){if(!g.disabled){d(this).find(".l-btn-text").addClass("l-btn-focus")}}).bind("blur.linkbutton",function(){d(this).find(".l-btn-text").removeClass("l-btn-focus")});if(g.toggle&&!g.disabled){f.bind("click.linkbutton",function(){if(g.selected){d(this).linkbutton("unselect")}else{d(this).linkbutton("select")}})}b(h,g.selected);a(h,g.disabled)}function b(h,g){var f=d.data(h,"linkbutton").options;if(g){if(f.group){d('a.l-btn[group="'+f.group+'"]').each(function(){var i=d(this).linkbutton("options");if(i.toggle){d(this).removeClass("l-btn-selected l-btn-plain-selected");i.selected=false}})}d(h).addClass(f.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected");f.selected=true}else{if(!f.group){d(h).removeClass("l-btn-selected l-btn-plain-selected");f.selected=false}}}function a(f,j){var i=d.data(f,"linkbutton");var h=i.options;d(f).removeClass("l-btn-disabled l-btn-plain-disabled");if(j){h.disabled=true;var g=d(f).attr("href");if(g){i.href=g;d(f).attr("href","javascript:void(0)")}if(f.onclick){i.onclick=f.onclick;f.onclick=null}h.plain?d(f).addClass("l-btn-disabled l-btn-plain-disabled"):d(f).addClass("l-btn-disabled")}else{h.disabled=false;if(i.href){d(f).attr("href",i.href)}if(i.onclick){f.onclick=i.onclick}}}d.fn.linkbutton=function(f,g){if(typeof f=="string"){return d.fn.linkbutton.methods[f](this,g)}f=f||{};return this.each(function(){var h=d.data(this,"linkbutton");if(h){d.extend(h.options,f)}else{d.data(this,"linkbutton",{options:d.extend({},d.fn.linkbutton.defaults,d.fn.linkbutton.parseOptions(this),f)});d(this).removeAttr("disabled")}e(this)})};d.fn.linkbutton.methods={options:function(f){return d.data(f[0],"linkbutton").options},enable:function(f){return f.each(function(){a(this,false)})},disable:function(f){return f.each(function(){a(this,true)})},select:function(f){return f.each(function(){b(this,true)})},unselect:function(f){return f.each(function(){b(this,false)})}};d.fn.linkbutton.parseOptions=function(g){var f=d(g);return d.extend({},d.parser.parseOptions(g,["id","iconCls","iconAlign","group",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:(f.attr("disabled")?true:undefined),text:d.trim(f.html()),iconCls:(f.attr("icon")||f.attr("iconCls"))})};d.fn.linkbutton.defaults={id:null,disabled:false,toggle:false,selected:false,group:null,plain:false,text:"",iconCls:null,iconAlign:"left"}})(jQuery);(function($){function _1(_2){var _3=$.data(_2,"pagination");var _4=_3.options;var bb=_3.bb={};var _5=$(_2).addClass("pagination").html('<table cellspacing="0" cellpadding="0" border="0"><tr></tr></table>');var tr=_5.find("tr");var aa=$.extend([],_4.layout);if(!_4.showPageList){_6(aa,"list")}if(!_4.showRefresh){_6(aa,"refresh")}if(aa[0]=="sep"){aa.shift()}if(aa[aa.length-1]=="sep"){aa.pop()}for(var _7=0;_7<aa.length;_7++){var _8=aa[_7];if(_8=="list"){var ps=$('<select class="pagination-page-list"></select>');ps.bind("change",function(){_4.pageSize=parseInt($(this).val());_4.onChangePageSize.call(_2,_4.pageSize);_10(_2,_4.pageNumber)});for(var i=0;i<_4.pageList.length;i++){$("<option></option>").text(_4.pageList[i]).appendTo(ps)}$("<td></td>").append(ps).appendTo(tr)}else{if(_8=="sep"){$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr)}else{if(_8=="first"){bb.first=_9("first")}else{if(_8=="prev"){bb.prev=_9("prev")}else{if(_8=="next"){bb.next=_9("next")}else{if(_8=="last"){bb.last=_9("last")}else{if(_8=="manual"){$('<span style="padding-left:6px;"></span>').html(_4.beforePageText).appendTo(tr).wrap("<td></td>");bb.num=$('<input class="pagination-num" type="text" value="1" size="2">').appendTo(tr).wrap("<td></td>");bb.num.unbind(".pagination").bind("keydown.pagination",function(e){if(e.keyCode==13){var _a=parseInt($(this).val())||1;_10(_2,_a);return false}});bb.after=$('<span style="padding-right:6px;"></span>').appendTo(tr).wrap("<td></td>")}else{if(_8=="refresh"){bb.refresh=_9("refresh")}else{if(_8=="links"){$('<td class="pagination-links"></td>').appendTo(tr)}}}}}}}}}}if(_4.buttons){$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr);if($.isArray(_4.buttons)){for(var i=0;i<_4.buttons.length;i++){var _b=_4.buttons[i];if(_b=="-"){$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr)}else{var td=$("<td></td>").appendTo(tr);var a=$('<a href="javascript:void(0)"></a>').appendTo(td);a[0].onclick=eval(_b.handler||function(){});a.linkbutton($.extend({},_b,{plain:true}))}}}else{var td=$("<td></td>").appendTo(tr);$(_4.buttons).appendTo(td).show()}}$('<div class="pagination-info"></div>').appendTo(_5);$('<div style="clear:both;"></div>').appendTo(_5);function _9(_c){var _d=_4.nav[_c];var a=$('<a href="javascript:void(0)"></a>').appendTo(tr);a.wrap("<td></td>");a.linkbutton({iconCls:_d.iconCls,plain:true}).unbind(".pagination").bind("click.pagination",function(){_d.handler.call(_2)});return a}function _6(aa,_e){var _f=$.inArray(_e,aa);if(_f>=0){aa.splice(_f,1)}return aa}}function _10(_11,_12){var _13=$.data(_11,"pagination").options;_14(_11,{pageNumber:_12});_13.onSelectPage.call(_11,_13.pageNumber,_13.pageSize)}function _14(_15,_16){var _17=$.data(_15,"pagination");var _18=_17.options;var bb=_17.bb;$.extend(_18,_16||{});var ps=$(_15).find("select.pagination-page-list");if(ps.length){ps.val(_18.pageSize+"");_18.pageSize=parseInt(ps.val())}var _19=Math.ceil(_18.total/_18.pageSize)||1;if(_18.pageNumber<1){_18.pageNumber=1}if(_18.pageNumber>_19){_18.pageNumber=_19}if(bb.num){bb.num.val(_18.pageNumber)}if(bb.after){bb.after.html(_18.afterPageText.replace(/{pages}/,_19))}var td=$(_15).find("td.pagination-links");if(td.length){td.empty();var _1a=_18.pageNumber-Math.floor(_18.links/2);if(_1a<1){_1a=1}var _1b=_1a+_18.links-1;if(_1b>_19){_1b=_19}_1a=_1b-_18.links+1;if(_1a<1){_1a=1}for(var i=_1a;i<=_1b;i++){var a=$('<a class="pagination-link" href="javascript:void(0)"></a>').appendTo(td);a.linkbutton({plain:true,text:i});if(i==_18.pageNumber){a.linkbutton("select")}else{a.unbind(".pagination").bind("click.pagination",{pageNumber:i},function(e){_10(_15,e.data.pageNumber)})}}}var _1c=_18.displayMsg;_1c=_1c.replace(/{from}/,_18.total==0?0:_18.pageSize*(_18.pageNumber-1)+1);_1c=_1c.replace(/{to}/,Math.min(_18.pageSize*(_18.pageNumber),_18.total));_1c=_1c.replace(/{total}/,_18.total);$(_15).find("div.pagination-info").html(_1c);if(bb.first){bb.first.linkbutton({disabled:(_18.pageNumber==1)})}if(bb.prev){bb.prev.linkbutton({disabled:(_18.pageNumber==1)})}if(bb.next){bb.next.linkbutton({disabled:(_18.pageNumber==_19)})}if(bb.last){bb.last.linkbutton({disabled:(_18.pageNumber==_19)})}_1d(_15,_18.loading)}function _1d(_1e,_1f){var _20=$.data(_1e,"pagination");var _21=_20.options;_21.loading=_1f;if(_21.showRefresh&&_20.bb.refresh){_20.bb.refresh.linkbutton({iconCls:(_21.loading?"pagination-loading":"pagination-load")})}}$.fn.pagination=function(_22,_23){if(typeof _22=="string"){return $.fn.pagination.methods[_22](this,_23)}_22=_22||{};return this.each(function(){var _24;var _25=$.data(this,"pagination");if(_25){_24=$.extend(_25.options,_22)}else{_24=$.extend({},$.fn.pagination.defaults,$.fn.pagination.parseOptions(this),_22);$.data(this,"pagination",{options:_24})}_1(this);_14(this)})};$.fn.pagination.methods={options:function(jq){return $.data(jq[0],"pagination").options},loading:function(jq){return jq.each(function(){_1d(this,true)})},loaded:function(jq){return jq.each(function(){_1d(this,false)})},refresh:function(jq,_26){return jq.each(function(){_14(this,_26)})},select:function(jq,_27){return jq.each(function(){_10(this,_27)})}};$.fn.pagination.parseOptions=function(_28){var t=$(_28);return $.extend({},$.parser.parseOptions(_28,[{total:"number",pageSize:"number",pageNumber:"number",links:"number"},{loading:"boolean",showPageList:"boolean",showRefresh:"boolean"}]),{pageList:(t.attr("pageList")?eval(t.attr("pageList")):undefined)})};$.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageList:[10,20,30,50],loading:false,buttons:null,showPageList:true,showRefresh:true,links:10,layout:["list","sep","first","prev","sep","manual","sep","next","last","sep","refresh"],onSelectPage:function(_29,_2a){},onBeforeRefresh:function(_2b,_2c){},onRefresh:function(_2d,_2e){},onChangePageSize:function(_2f){},beforePageText:"Page",afterPageText:"of {pages}",displayMsg:"Displaying {from} to {to} of {total} items",nav:{first:{iconCls:"pagination-first",handler:function(){var _30=$(this).pagination("options");if(_30.pageNumber>1){$(this).pagination("select",1)}}},prev:{iconCls:"pagination-prev",handler:function(){var _31=$(this).pagination("options");if(_31.pageNumber>1){$(this).pagination("select",_31.pageNumber-1)}}},next:{iconCls:"pagination-next",handler:function(){var _32=$(this).pagination("options");var _33=Math.ceil(_32.total/_32.pageSize);if(_32.pageNumber<_33){$(this).pagination("select",_32.pageNumber+1)}}},last:{iconCls:"pagination-last",handler:function(){var _34=$(this).pagination("options");var _35=Math.ceil(_34.total/_34.pageSize);if(_34.pageNumber<_35){$(this).pagination("select",_35)}}},refresh:{iconCls:"pagination-refresh",handler:function(){var _36=$(this).pagination("options");if(_36.onBeforeRefresh.call(this,_36.pageNumber,_36.pageSize)!=false){$(this).pagination("select",_36.pageNumber);_36.onRefresh.call(this,_36.pageNumber,_36.pageSize)}}}}}})(jQuery);(function(a){a.parser={auto:true,onComplete:function(b){},plugins:["draggable","droppable","resizable","pagination","tooltip","linkbutton","menu","menubutton","splitbutton","progressbar","tree","combobox","combotree","combogrid","numberbox","validatebox","searchbox","numberspinner","timespinner","calendar","datebox","datetimebox","slider","layout","panel","datagrid","propertygrid","treegrid","tabs","accordion","window","dialog"],parse:function(g){var h=[];for(var b=0;b<a.parser.plugins.length;b++){var f=a.parser.plugins[b];var e=a(".easyui-"+f,g);if(e.length){if(e[f]){e[f]()}else{h.push({name:f,jq:e})}}}if(h.length&&window.easyloader){var d=[];for(var b=0;b<h.length;b++){d.push(h[b].name)}easyloader.load(d,function(){for(var k=0;k<h.length;k++){var j=h[k].name;var l=h[k].jq;l[j]()}a.parser.onComplete.call(a.parser,g)})}else{a.parser.onComplete.call(a.parser,g)}},parseOptions:function(h,g){var l=a(h);var f={};var m=a.trim(l.attr("data-options"));if(m){if(m.substring(0,1)!="{"){m="{"+m+"}"}f=(new Function("return "+m))()}if(g){var e={};for(var d=0;d<g.length;d++){var b=g[d];if(typeof b=="string"){if(b=="width"||b=="height"||b=="left"||b=="top"){e[b]=parseInt(h.style[b])||undefined}else{e[b]=l.attr(b)}}else{for(var k in b){var j=b[k];if(j=="boolean"){e[k]=l.attr(k)?(l.attr(k)=="true"):undefined}else{if(j=="number"){e[k]=l.attr(k)=="0"?0:parseFloat(l.attr(k))||undefined}}}}}a.extend(f,e)}return f}};a(function(){var b=a('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"></div>').appendTo("body");b.width(100);a._boxModel=parseInt(b.width())==100;b.remove();if(!window.easyloader&&a.parser.auto){a.parser.parse()}});a.fn._outerWidth=function(b){if(b==undefined){if(this[0]==window){return this.width()||document.body.clientWidth}return this.outerWidth()||0}return this.each(function(){if(a._boxModel){a(this).width(b-(a(this).outerWidth()-a(this).width()))}else{a(this).width(b)}})};a.fn._outerHeight=function(b){if(b==undefined){if(this[0]==window){return this.height()||document.body.clientHeight}return this.outerHeight()||0}return this.each(function(){if(a._boxModel){a(this).height(b-(a(this).outerHeight()-a(this).height()))}else{a(this).height(b)}})};a.fn._scrollLeft=function(b){if(b==undefined){return this.scrollLeft()}else{return this.each(function(){a(this).scrollLeft(b)})}};a.fn._propAttr=a.fn.prop||a.fn.attr;a.fn._fit=function(f){f=f==undefined?true:f;var b=this[0];var d=(b.tagName=="BODY"?b:this.parent()[0]);var e=d.fcount||0;if(f){if(!b.fitted){b.fitted=true;d.fcount=e+1;a(d).addClass("panel-noscroll");if(d.tagName=="BODY"){a("html").addClass("panel-fit")}}}else{if(b.fitted){b.fitted=false;d.fcount=e-1;if(d.fcount==0){a(d).removeClass("panel-noscroll");if(d.tagName=="BODY"){a("html").removeClass("panel-fit")}}}}return{width:a(d).width(),height:a(d).height()}}})(jQuery);(function(g){var i=null;var h=null;var f=false;function e(j){if(j.touches.length!=1){return}if(!f){f=true;dblClickTimer=setTimeout(function(){f=false},500)}else{clearTimeout(dblClickTimer);f=false;d(j,"dblclick")}i=setTimeout(function(){d(j,"contextmenu",3)},1000);d(j,"mousedown");if(g.fn.draggable.isDragging||g.fn.resizable.isResizing){j.preventDefault()}}function b(j){if(j.touches.length!=1){return}if(i){clearTimeout(i)}d(j,"mousemove");if(g.fn.draggable.isDragging||g.fn.resizable.isResizing){j.preventDefault()}}function a(j){if(i){clearTimeout(i)}d(j,"mouseup");if(g.fn.draggable.isDragging||g.fn.resizable.isResizing){j.preventDefault()}}function d(m,k,j){var l=new g.Event(k);l.pageX=m.changedTouches[0].pageX;l.pageY=m.changedTouches[0].pageY;l.which=j||1;g(m.target).trigger(l)}if(document.addEventListener){document.addEventListener("touchstart",e,true);document.addEventListener("touchmove",b,true);document.addEventListener("touchend",a,true)}})(jQuery);(function($){var _1=0;function _2(a,o){for(var i=0,_3=a.length;i<_3;i++){if(a[i]==o){return i}}return -1}function _4(a,o,id){if(typeof o=="string"){for(var i=0,_5=a.length;i<_5;i++){if(a[i][o]==id){a.splice(i,1);return}}}else{var _6=_2(a,o);if(_6!=-1){a.splice(_6,1)}}}function _7(a,o,r){for(var i=0,_8=a.length;i<_8;i++){if(a[i][o]==r[o]){return}}a.push(r)}function _9(_a){var cc=_a||$("head");var _b=$.data(cc[0],"ss");if(!_b){_b=$.data(cc[0],"ss",{cache:{},dirty:[]})}return{add:function(_c){var ss=['<style type="text/css">'];for(var i=0;i<_c.length;i++){_b.cache[_c[i][0]]={width:_c[i][1]}}var _d=0;for(var s in _b.cache){var _e=_b.cache[s];_e.index=_d++;ss.push(s+"{width:"+_e.width+"}")}ss.push("</style>");$(ss.join("\n")).appendTo(cc);setTimeout(function(){cc.children("style:not(:last)").remove()},0)},getRule:function(_f){var _10=cc.children("style:last")[0];var _11=_10.styleSheet?_10.styleSheet:(_10.sheet||document.styleSheets[document.styleSheets.length-1]);var _12=_11.cssRules||_11.rules;return _12[_f]},set:function(_13,_14){var _15=_b.cache[_13];if(_15){_15.width=_14;var _16=this.getRule(_15.index);if(_16){_16.style.width=_14}}},remove:function(_17){var tmp=[];for(var s in _b.cache){if(s.indexOf(_17)==-1){tmp.push([s,_b.cache[s].width])}}_b.cache={};this.add(tmp)},dirty:function(_18){if(_18){_b.dirty.push(_18)}},clean:function(){for(var i=0;i<_b.dirty.length;i++){this.remove(_b.dirty[i])}_b.dirty=[]}}}function _19(_1a,_1b){var _1c=$.data(_1a,"datagrid").options;var _1d=$.data(_1a,"datagrid").panel;if(_1b){if(_1b.width){_1c.width=_1b.width}if(_1b.height){_1c.height=_1b.height}}if(_1c.fit==true){var p=_1d.panel("panel").parent();_1c.width=p.width();_1c.height=p.height()}_1d.panel("resize",{width:_1c.width,height:_1c.height})}function _1e(_1f){var _20=$.data(_1f,"datagrid").options;var dc=$.data(_1f,"datagrid").dc;var _21=$.data(_1f,"datagrid").panel;var _22=_21.width();var _23=_21.height();var _24=dc.view;var _25=dc.view1;var _26=dc.view2;var _27=_25.children("div.datagrid-header");var _28=_26.children("div.datagrid-header");var _29=_27.find("table");var _2a=_28.find("table");_24.width(_22);var _2b=_27.children("div.datagrid-header-inner").show();_25.width(_2b.find("table").width());if(!_20.showHeader){_2b.hide()}_26.width(_22-_25._outerWidth());_25.children("div.datagrid-header,div.datagrid-body,div.datagrid-footer").width(_25.width());_26.children("div.datagrid-header,div.datagrid-body,div.datagrid-footer").width(_26.width());var hh;_27.css("height","");_28.css("height","");_29.css("height","");_2a.css("height","");hh=Math.max(_29.height(),_2a.height());_29.height(hh);_2a.height(hh);_27.add(_28)._outerHeight(hh);if(_20.height!="auto"){var _2c=_23-_26.children("div.datagrid-header")._outerHeight()-_26.children("div.datagrid-footer")._outerHeight()-_21.children("div.datagrid-toolbar")._outerHeight();_21.children("div.datagrid-pager").each(function(){});dc.body1.add(dc.body2).children("table.datagrid-btable-frozen").css({position:"absolute",top:dc.header2._outerHeight()});var _2d=dc.body2.children("table.datagrid-btable-frozen")._outerHeight();_25.add(_26).children("div.datagrid-body").css({marginTop:_2d,height:(_2c-_2d)})}_24.height(_26.height())}function _2e(_2f,_30,_31){var _32=$.data(_2f,"datagrid").data.rows;var _33=$.data(_2f,"datagrid").options;var dc=$.data(_2f,"datagrid").dc;if(!dc.body1.is(":empty")&&(!_33.nowrap||_33.autoRowHeight||_31)){if(_30!=undefined){var tr1=_33.finder.getTr(_2f,_30,"body",1);var tr2=_33.finder.getTr(_2f,_30,"body",2);_34(tr1,tr2)}else{var tr1=_33.finder.getTr(_2f,0,"allbody",1);var tr2=_33.finder.getTr(_2f,0,"allbody",2);_34(tr1,tr2);if(_33.showFooter){var tr1=_33.finder.getTr(_2f,0,"allfooter",1);var tr2=_33.finder.getTr(_2f,0,"allfooter",2);_34(tr1,tr2)}}}_1e(_2f);if(_33.height=="auto"){var _35=dc.body1.parent();var _36=dc.body2;var _37=_38(_36);var _39=_37.height;if(_37.width>_36.width()){_39+=18}_35.height(_39);_36.height(_39);dc.view.height(dc.view2.height())}dc.body2.triggerHandler("scroll");function _34(_3a,_3b){for(var i=0;i<_3b.length;i++){var tr1=$(_3a[i]);var tr2=$(_3b[i]);tr1.css("height","");tr2.css("height","");var _3c=Math.max(tr1.height(),tr2.height());tr1.css("height",_3c);tr2.css("height",_3c)}}function _38(cc){var _3d=0;var _3e=0;$(cc).children().each(function(){var c=$(this);if(c.is(":visible")){_3e+=c._outerHeight();if(_3d<c._outerWidth()){_3d=c._outerWidth()}}});return{width:_3d,height:_3e}}}function _3f(_40,_41){var _42=$.data(_40,"datagrid");var _43=_42.options;var dc=_42.dc;if(!dc.body2.children("table.datagrid-btable-frozen").length){dc.body1.add(dc.body2).prepend('<table class="datagrid-btable datagrid-btable-frozen" cellspacing="0" cellpadding="0"></table>')}_44(true);_44(false);_1e(_40);function _44(_45){var _46=_45?1:2;var tr=_43.finder.getTr(_40,_41,"body",_46);(_45?dc.body1:dc.body2).children("table.datagrid-btable-frozen").append(tr)}}function _47(_48,_49){function _4a(){var _4b=[];var _4c=[];$(_48).children("thead").each(function(){var opt=$.parser.parseOptions(this,[{frozen:"boolean"}]);$(this).find("tr").each(function(){var _4d=[];$(this).find("th").each(function(){var th=$(this);var col=$.extend({},$.parser.parseOptions(this,["field","align","halign","order",{sortable:"boolean",checkbox:"boolean",resizable:"boolean",fixed:"boolean"},{rowspan:"number",colspan:"number",width:"number"}]),{title:(th.html()||undefined),hidden:(th.attr("hidden")?true:undefined),formatter:(th.attr("formatter")?eval(th.attr("formatter")):undefined),styler:(th.attr("styler")?eval(th.attr("styler")):undefined),sorter:(th.attr("sorter")?eval(th.attr("sorter")):undefined)});if(th.attr("editor")){var s=$.trim(th.attr("editor"));if(s.substr(0,1)=="{"){col.editor=eval("("+s+")")}else{col.editor=s}}_4d.push(col)});opt.frozen?_4b.push(_4d):_4c.push(_4d)})});return[_4b,_4c]}var _4e=$('<div class="datagrid-wrap"><div class="datagrid-view"><div class="datagrid-view1"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"><div class="datagrid-body-inner"></div></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div><div class="datagrid-view2"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div></div></div>').insertAfter(_48);_4e.panel({doSize:false});_4e.panel("panel").addClass("datagrid").bind("_resize",function(e,_4f){var _50=$.data(_48,"datagrid").options;if(_50.fit==true||_4f){_19(_48);setTimeout(function(){if($.data(_48,"datagrid")){_51(_48)}},0)}return false});$(_48).hide().appendTo(_4e.children("div.datagrid-view"));var cc=_4a();var _52=_4e.children("div.datagrid-view");var _53=_52.children("div.datagrid-view1");var _54=_52.children("div.datagrid-view2");var _55=_4e.closest("div.datagrid-view");if(!_55.length){_55=_52}var ss=_9(_55);return{panel:_4e,frozenColumns:cc[0],columns:cc[1],dc:{view:_52,view1:_53,view2:_54,header1:_53.children("div.datagrid-header").children("div.datagrid-header-inner"),header2:_54.children("div.datagrid-header").children("div.datagrid-header-inner"),body1:_53.children("div.datagrid-body").children("div.datagrid-body-inner"),body2:_54.children("div.datagrid-body"),footer1:_53.children("div.datagrid-footer").children("div.datagrid-footer-inner"),footer2:_54.children("div.datagrid-footer").children("div.datagrid-footer-inner")},ss:ss}}function _56(_57){var _58=$.data(_57,"datagrid");var _59=_58.options;var dc=_58.dc;var _5a=_58.panel;_5a.panel($.extend({},_59,{id:null,doSize:false,onResize:function(_5b,_5c){setTimeout(function(){if($.data(_57,"datagrid")){_1e(_57);_8d(_57);_59.onResize.call(_5a,_5b,_5c)}},0)},onExpand:function(){_2e(_57);_59.onExpand.call(_5a)}}));_58.rowIdPrefix="datagrid-row-r"+(++_1);_58.cellClassPrefix="datagrid-cell-c"+_1;_5d(dc.header1,_59.frozenColumns,true);_5d(dc.header2,_59.columns,false);_5e();dc.header1.add(dc.header2).css("display",_59.showHeader?"block":"none");dc.footer1.add(dc.footer2).css("display",_59.showFooter?"block":"none");if(_59.toolbar){if($.isArray(_59.toolbar)){$("div.datagrid-toolbar",_5a).remove();var tb=$('<div class="datagrid-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(_5a);var tr=tb.find("tr");for(var i=0;i<_59.toolbar.length;i++){var btn=_59.toolbar[i];if(btn=="-"){$('<td><div class="datagrid-btn-separator"></div></td>').appendTo(tr)}else{var td=$("<td></td>").appendTo(tr);var _5f=$('<a href="javascript:void(0)"></a>').appendTo(td);_5f[0].onclick=eval(btn.handler||function(){});_5f.linkbutton($.extend({},btn,{plain:true}))}}}else{$(_59.toolbar).addClass("datagrid-toolbar").prependTo(_5a);$(_59.toolbar).show()}}else{$("div.datagrid-toolbar",_5a).remove()}$("div.datagrid-pager",_5a).remove();if(_59.pagination){var _60=$('<div class="datagrid-pager"></div>');if(_59.pagePosition=="bottom"){_60.appendTo(_5a)}else{if(_59.pagePosition=="top"){_60.addClass("datagrid-pager-top").prependTo(_5a)}else{var _61=$('<div class="datagrid-pager datagrid-pager-top"></div>').prependTo(_5a);_60.appendTo(_5a);_60=_60.add(_61)}}_60.pagination({total:(_59.pageNumber*_59.pageSize),pageNumber:_59.pageNumber,pageSize:_59.pageSize,pageList:_59.pageList,onSelectPage:function(_62,_63){_59.pageNumber=_62;_59.pageSize=_63;_60.pagination("refresh",{pageNumber:_62,pageSize:_63});_16b(_57)}});_59.pageSize=_60.pagination("options").pageSize}function _5d(_64,_65,_66){if(!_65){return}$(_64).show();$(_64).empty();var _67=[];var _68=[];if(_59.sortName){_67=_59.sortName.split(",");_68=_59.sortOrder.split(",")}var t=$('<table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0"><tbody></tbody></table>').appendTo(_64);for(var i=0;i<_65.length;i++){var tr=$('<tr class="datagrid-header-row"></tr>').appendTo($("tbody",t));var _69=_65[i];for(var j=0;j<_69.length;j++){var col=_69[j];var _6a="";if(col.rowspan){_6a+='rowspan="'+col.rowspan+'" '}if(col.colspan){_6a+='colspan="'+col.colspan+'" '}var td=$("<td "+_6a+"></td>").appendTo(tr);if(col.checkbox){td.attr("field",col.field);$('<div class="datagrid-header-check"></div>').html('<input type="checkbox"/>').appendTo(td)}else{if(col.field){td.attr("field",col.field);td.append('<div class="datagrid-cell"><span></span><span class="datagrid-sort-icon"></span></div>');$("span",td).html(col.title);$("span.datagrid-sort-icon",td).html("&nbsp;");var _6b=td.find("div.datagrid-cell");var pos=_2(_67,col.field);if(pos>=0){_6b.addClass("datagrid-sort-"+_68[pos])}if(col.resizable==false){_6b.attr("resizable","false")}if(col.width){_6b._outerWidth(col.width);col.boxWidth=parseInt(_6b[0].style.width)}else{col.auto=true}_6b.css("text-align",(col.halign||col.align||""));col.cellClass=_58.cellClassPrefix+"-"+col.field.replace(/[\.|\s]/g,"-");_6b.addClass(col.cellClass).css("width","")}else{$('<div class="datagrid-cell-group"></div>').html(col.title).appendTo(td)}}if(col.hidden){td.hide()}}}if(_66&&_59.rownumbers){var td=$('<td rowspan="'+_59.frozenColumns.length+'"><div class="datagrid-header-rownumber"></div></td>');if($("tr",t).length==0){td.wrap('<tr class="datagrid-header-row"></tr>').parent().appendTo($("tbody",t))}else{td.prependTo($("tr:first",t))}}}function _5e(){var _6c=[];var _6d=_6e(_57,true).concat(_6e(_57));for(var i=0;i<_6d.length;i++){var col=_6f(_57,_6d[i]);if(col&&!col.checkbox){_6c.push(["."+col.cellClass,col.boxWidth?col.boxWidth+"px":"auto"])}}_58.ss.add(_6c);_58.ss.dirty(_58.cellSelectorPrefix);_58.cellSelectorPrefix="."+_58.cellClassPrefix}}function _70(_71){var _72=$.data(_71,"datagrid");var _73=_72.panel;var _74=_72.options;var dc=_72.dc;var _75=dc.header1.add(dc.header2);_75.find("input[type=checkbox]").unbind(".datagrid").bind("click.datagrid",function(e){if(_74.singleSelect&&_74.selectOnCheck){return false}if($(this).is(":checked")){_106(_71)}else{_10c(_71)}e.stopPropagation()});var _76=_75.find("div.datagrid-cell");_76.closest("td").unbind(".datagrid").bind("mouseenter.datagrid",function(){if(_72.resizing){return}$(this).addClass("datagrid-header-over")}).bind("mouseleave.datagrid",function(){$(this).removeClass("datagrid-header-over")}).bind("contextmenu.datagrid",function(e){var _77=$(this).attr("field");_74.onHeaderContextMenu.call(_71,e,_77)});_76.unbind(".datagrid").bind("click.datagrid",function(e){var p1=$(this).offset().left+5;var p2=$(this).offset().left+$(this)._outerWidth()-5;if(e.pageX<p2&&e.pageX>p1){var _78=$(this).parent().attr("field");var col=_6f(_71,_78);if(!col.sortable||_72.resizing){return}var _79=[];var _7a=[];if(_74.sortName){_79=_74.sortName.split(",");_7a=_74.sortOrder.split(",")}var pos=_2(_79,_78);var _7b=col.order||"asc";if(pos>=0){$(this).removeClass("datagrid-sort-asc datagrid-sort-desc");var _7c=_7a[pos]=="asc"?"desc":"asc";if(_74.multiSort&&_7c==_7b){_79.splice(pos,1);_7a.splice(pos,1)}else{_7a[pos]=_7c;$(this).addClass("datagrid-sort-"+_7c)}}else{if(_74.multiSort){_79.push(_78);_7a.push(_7b)}else{_79=[_78];_7a=[_7b];_76.removeClass("datagrid-sort-asc datagrid-sort-desc")}$(this).addClass("datagrid-sort-"+_7b)}_74.sortName=_79.join(",");_74.sortOrder=_7a.join(",");if(_74.remoteSort){_16b(_71)}else{var _7d=$.data(_71,"datagrid").data;_c6(_71,_7d)}_74.onSortColumn.call(_71,_74.sortName,_74.sortOrder)}}).bind("dblclick.datagrid",function(e){var p1=$(this).offset().left+5;var p2=$(this).offset().left+$(this)._outerWidth()-5;var _7e=_74.resizeHandle=="right"?(e.pageX>p2):(_74.resizeHandle=="left"?(e.pageX<p1):(e.pageX<p1||e.pageX>p2));if(_7e){var _7f=$(this).parent().attr("field");var col=_6f(_71,_7f);if(col.resizable==false){return}$(_71).datagrid("autoSizeColumn",_7f);col.auto=false}});var _80=_74.resizeHandle=="right"?"e":(_74.resizeHandle=="left"?"w":"e,w");_76.each(function(){$(this).resizable({handles:_80,disabled:($(this).attr("resizable")?$(this).attr("resizable")=="false":false),minWidth:25,onStartResize:function(e){_72.resizing=true;_75.css("cursor",$("body").css("cursor"));if(!_72.proxy){_72.proxy=$('<div class="datagrid-resize-proxy"></div>').appendTo(dc.view)}_72.proxy.css({left:e.pageX-$(_73).offset().left-1,display:"none"});setTimeout(function(){if(_72.proxy){_72.proxy.show()}},500)},onResize:function(e){_72.proxy.css({left:e.pageX-$(_73).offset().left-1,display:"block"});return false},onStopResize:function(e){_75.css("cursor","");$(this).css("height","");$(this)._outerWidth($(this)._outerWidth());var _81=$(this).parent().attr("field");var col=_6f(_71,_81);col.width=$(this)._outerWidth();col.boxWidth=parseInt(this.style.width);col.auto=undefined;$(this).css("width","");_51(_71,_81);_72.proxy.remove();_72.proxy=null;if($(this).parents("div:first.datagrid-header").parent().hasClass("datagrid-view1")){_1e(_71)}_8d(_71);_74.onResizeColumn.call(_71,_81,col.width);setTimeout(function(){_72.resizing=false},0)}})});dc.body1.add(dc.body2).unbind().bind("mouseover",function(e){if(_72.resizing){return}var tr=$(e.target).closest("tr.datagrid-row");if(!_82(tr)){return}var _83=_84(tr);_eb(_71,_83);e.stopPropagation()}).bind("mouseout",function(e){var tr=$(e.target).closest("tr.datagrid-row");if(!_82(tr)){return}var _85=_84(tr);_74.finder.getTr(_71,_85).removeClass("datagrid-row-over");e.stopPropagation()}).bind("click",function(e){var tt=$(e.target);var tr=tt.closest("tr.datagrid-row");if(!_82(tr)){return}var _86=_84(tr);if(tt.parent().hasClass("datagrid-cell-check")){if(_74.singleSelect&&_74.selectOnCheck){if(!_74.checkOnSelect){_10c(_71,true)}_f8(_71,_86)}else{if(tt.is(":checked")){_f8(_71,_86)}else{_100(_71,_86)}}}else{var row=_74.finder.getRow(_71,_86);var td=tt.closest("td[field]",tr);if(td.length){var _87=td.attr("field");_74.onClickCell.call(_71,_86,_87,row[_87])}if(_74.singleSelect==true){_f0(_71,_86)}else{if(tr.hasClass("datagrid-row-selected")){_f9(_71,_86)}else{_f0(_71,_86)}}_74.onClickRow.call(_71,_86,row)}e.stopPropagation()}).bind("dblclick",function(e){var tt=$(e.target);var tr=tt.closest("tr.datagrid-row");if(!_82(tr)){return}var _88=_84(tr);var row=_74.finder.getRow(_71,_88);var td=tt.closest("td[field]",tr);if(td.length){var _89=td.attr("field");_74.onDblClickCell.call(_71,_88,_89,row[_89])}_74.onDblClickRow.call(_71,_88,row);e.stopPropagation()}).bind("contextmenu",function(e){var tr=$(e.target).closest("tr.datagrid-row");if(!_82(tr)){return}var _8a=_84(tr);var row=_74.finder.getRow(_71,_8a);_74.onRowContextMenu.call(_71,e,_8a,row);e.stopPropagation()});dc.body2.bind("scroll",function(){var b1=dc.view1.children("div.datagrid-body");b1.scrollTop($(this).scrollTop());var c1=dc.body1.children(":first");var c2=dc.body2.children(":first");if(c1.length&&c2.length){var _8b=c1.offset().top;var _8c=c2.offset().top;if(_8b!=_8c){b1.scrollTop(b1.scrollTop()+_8b-_8c)}}dc.view2.children("div.datagrid-header,div.datagrid-footer")._scrollLeft($(this)._scrollLeft());dc.body2.children("table.datagrid-btable-frozen").css("left",-$(this)._scrollLeft())});function _84(tr){if(tr.attr("datagrid-row-index")){return parseInt(tr.attr("datagrid-row-index"))}else{return tr.attr("node-id")}}function _82(tr){return tr.length&&tr.parent().length}}function _8d(_8e){var _8f=$.data(_8e,"datagrid");var _90=_8f.options;var dc=_8f.dc;dc.body2.css("overflow-x",_90.fitColumns?"hidden":"");if(!_90.fitColumns){return}if(!_8f.leftWidth){_8f.leftWidth=0}var _91=dc.view2.children("div.datagrid-header");var _92=0;var _93;var _94=_6e(_8e,false);for(var i=0;i<_94.length;i++){var col=_6f(_8e,_94[i]);if(_95(col)){_92+=col.width;_93=col}}if(!_92){return}if(_93){_96(_93,-_8f.leftWidth)}var _97=_91.children("div.datagrid-header-inner").show();var _98=_91.width()-_91.find("table").width()-_90.scrollbarSize+_8f.leftWidth;var _99=_98/_92;if(!_90.showHeader){_97.hide()}for(var i=0;i<_94.length;i++){var col=_6f(_8e,_94[i]);if(_95(col)){var _9a=parseInt(col.width*_99);_96(col,_9a);_98-=_9a}}_8f.leftWidth=_98;if(_93){_96(_93,_8f.leftWidth)}_51(_8e);function _96(col,_9b){col.width+=_9b;col.boxWidth+=_9b}function _95(col){if(!col.hidden&&!col.checkbox&&!col.auto&&!col.fixed){return true}}}function _9c(_9d,_9e){var _9f=$.data(_9d,"datagrid");var _a0=_9f.options;var dc=_9f.dc;var tmp=$('<div class="datagrid-cell" style="position:absolute;left:-9999px"></div>').appendTo("body");if(_9e){_19(_9e);if(_a0.fitColumns){_1e(_9d);_8d(_9d)}}else{var _a1=false;var _a2=_6e(_9d,true).concat(_6e(_9d,false));for(var i=0;i<_a2.length;i++){var _9e=_a2[i];var col=_6f(_9d,_9e);if(col.auto){_19(_9e);_a1=true}}if(_a1&&_a0.fitColumns){_1e(_9d);_8d(_9d)}}tmp.remove();function _19(_a3){var _a4=dc.view.find('div.datagrid-header td[field="'+_a3+'"] div.datagrid-cell');_a4.css("width","");var col=$(_9d).datagrid("getColumnOption",_a3);col.width=undefined;col.boxWidth=undefined;col.auto=true;$(_9d).datagrid("fixColumnSize",_a3);var _a5=Math.max(_a6("header"),_a6("allbody"),_a6("allfooter"));_a4._outerWidth(_a5);col.width=_a5;col.boxWidth=parseInt(_a4[0].style.width);_a4.css("width","");$(_9d).datagrid("fixColumnSize",_a3);_a0.onResizeColumn.call(_9d,_a3,col.width);function _a6(_a7){var _a8=0;if(_a7=="header"){_a8=_a9(_a4)}else{_a0.finder.getTr(_9d,0,_a7).find('td[field="'+_a3+'"] div.datagrid-cell').each(function(){var w=_a9($(this));if(_a8<w){_a8=w}})}return _a8;function _a9(_aa){return _aa.is(":visible")?_aa._outerWidth():tmp.html(_aa.html())._outerWidth()}}}}function _51(_ab,_ac){var _ad=$.data(_ab,"datagrid");var _ae=_ad.options;var dc=_ad.dc;var _af=dc.view.find("table.datagrid-btable,table.datagrid-ftable");_af.css("table-layout","fixed");if(_ac){fix(_ac)}else{var ff=_6e(_ab,true).concat(_6e(_ab,false));for(var i=0;i<ff.length;i++){fix(ff[i])}}_af.css("table-layout","auto");_b0(_ab);setTimeout(function(){_2e(_ab);_b5(_ab)},0);function fix(_b1){var col=_6f(_ab,_b1);if(!col.checkbox){_ad.ss.set("."+col.cellClass,col.boxWidth?col.boxWidth+"px":"auto")}}}function _b0(_b2){var dc=$.data(_b2,"datagrid").dc;dc.body1.add(dc.body2).find("td.datagrid-td-merged").each(function(){var td=$(this);var _b3=td.attr("colspan")||1;var _b4=_6f(_b2,td.attr("field")).width;for(var i=1;i<_b3;i++){td=td.next();_b4+=_6f(_b2,td.attr("field")).width+1}$(this).children("div.datagrid-cell")._outerWidth(_b4)})}function _b5(_b6){var dc=$.data(_b6,"datagrid").dc;dc.view.find("div.datagrid-editable").each(function(){var _b7=$(this);var _b8=_b7.parent().attr("field");var col=$(_b6).datagrid("getColumnOption",_b8);_b7._outerWidth(col.width);var ed=$.data(this,"datagrid.editor");if(ed.actions.resize){ed.actions.resize(ed.target,_b7.width())}})}function _6f(_b9,_ba){function _bb(_bc){if(_bc){for(var i=0;i<_bc.length;i++){var cc=_bc[i];for(var j=0;j<cc.length;j++){var c=cc[j];if(c.field==_ba){return c}}}}return null}var _bd=$.data(_b9,"datagrid").options;var col=_bb(_bd.columns);if(!col){col=_bb(_bd.frozenColumns)}return col}function _6e(_be,_bf){var _c0=$.data(_be,"datagrid").options;var _c1=(_bf==true)?(_c0.frozenColumns||[[]]):_c0.columns;if(_c1.length==0){return[]}var _c2=[];function _c3(_c4){var c=0;var i=0;while(true){if(_c2[i]==undefined){if(c==_c4){return i}c++}i++}}function _c5(r){var ff=[];var c=0;for(var i=0;i<_c1[r].length;i++){var col=_c1[r][i];if(col.field){ff.push([c,col.field])}c+=parseInt(col.colspan||"1")}for(var i=0;i<ff.length;i++){ff[i][0]=_c3(ff[i][0])}for(var i=0;i<ff.length;i++){var f=ff[i];_c2[f[0]]=f[1]}}for(var i=0;i<_c1.length;i++){_c5(i)}return _c2}function _c6(_c7,_c8){var _c9=$.data(_c7,"datagrid");var _ca=_c9.options;var dc=_c9.dc;_c8=_ca.loadFilter.call(_c7,_c8);_c8.total=parseInt(_c8.total);_c9.data=_c8;if(_c8.footer){_c9.footer=_c8.footer}if(!_ca.remoteSort&&_ca.sortName){var _cb=_ca.sortName.split(",");var _cc=_ca.sortOrder.split(",");_c8.rows.sort(function(r1,r2){var r=0;for(var i=0;i<_cb.length;i++){var sn=_cb[i];var so=_cc[i];var col=_6f(_c7,sn);var _cd=col.sorter||function(a,b){return a==b?0:(a>b?1:-1)};r=_cd(r1[sn],r2[sn])*(so=="asc"?1:-1);if(r!=0){return r}}return r})}if(_ca.view.onBeforeRender){_ca.view.onBeforeRender.call(_ca.view,_c7,_c8.rows)}_ca.view.render.call(_ca.view,_c7,dc.body2,false);_ca.view.render.call(_ca.view,_c7,dc.body1,true);if(_ca.showFooter){_ca.view.renderFooter.call(_ca.view,_c7,dc.footer2,false);_ca.view.renderFooter.call(_ca.view,_c7,dc.footer1,true)}if(_ca.view.onAfterRender){_ca.view.onAfterRender.call(_ca.view,_c7)}_c9.ss.clean();_ca.onLoadSuccess.call(_c7,_c8);var _ce=$(_c7).datagrid("getPager");if(_ce.length){var _cf=_ce.pagination("options");if(_cf.total!=_c8.total){_ce.pagination("refresh",{total:_c8.total});if(_ca.pageNumber!=_cf.pageNumber){_ca.pageNumber=_cf.pageNumber;_16b(_c7)}}}_2e(_c7);dc.body2.triggerHandler("scroll");_d0();$(_c7).datagrid("autoSizeColumn");_ca.onRenderFinish.call(_c7,_c8);function _d0(){if(_ca.idField){for(var i=0;i<_c8.rows.length;i++){var row=_c8.rows[i];if(_d1(_c9.selectedRows,row)){_ca.finder.getTr(_c7,i).addClass("datagrid-row-selected")}if(_d1(_c9.checkedRows,row)){var p=_ca.finder.getTr(_c7,i).find("div.datagrid-cell-check input[type=checkbox]");p._propAttr("checked",true);_itc_togglecheck(p,true)}}}function _d1(a,r){for(var i=0;i<a.length;i++){if(a[i][_ca.idField]==r[_ca.idField]){a[i]=r;return true}}return false}}}function _d2(_d3,row){var _d4=$.data(_d3,"datagrid");var _d5=_d4.options;var _d6=_d4.data.rows;if(typeof row=="object"){return _2(_d6,row)}else{for(var i=0;i<_d6.length;i++){if(_d6[i][_d5.idField]==row){return i}}return -1}}function _d7(_d8){var _d9=$.data(_d8,"datagrid");var _da=_d9.options;var _db=_d9.data;if(_da.idField){return _d9.selectedRows}else{var _dc=[];_da.finder.getTr(_d8,"","selected",2).each(function(){var _dd=parseInt($(this).attr("datagrid-row-index"));_dc.push(_db.rows[_dd])});return _dc}}function _de(_df){var _e0=$.data(_df,"datagrid");var _e1=_e0.options;if(_e1.idField){return _e0.checkedRows}else{var _e2=[];_e1.finder.getTr(_df,"","checked",2).each(function(){_e2.push(_e1.finder.getRow(_df,$(this)))});return _e2}}function _e3(_e4,_e5){var _e6=$.data(_e4,"datagrid");var dc=_e6.dc;var _e7=_e6.options;var tr=_e7.finder.getTr(_e4,_e5);if(tr.length){if(tr.closest("table").hasClass("datagrid-btable-frozen")){return}var _e8=dc.view2.children("div.datagrid-header")._outerHeight();var _e9=dc.body2;var _ea=_e9.outerHeight(true)-_e9.outerHeight();var top=tr.position().top-_e8-_ea;if(top<0){_e9.scrollTop(_e9.scrollTop()+top)}else{if(top+tr._outerHeight()>_e9.height()-18){_e9.scrollTop(_e9.scrollTop()+top+tr._outerHeight()-_e9.height()+18)}}}}function _eb(_ec,_ed){var _ee=$.data(_ec,"datagrid");var _ef=_ee.options;_ef.finder.getTr(_ec,_ee.highlightIndex).removeClass("datagrid-row-over");_ef.finder.getTr(_ec,_ed).addClass("datagrid-row-over");_ee.highlightIndex=_ed}function _f0(_f1,_f2,_f3){var _f4=$.data(_f1,"datagrid");var dc=_f4.dc;var _f5=_f4.options;var _f6=_f4.selectedRows;if(_f5.singleSelect){_f7(_f1);_f6.splice(0,_f6.length)}if(!_f3&&_f5.checkOnSelect){_f8(_f1,_f2,true)}var row=_f5.finder.getRow(_f1,_f2);if(_f5.idField){_7(_f6,_f5.idField,row)}_f5.finder.getTr(_f1,_f2).addClass("datagrid-row-selected");_f5.onSelect.call(_f1,_f2,row);_e3(_f1,_f2)}function _f9(_fa,_fb,_fc){var _fd=$.data(_fa,"datagrid");var dc=_fd.dc;var _fe=_fd.options;var _ff=$.data(_fa,"datagrid").selectedRows;if(!_fc&&_fe.checkOnSelect){_100(_fa,_fb,true)}_fe.finder.getTr(_fa,_fb).removeClass("datagrid-row-selected");var row=_fe.finder.getRow(_fa,_fb);if(_fe.idField){_4(_ff,_fe.idField,row[_fe.idField])}_fe.onUnselect.call(_fa,_fb,row)}function _101(_102,_103){var _104=$.data(_102,"datagrid");var opts=_104.options;var rows=_104.data.rows;var _105=$.data(_102,"datagrid").selectedRows;if(!_103&&opts.checkOnSelect){_106(_102,true)}opts.finder.getTr(_102,"","allbody").addClass("datagrid-row-selected");if(opts.idField){for(var _107=0;_107<rows.length;_107++){_7(_105,opts.idField,rows[_107])}}opts.onSelectAll.call(_102,rows)}function _f7(_108,_109){var _10a=$.data(_108,"datagrid");var opts=_10a.options;var rows=_10a.data.rows;var _10b=$.data(_108,"datagrid").selectedRows;if(!_109&&opts.checkOnSelect){_10c(_108,true)}opts.finder.getTr(_108,"","selected").removeClass("datagrid-row-selected");if(opts.idField){for(var _10d=0;_10d<rows.length;_10d++){_4(_10b,opts.idField,rows[_10d][opts.idField])}}opts.onUnselectAll.call(_108,rows)}function _f8(_10e,_10f,_110){var _111=$.data(_10e,"datagrid");var opts=_111.options;if(!_110&&opts.selectOnCheck){_f0(_10e,_10f,true)}var tr=opts.finder.getTr(_10e,_10f).addClass("datagrid-row-checked");var ck=tr.find("div.datagrid-cell-check input[type=checkbox]");ck._propAttr("checked",true);_itc_togglecheck(ck,true);tr=opts.finder.getTr(_10e,"","checked",2);if(tr.length==_111.data.rows.length){var dc=_111.dc;var _112=dc.header1.add(dc.header2);var p=_112.find("input[type=checkbox]");p._propAttr("checked",true);_itc_togglecheck(p,true)}var row=opts.finder.getRow(_10e,_10f);if(opts.idField){_7(_111.checkedRows,opts.idField,row)}opts.onCheck.call(_10e,_10f,row)}function _100(_113,_114,_115){var _116=$.data(_113,"datagrid");var opts=_116.options;if(!_115&&opts.selectOnCheck){_f9(_113,_114,true)}var tr=opts.finder.getTr(_113,_114).removeClass("datagrid-row-checked");var ck=tr.find("div.datagrid-cell-check input[type=checkbox]");ck._propAttr("checked",false);var dc=_116.dc;var _117=dc.header1.add(dc.header2);var p=_117.find("input[type=checkbox]");p._propAttr("checked",false);_itc_togglecheck(p,false);var row=opts.finder.getRow(_113,_114);if(opts.idField){_4(_116.checkedRows,opts.idField,row[opts.idField])}opts.onUncheck.call(_113,_114,row)}function _106(_118,_119){var _11a=$.data(_118,"datagrid");var opts=_11a.options;var rows=_11a.data.rows;if(!_119&&opts.selectOnCheck){_101(_118,true)}var dc=_11a.dc;var hck=dc.header1.add(dc.header2).find("input[type=checkbox]");var bck=opts.finder.getTr(_118,"","allbody").addClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]");hck.add(bck)._propAttr("checked",true);_itc_togglecheck(bck,true);if(opts.idField){for(var i=0;i<rows.length;i++){_7(_11a.checkedRows,opts.idField,rows[i])}}opts.onCheckAll.call(_118,rows)}function _10c(_11b,_11c){var _11d=$.data(_11b,"datagrid");var opts=_11d.options;var rows=_11d.data.rows;if(!_11c&&opts.selectOnCheck){_f7(_11b,true)}var dc=_11d.dc;var hck=dc.header1.add(dc.header2).find("input[type=checkbox]");var bck=opts.finder.getTr(_11b,"","checked").removeClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]");hck.add(bck)._propAttr("checked",false);_itc_togglecheck(bck,false);if(opts.idField){for(var i=0;i<rows.length;i++){_4(_11d.checkedRows,opts.idField,rows[i][opts.idField])}}opts.onUncheckAll.call(_11b,rows)}function _11e(_11f,_120){var opts=$.data(_11f,"datagrid").options;var tr=opts.finder.getTr(_11f,_120);var row=opts.finder.getRow(_11f,_120);if(tr.hasClass("datagrid-row-editing")){return}if(opts.onBeforeEdit.call(_11f,_120,row)==false){return}tr.addClass("datagrid-row-editing");_121(_11f,_120);_b5(_11f);tr.find("div.datagrid-editable").each(function(){var _122=$(this).parent().attr("field");var ed=$.data(this,"datagrid.editor");ed.actions.setValue(ed.target,row[_122])});_123(_11f,_120)}function _124(_125,_126,_127){var opts=$.data(_125,"datagrid").options;var _128=$.data(_125,"datagrid").updatedRows;var _129=$.data(_125,"datagrid").insertedRows;var tr=opts.finder.getTr(_125,_126);var row=opts.finder.getRow(_125,_126);if(!tr.hasClass("datagrid-row-editing")){return}if(!_127){if(!_123(_125,_126)){return}var _12a=false;var _12b={};tr.find("div.datagrid-editable").each(function(){var _12c=$(this).parent().attr("field");var ed=$.data(this,"datagrid.editor");var _12d=ed.actions.getValue(ed.target);if(row[_12c]!=_12d){row[_12c]=_12d;_12a=true;_12b[_12c]=_12d}});if(_12a){if(_2(_129,row)==-1){if(_2(_128,row)==-1){_128.push(row)}}}}tr.removeClass("datagrid-row-editing");_12e(_125,_126);$(_125).datagrid("refreshRow",_126);if(!_127){opts.onAfterEdit.call(_125,_126,row,_12b)}else{opts.onCancelEdit.call(_125,_126,row)}}function _12f(_130,_131){var opts=$.data(_130,"datagrid").options;var tr=opts.finder.getTr(_130,_131);var _132=[];tr.children("td").each(function(){var cell=$(this).find("div.datagrid-editable");if(cell.length){var ed=$.data(cell[0],"datagrid.editor");_132.push(ed)}});return _132}function _133(_134,_135){var _136=_12f(_134,_135.index!=undefined?_135.index:_135.id);for(var i=0;i<_136.length;i++){if(_136[i].field==_135.field){return _136[i]}}return null}function _121(_137,_138){var opts=$.data(_137,"datagrid").options;var tr=opts.finder.getTr(_137,_138);var lineNum=tr.attr("datagrid-row-index");tr.children("td").each(function(){var cell=$(this).find("div.datagrid-cell");var _139=$(this).attr("field");var col=_6f(_137,_139);if(col&&col.editor){var _13a,_13b;if(typeof col.editor=="string"){_13a=col.editor}else{_13a=col.editor.type;_13b=col.editor.options}var _13c=opts.editors[_13a];if(_13c){var _13d=cell.html();var _13e=cell._outerWidth();cell.addClass("datagrid-editable");cell._outerWidth(_13e);cell.html('<table border="0" cellspacing="0" cellpadding="1"><tr><td></td></tr></table>');cell.children("table").bind("click dblclick contextmenu",function(e){e.stopPropagation()});$.data(cell[0],"datagrid.editor",{actions:_13c,target:_13c.init(cell.find("td"),_13b,_139,lineNum),field:_139,type:_13a,oldHtml:_13d})}}});_2e(_137,_138,true)}function _12e(_13f,_140){var opts=$.data(_13f,"datagrid").options;var tr=opts.finder.getTr(_13f,_140);tr.children("td").each(function(){var cell=$(this).find("div.datagrid-editable");if(cell.length){var ed=$.data(cell[0],"datagrid.editor");if(ed.actions.destroy){ed.actions.destroy(ed.target)}cell.html(ed.oldHtml);$.removeData(cell[0],"datagrid.editor");cell.removeClass("datagrid-editable");cell.css("width","")}})}function _123(_141,_142){var tr=$.data(_141,"datagrid").options.finder.getTr(_141,_142);if(!tr.hasClass("datagrid-row-editing")){return true}var vbox=tr.find(".validatebox-text");vbox.validatebox("validate");vbox.trigger("mouseleave");var _143=tr.find(".validatebox-invalid");return _143.length==0}function _144(_145,_146){var _147=$.data(_145,"datagrid").insertedRows;var _148=$.data(_145,"datagrid").deletedRows;var _149=$.data(_145,"datagrid").updatedRows;if(!_146){var rows=[];rows=rows.concat(_147);rows=rows.concat(_148);rows=rows.concat(_149);return rows}else{if(_146=="inserted"){return _147}else{if(_146=="deleted"){return _148}else{if(_146=="updated"){return _149}}}}return[]}function _14a(_14b,_14c){var _14d=$.data(_14b,"datagrid");var opts=_14d.options;var data=_14d.data;var _14e=_14d.insertedRows;var _14f=_14d.deletedRows;$(_14b).datagrid("cancelEdit",_14c);var row=data.rows[_14c];if(_2(_14e,row)>=0){_4(_14e,row)}else{_14f.push(row)}_4(_14d.selectedRows,opts.idField,data.rows[_14c][opts.idField]);_4(_14d.checkedRows,opts.idField,data.rows[_14c][opts.idField]);opts.view.deleteRow.call(opts.view,_14b,_14c);if(opts.height=="auto"){_2e(_14b)}$(_14b).datagrid("getPager").pagination("refresh",{total:data.total})}function _150(_151,_152){var data=$.data(_151,"datagrid").data;var view=$.data(_151,"datagrid").options.view;var _153=$.data(_151,"datagrid").insertedRows;view.insertRow.call(view,_151,_152.index,_152.row);_153.push(_152.row);$(_151).datagrid("getPager").pagination("refresh",{total:data.total})}function _154(_155,row){var data=$.data(_155,"datagrid").data;var view=$.data(_155,"datagrid").options.view;var _156=$.data(_155,"datagrid").insertedRows;view.insertRow.call(view,_155,null,row);_156.push(row);$(_155).datagrid("getPager").pagination("refresh",{total:data.total})}function _157(_158){var _159=$.data(_158,"datagrid");var data=_159.data;var rows=data.rows;var _15a=[];for(var i=0;i<rows.length;i++){_15a.push($.extend({},rows[i]))}_159.originalRows=_15a;_159.updatedRows=[];_159.insertedRows=[];_159.deletedRows=[]}function _15b(_15c){var data=$.data(_15c,"datagrid").data;var ok=true;for(var i=0,len=data.rows.length;i<len;i++){if(_123(_15c,i)){_124(_15c,i,false)}else{ok=false}}if(ok){_157(_15c)}}function _15d(_15e){var _15f=$.data(_15e,"datagrid");var opts=_15f.options;var _160=_15f.originalRows;var _161=_15f.insertedRows;var _162=_15f.deletedRows;var _163=_15f.selectedRows;var _164=_15f.checkedRows;var data=_15f.data;function _165(a){var ids=[];for(var i=0;i<a.length;i++){ids.push(a[i][opts.idField])}return ids}function _166(ids,_167){for(var i=0;i<ids.length;i++){var _168=_d2(_15e,ids[i]);if(_168>=0){(_167=="s"?_f0:_f8)(_15e,_168,true)}}}for(var i=0;i<data.rows.length;i++){_124(_15e,i,true)}var _169=_165(_163);var _16a=_165(_164);_163.splice(0,_163.length);_164.splice(0,_164.length);data.total+=_162.length-_161.length;data.rows=_160;_c6(_15e,data);_166(_169,"s");_166(_16a,"c");_157(_15e)}function _16b(_16c,_16d){var opts=$.data(_16c,"datagrid").options;if(_16d){opts.queryParams=_16d}var _16e=$.extend({},opts.queryParams);if(opts.pagination){$.extend(_16e,{page:opts.pageNumber,rows:opts.pageSize})}if(opts.sortName){$.extend(_16e,{sort:opts.sortName,order:opts.sortOrder})}if(opts.onBeforeLoad.call(_16c,_16e)==false){return}$(_16c).datagrid("loading");setTimeout(function(){_16f()},0);function _16f(){var _170=opts.loader.call(_16c,_16e,function(data){setTimeout(function(){$(_16c).datagrid("loaded")},0);_c6(_16c,data);setTimeout(function(){_157(_16c)},0)},function(){setTimeout(function(){$(_16c).datagrid("loaded")},0);opts.onLoadError.apply(_16c,arguments)});if(_170==false){$(_16c).datagrid("loaded")}}}function _171(_172,_173){var opts=$.data(_172,"datagrid").options;_173.rowspan=_173.rowspan||1;_173.colspan=_173.colspan||1;if(_173.rowspan==1&&_173.colspan==1){return}var tr=opts.finder.getTr(_172,(_173.index!=undefined?_173.index:_173.id));if(!tr.length){return}var row=opts.finder.getRow(_172,tr);var _174=row[_173.field];var td=tr.find('td[field="'+_173.field+'"]');td.attr("rowspan",_173.rowspan).attr("colspan",_173.colspan);td.addClass("datagrid-td-merged");for(var i=1;i<_173.colspan;i++){td=td.next();td.hide();row[td.attr("field")]=_174}for(var i=1;i<_173.rowspan;i++){tr=tr.next();if(!tr.length){break}var row=opts.finder.getRow(_172,tr);var td=tr.find('td[field="'+_173.field+'"]').hide();row[td.attr("field")]=_174;for(var j=1;j<_173.colspan;j++){td=td.next();td.hide();row[td.attr("field")]=_174}}_b0(_172)}$.fn.datagrid=function(_175,_176){if(typeof _175=="string"){return $.fn.datagrid.methods[_175](this,_176)}_175=_175||{};return this.each(function(){var _177=$.data(this,"datagrid");var opts;if(_177){opts=$.extend(_177.options,_175);_177.options=opts}else{opts=$.extend({},$.extend({},$.fn.datagrid.defaults,{queryParams:{}}),$.fn.datagrid.parseOptions(this),_175);$(this).css("width","").css("height","");var _178=_47(this,opts.rownumbers);if(!opts.columns){opts.columns=_178.columns}if(!opts.frozenColumns){opts.frozenColumns=_178.frozenColumns}opts.columns=$.extend(true,[],opts.columns);opts.frozenColumns=$.extend(true,[],opts.frozenColumns);opts.view=$.extend({},opts.view);$.data(this,"datagrid",{options:opts,panel:_178.panel,dc:_178.dc,ss:_178.ss,selectedRows:[],checkedRows:[],data:{total:0,rows:[]},originalRows:[],updatedRows:[],insertedRows:[],deletedRows:[]})}_56(this);if(opts.data){_c6(this,opts.data);_157(this)}else{var data=$.fn.datagrid.parseData(this);if(data.total>0){_c6(this,data);_157(this)}}_19(this);_16b(this);_70(this)})};var _179={text:{init:function(_17a,_17b){var _17c=$('<input type="text" class="datagrid-editable-input">').appendTo(_17a);return _17c},getValue:function(_17d){return $(_17d).val()},setValue:function(_17e,_17f){$(_17e).val(_17f)},resize:function(_180,_181){$(_180)._outerWidth(_181)._outerHeight(22)}},textarea:{init:function(_182,_183){var _184=$('<textarea class="datagrid-editable-input"></textarea>').appendTo(_182);return _184},getValue:function(_185){return $(_185).val()},setValue:function(_186,_187){$(_186).val(_187)},resize:function(_188,_189){$(_188)._outerWidth(_189)}},checkbox:{init:function(_18a,_18b){var _18c=$('<input type="checkbox">').appendTo(_18a);_18c.val(_18b.on);_18c.attr("offval",_18b.off);return _18c},getValue:function(_18d){if($(_18d).is(":checked")){return $(_18d).val()}else{return $(_18d).attr("offval")}},setValue:function(_18e,_18f){var _190=false;if($(_18e).val()==_18f){_190=true}$(_18e)._propAttr("checked",_190)}},numberbox:{init:function(_191,_192){var _193=$('<input type="text" class="datagrid-editable-input">').appendTo(_191);_193.numberbox(_192);return _193},destroy:function(_194){$(_194).numberbox("destroy")},getValue:function(_195){$(_195).blur();return $(_195).numberbox("getValue")},setValue:function(_196,_197){$(_196).numberbox("setValue",_197)},resize:function(_198,_199){$(_198)._outerWidth(_199)._outerHeight(22)}},validatebox:{init:function(_19a,_19b){var _19c=$('<input type="text" class="datagrid-editable-input">').appendTo(_19a);_19c.validatebox(_19b);return _19c},destroy:function(_19d){$(_19d).validatebox("destroy")},getValue:function(_19e){return $(_19e).val()},setValue:function(_19f,_1a0){$(_19f).val(_1a0)},resize:function(_1a1,_1a2){$(_1a1)._outerWidth(_1a2)._outerHeight(22)}},datebox:{init:function(_1a3,_1a4){var _1a5=$('<input type="text">').appendTo(_1a3);_1a5.datebox(_1a4);return _1a5},destroy:function(_1a6){$(_1a6).datebox("destroy")},getValue:function(_1a7){return $(_1a7).datebox("getValue")},setValue:function(_1a8,_1a9){$(_1a8).datebox("setValue",_1a9)},resize:function(_1aa,_1ab){$(_1aa).datebox("resize",_1ab)}},combobox:{init:function(_1ac,_1ad){var _1ae=$('<input type="text">').appendTo(_1ac);_1ae.combobox(_1ad||{});return _1ae},destroy:function(_1af){$(_1af).combobox("destroy")},getValue:function(_1b0){var opts=$(_1b0).combobox("options");if(opts.multiple){return $(_1b0).combobox("getValues").join(opts.separator)}else{return $(_1b0).combobox("getValue")}},setValue:function(_1b1,_1b2){var opts=$(_1b1).combobox("options");if(opts.multiple){if(_1b2){$(_1b1).combobox("setValues",_1b2.split(opts.separator))}else{$(_1b1).combobox("clear")}}else{$(_1b1).combobox("setValue",_1b2)}},resize:function(_1b3,_1b4){$(_1b3).combobox("resize",_1b4)}},combotree:{init:function(_1b5,_1b6){var _1b7=$('<input type="text">').appendTo(_1b5);_1b7.combotree(_1b6);return _1b7},destroy:function(_1b8){$(_1b8).combotree("destroy")},getValue:function(_1b9){return $(_1b9).combotree("getValue")},setValue:function(_1ba,_1bb){$(_1ba).combotree("setValue",_1bb)},resize:function(_1bc,_1bd){$(_1bc).combotree("resize",_1bd)}}};$.fn.datagrid.methods={options:function(jq){var _1be=$.data(jq[0],"datagrid").options;var _1bf=$.data(jq[0],"datagrid").panel.panel("options");var opts=$.extend(_1be,{width:_1bf.width,height:_1bf.height,closed:_1bf.closed,collapsed:_1bf.collapsed,minimized:_1bf.minimized,maximized:_1bf.maximized});return opts},getPanel:function(jq){return $.data(jq[0],"datagrid").panel},getPager:function(jq){return $.data(jq[0],"datagrid").panel.children("div.datagrid-pager")},getColumnFields:function(jq,_1c0){return _6e(jq[0],_1c0)},getColumnOption:function(jq,_1c1){return _6f(jq[0],_1c1)},resize:function(jq,_1c2){return jq.each(function(){_19(this,_1c2)})},load:function(jq,_1c3){return jq.each(function(){var opts=$(this).datagrid("options");opts.pageNumber=1;var _1c4=$(this).datagrid("getPager");_1c4.pagination("refresh",{pageNumber:1});_16b(this,_1c3)})},reload:function(jq,_1c5){return jq.each(function(){_16b(this,_1c5)})},reloadFooter:function(jq,_1c6){return jq.each(function(){var opts=$.data(this,"datagrid").options;var dc=$.data(this,"datagrid").dc;if(_1c6){$.data(this,"datagrid").footer=_1c6}if(opts.showFooter){opts.view.renderFooter.call(opts.view,this,dc.footer2,false);opts.view.renderFooter.call(opts.view,this,dc.footer1,true);if(opts.view.onAfterRender){opts.view.onAfterRender.call(opts.view,this)}$(this).datagrid("fixRowHeight")}})},loading:function(jq){return jq.each(function(){var opts=$.data(this,"datagrid").options;$(this).datagrid("getPager").pagination("loading");if(opts.loadMsg){var _1c7=$(this).datagrid("getPanel");if(!_1c7.children("div.datagrid-mask").length){$('<div class="datagrid-mask" style="display:block"></div>').appendTo(_1c7);var msg=$('<div class="datagrid-mask-msg" style="display:block;left:50%"></div>').html(opts.loadMsg).appendTo(_1c7);msg._outerHeight(40);msg.css({marginLeft:(-msg.outerWidth()/2),lineHeight:(msg.height()+"px")})}}})},loaded:function(jq){return jq.each(function(){$(this).datagrid("getPager").pagination("loaded");var _1c8=$(this).datagrid("getPanel");_1c8.children("div.datagrid-mask-msg").remove();_1c8.children("div.datagrid-mask").remove()})},fitColumns:function(jq){return jq.each(function(){_8d(this)})},fixColumnSize:function(jq,_1c9){return jq.each(function(){_51(this,_1c9)})},fixRowHeight:function(jq,_1ca){return jq.each(function(){_2e(this,_1ca)})},freezeRow:function(jq,_1cb){return jq.each(function(){_3f(this,_1cb)})},autoSizeColumn:function(jq,_1cc){return jq.each(function(){_9c(this,_1cc)})},loadData:function(jq,data){return jq.each(function(){_c6(this,data);_157(this)})},getData:function(jq){return $.data(jq[0],"datagrid").data},getRows:function(jq){return $.data(jq[0],"datagrid").data.rows},getFooterRows:function(jq){return $.data(jq[0],"datagrid").footer},getRowIndex:function(jq,id){return _d2(jq[0],id)},getChecked:function(jq){return _de(jq[0])},getSelected:function(jq){var rows=_d7(jq[0]);return rows.length>0?rows[0]:null},getSelections:function(jq){return _d7(jq[0])},clearSelections:function(jq){return jq.each(function(){var _1cd=$.data(this,"datagrid").selectedRows;_1cd.splice(0,_1cd.length);_f7(this)})},clearChecked:function(jq){return jq.each(function(){var _1ce=$.data(this,"datagrid").checkedRows;_1ce.splice(0,_1ce.length);_10c(this)})},scrollTo:function(jq,_1cf){return jq.each(function(){_e3(this,_1cf)})},highlightRow:function(jq,_1d0){return jq.each(function(){_eb(this,_1d0);_e3(this,_1d0)})},selectAll:function(jq){return jq.each(function(){_101(this)})},unselectAll:function(jq){return jq.each(function(){_f7(this)})},selectRow:function(jq,_1d1){return jq.each(function(){_f0(this,_1d1)})},selectRecord:function(jq,id){return jq.each(function(){var opts=$.data(this,"datagrid").options;if(opts.idField){var _1d2=_d2(this,id);if(_1d2>=0){$(this).datagrid("selectRow",_1d2)}}})},unselectRow:function(jq,_1d3){return jq.each(function(){_f9(this,_1d3)})},checkRow:function(jq,_1d4){return jq.each(function(){_f8(this,_1d4)})},uncheckRow:function(jq,_1d5){return jq.each(function(){_100(this,_1d5)})},checkAll:function(jq){return jq.each(function(){_106(this)})},uncheckAll:function(jq){return jq.each(function(){_10c(this)})},beginEdit:function(jq,_1d6){return jq.each(function(){_11e(this,_1d6)})},endEdit:function(jq,_1d7){return jq.each(function(){_124(this,_1d7,false)})},cancelEdit:function(jq,_1d8){return jq.each(function(){_124(this,_1d8,true)})},getEditors:function(jq,_1d9){return _12f(jq[0],_1d9)},getEditor:function(jq,_1da){return _133(jq[0],_1da)},refreshRow:function(jq,_1db){return jq.each(function(){var opts=$.data(this,"datagrid").options;opts.view.refreshRow.call(opts.view,this,_1db)})},validateRow:function(jq,_1dc){return _123(jq[0],_1dc)},updateRow:function(jq,_1dd){return jq.each(function(){var opts=$.data(this,"datagrid").options;opts.view.updateRow.call(opts.view,this,_1dd.index,_1dd.row)})},appendRow:function(jq,row){return jq.each(function(){_154(this,row)})},insertRow:function(jq,_1de){return jq.each(function(){_150(this,_1de)})},deleteRow:function(jq,_1df){return jq.each(function(){_14a(this,_1df)})},getChanges:function(jq,_1e0){return _144(jq[0],_1e0)},acceptChanges:function(jq){return jq.each(function(){_15b(this)})},rejectChanges:function(jq){return jq.each(function(){_15d(this)})},mergeCells:function(jq,_1e1){return jq.each(function(){_171(this,_1e1)})},showColumn:function(jq,_1e2){return jq.each(function(){var _1e3=$(this).datagrid("getPanel");_1e3.find('td[field="'+_1e2+'"]').show();$(this).datagrid("getColumnOption",_1e2).hidden=false;$(this).datagrid("fitColumns")})},hideColumn:function(jq,_1e4){return jq.each(function(){var _1e5=$(this).datagrid("getPanel");_1e5.find('td[field="'+_1e4+'"]').hide();$(this).datagrid("getColumnOption",_1e4).hidden=true;$(this).datagrid("fitColumns")})}};$.fn.datagrid.parseOptions=function(_1e6){var t=$(_1e6);return $.extend({},$.fn.panel.parseOptions(_1e6),$.parser.parseOptions(_1e6,["url","toolbar","idField","sortName","sortOrder","pagePosition","resizeHandle",{fitColumns:"boolean",autoRowHeight:"boolean",striped:"boolean",nowrap:"boolean"},{rownumbers:"boolean",singleSelect:"boolean",checkOnSelect:"boolean",selectOnCheck:"boolean"},{pagination:"boolean",pageSize:"number",pageNumber:"number"},{multiSort:"boolean",remoteSort:"boolean",showHeader:"boolean",showFooter:"boolean"},{scrollbarSize:"number"}]),{pageList:(t.attr("pageList")?eval(t.attr("pageList")):undefined),loadMsg:(t.attr("loadMsg")!=undefined?t.attr("loadMsg"):undefined),rowStyler:(t.attr("rowStyler")?eval(t.attr("rowStyler")):undefined)})};$.fn.datagrid.parseData=function(_1e7){var t=$(_1e7);var data={total:0,rows:[]};var _1e8=t.datagrid("getColumnFields",true).concat(t.datagrid("getColumnFields",false));t.find("tbody tr").each(function(){data.total++;var row={};$.extend(row,$.parser.parseOptions(this,["iconCls","state"]));for(var i=0;i<_1e8.length;i++){row[_1e8[i]]=$(this).find("td:eq("+i+")").html()}data.rows.push(row)});return data};var _1e9={render:function(_1ea,_1eb,_1ec){var _1ed=$.data(_1ea,"datagrid");var opts=_1ed.options;var rows=_1ed.data.rows;var _1ee=$(_1ea).datagrid("getColumnFields",_1ec);if(_1ec){if(!(opts.rownumbers||(opts.frozenColumns&&opts.frozenColumns.length))){return}}var _1ef=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var i=0;i<rows.length;i++){var css=opts.rowStyler?opts.rowStyler.call(_1ea,i,rows[i]):"";var _1f0="";var _1f1="";if(typeof css=="string"){_1f1=css}else{if(css){_1f0=css["class"]||"";_1f1=css.style||""}}var cls='class="datagrid-row '+(i%2&&opts.striped?"datagrid-row-alt ":" ")+_1f0+'"';var _1f2=_1f1?'style="'+_1f1+'"':"";var _1f3=_1ed.rowIdPrefix+"-"+(_1ec?1:2)+"-"+i;_1ef.push('<tr id="'+_1f3+'" datagrid-row-index="'+i+'" '+cls+" "+_1f2+">");_1ef.push(this.renderRow.call(this,_1ea,_1ee,_1ec,i,rows[i]));_1ef.push("</tr>")}_1ef.push("</tbody></table>");$(_1eb).html(_1ef.join(""))},renderFooter:function(_1f4,_1f5,_1f6){var opts=$.data(_1f4,"datagrid").options;var rows=$.data(_1f4,"datagrid").footer||[];var _1f7=$(_1f4).datagrid("getColumnFields",_1f6);var _1f8=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var i=0;i<rows.length;i++){_1f8.push('<tr class="datagrid-row" datagrid-row-index="'+i+'">');_1f8.push(this.renderRow.call(this,_1f4,_1f7,_1f6,i,rows[i]));_1f8.push("</tr>")}_1f8.push("</tbody></table>");$(_1f5).html(_1f8.join(""))},renderRow:function(_1f9,_1fa,_1fb,_1fc,_1fd){var opts=$.data(_1f9,"datagrid").options;var cc=[];if(_1fb&&opts.rownumbers){var _1fe=_1fc+1;if(opts.pagination){_1fe+=(opts.pageNumber-1)*opts.pageSize}cc.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+_1fe+"</div></td>")}for(var i=0;i<_1fa.length;i++){var _1ff=_1fa[i];var col=$(_1f9).datagrid("getColumnOption",_1ff);if(col){var _200=_1fd[_1ff];var css=col.styler?(col.styler(_200,_1fd,_1fc)||""):"";var _201="";var _202="";if(typeof css=="string"){_202=css}else{if(cc){_201=css["class"]||"";_202=css.style||""}}var cls=_201?'class="'+_201+'"':"";var _203=col.hidden?'style="display:none;'+_202+'"':(_202?'style="'+_202+'"':"");cc.push('<td field="'+_1ff+'" '+cls+" "+_203+">");if(col.checkbox){var _203=""}else{var _203=_202;if(col.align){_203+=";text-align:"+col.align+";"}if(!opts.nowrap){_203+=";white-space:normal;height:auto;"}else{if(opts.autoRowHeight){_203+=";height:auto;"}}}cc.push('<div style="'+_203+'" ');cc.push(col.checkbox?'class="datagrid-cell-check"':'class="datagrid-cell '+col.cellClass+'"');cc.push(">");if(col.checkbox){cc.push('<input type="checkbox" name="'+_1ff+'" value="'+(_200!=undefined?_200:"")+'">')}else{if(col.formatter){cc.push(col.formatter(_200,_1fd,_1fc))}else{cc.push(_200)}}cc.push("</div>");cc.push("</td>")}}return cc.join("")},refreshRow:function(_204,_205){this.updateRow.call(this,_204,_205,{})},updateRow:function(_206,_207,row){var opts=$.data(_206,"datagrid").options;var rows=$(_206).datagrid("getRows");$.extend(rows[_207],row);var css=opts.rowStyler?opts.rowStyler.call(_206,_207,rows[_207]):"";var _208="";var _209="";if(typeof css=="string"){_209=css}else{if(css){_208=css["class"]||"";_209=css.style||""}}var _208="datagrid-row "+(_207%2&&opts.striped?"datagrid-row-alt ":" ")+_208;function _20a(_20b){var _20c=$(_206).datagrid("getColumnFields",_20b);var tr=opts.finder.getTr(_206,_207,"body",(_20b?1:2));var _20d=tr.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");tr.html(this.renderRow.call(this,_206,_20c,_20b,_207,rows[_207]));tr.attr("style",_209).attr("class",tr.hasClass("datagrid-row-selected")?_208+" datagrid-row-selected":_208);if(_20d){tr.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",true)}}_20a.call(this,true);_20a.call(this,false);$(_206).datagrid("fixRowHeight",_207)},insertRow:function(_20e,_20f,row){var _210=$.data(_20e,"datagrid");var opts=_210.options;var dc=_210.dc;var data=_210.data;if(_20f==undefined||_20f==null){_20f=data.rows.length}if(_20f>data.rows.length){_20f=data.rows.length}function _211(_212){var _213=_212?1:2;for(var i=data.rows.length-1;i>=_20f;i--){var tr=opts.finder.getTr(_20e,i,"body",_213);tr.attr("datagrid-row-index",i+1);tr.attr("id",_210.rowIdPrefix+"-"+_213+"-"+(i+1));if(_212&&opts.rownumbers){var _214=i+2;if(opts.pagination){_214+=(opts.pageNumber-1)*opts.pageSize}tr.find("div.datagrid-cell-rownumber").html(_214)}if(opts.striped){tr.removeClass("datagrid-row-alt").addClass((i+1)%2?"datagrid-row-alt":"")}}}function _215(_216){var _217=_216?1:2;var _218=$(_20e).datagrid("getColumnFields",_216);var _219=_210.rowIdPrefix+"-"+_217+"-"+_20f;var tr='<tr id="'+_219+'" class="datagrid-row" datagrid-row-index="'+_20f+'"></tr>';if(_20f>=data.rows.length){if(data.rows.length){opts.finder.getTr(_20e,"","last",_217).after(tr)}else{var cc=_216?dc.body1:dc.body2;cc.html('<table cellspacing="0" cellpadding="0" border="0"><tbody>'+tr+"</tbody></table>")}}else{opts.finder.getTr(_20e,_20f+1,"body",_217).before(tr)}}_211.call(this,true);_211.call(this,false);_215.call(this,true);_215.call(this,false);data.total+=1;data.rows.splice(_20f,0,row);this.refreshRow.call(this,_20e,_20f)},deleteRow:function(_21a,_21b){var _21c=$.data(_21a,"datagrid");var opts=_21c.options;var data=_21c.data;function _21d(_21e){var _21f=_21e?1:2;for(var i=_21b+1;i<data.rows.length;i++){var tr=opts.finder.getTr(_21a,i,"body",_21f);tr.attr("datagrid-row-index",i-1);tr.attr("id",_21c.rowIdPrefix+"-"+_21f+"-"+(i-1));if(_21e&&opts.rownumbers){var _220=i;if(opts.pagination){_220+=(opts.pageNumber-1)*opts.pageSize}tr.find("div.datagrid-cell-rownumber").html(_220)}if(opts.striped){tr.removeClass("datagrid-row-alt").addClass((i-1)%2?"datagrid-row-alt":"")}}}opts.finder.getTr(_21a,_21b).remove();_21d.call(this,true);_21d.call(this,false);data.total-=1;data.rows.splice(_21b,1)},onBeforeRender:function(_221,rows){},onAfterRender:function(_222){var opts=$.data(_222,"datagrid").options;if(opts.showFooter){var _223=$(_222).datagrid("getPanel").find("div.datagrid-footer");_223.find("div.datagrid-cell-rownumber,div.datagrid-cell-check").css("visibility","hidden")}}};$.fn.datagrid.defaults=$.extend({},$.fn.panel.defaults,{frozenColumns:undefined,columns:undefined,fitColumns:false,resizeHandle:"right",autoRowHeight:true,toolbar:null,striped:false,method:"post",nowrap:true,idField:null,url:null,data:null,loadMsg:"正在加载中，请稍候 ...",rownumbers:false,singleSelect:false,selectOnCheck:true,checkOnSelect:true,pagination:false,pagePosition:"bottom",pageNumber:1,pageSize:10,pageList:[10,20,30,40,50],queryParams:{},sortName:null,sortOrder:"asc",multiSort:false,remoteSort:true,showHeader:true,showFooter:false,scrollbarSize:18,rowStyler:function(_224,_225){},loader:function(_226,_227,_228){var opts=$(this).datagrid("options");if(!opts.url){return false}$.ajax({type:opts.method,url:opts.url,data:_226,dataType:"json",success:function(data){_227(data)},error:function(){_228.apply(this,arguments)}})},loadFilter:function(data){if(typeof data.length=="number"&&typeof data.splice=="function"){return{total:data.length,rows:data}}else{return data}},editors:_179,finder:{getTr:function(_229,_22a,type,_22b){type=type||"body";_22b=_22b||0;var _22c=$.data(_229,"datagrid");var dc=_22c.dc;var opts=_22c.options;if(_22b==0){var tr1=opts.finder.getTr(_229,_22a,type,1);var tr2=opts.finder.getTr(_229,_22a,type,2);return tr1.add(tr2)}else{if(type=="body"){var tr=$("#"+_22c.rowIdPrefix+"-"+_22b+"-"+_22a);if(!tr.length){tr=(_22b==1?dc.body1:dc.body2).find(">table>tbody>tr[datagrid-row-index="+_22a+"]")}return tr}else{if(type=="footer"){return(_22b==1?dc.footer1:dc.footer2).find(">table>tbody>tr[datagrid-row-index="+_22a+"]")}else{if(type=="selected"){return(_22b==1?dc.body1:dc.body2).find(">table>tbody>tr.datagrid-row-selected")}else{if(type=="highlight"){return(_22b==1?dc.body1:dc.body2).find(">table>tbody>tr.datagrid-row-over")}else{if(type=="checked"){return(_22b==1?dc.body1:dc.body2).find(">table>tbody>tr.datagrid-row-checked")}else{if(type=="last"){return(_22b==1?dc.body1:dc.body2).find(">table>tbody>tr[datagrid-row-index]:last")}else{if(type=="allbody"){return(_22b==1?dc.body1:dc.body2).find(">table>tbody>tr[datagrid-row-index]")}else{if(type=="allfooter"){return(_22b==1?dc.footer1:dc.footer2).find(">table>tbody>tr[datagrid-row-index]")}}}}}}}}}},getRow:function(_22d,p){var _22e=(typeof p=="object")?p.attr("datagrid-row-index"):p;return $.data(_22d,"datagrid").data.rows[parseInt(_22e)]}},view:_1e9,onBeforeLoad:function(_22f){},onLoadSuccess:function(){},onRenderFinish:function(){},onLoadError:function(){},onClickRow:function(_230,_231){},onDblClickRow:function(_232,_233){},onClickCell:function(_234,_235,_236){},onDblClickCell:function(_237,_238,_239){},onSortColumn:function(sort,_23a){},onResizeColumn:function(_23b,_23c){},onSelect:function(_23d,_23e){},onUnselect:function(_23f,_240){},onSelectAll:function(rows){},onUnselectAll:function(rows){},onCheck:function(_241,_242){},onUncheck:function(_243,_244){},onCheckAll:function(rows){},onUncheckAll:function(rows){},onBeforeEdit:function(_245,_246){},onAfterEdit:function(_247,_248,_249){},onCancelEdit:function(_24a,_24b){},onHeaderContextMenu:function(e,_24c){},onRowContextMenu:function(e,_24d,_24e){}})})(jQuery);function ITC_LoadCSS(a){}(function(a){a.fn.extend({ITCUI_Pagination:function(f,j,b){var h=a(this);var i=this;var e=a(h.datagrid("getPager"));var k=e.pagination("options");var d=2;var g="";i.bindMenuPagerEvents=function(){var l=a(j);l.find(".itc_pagination_menu li").click(function(p){var n=a(this);var m=n.attr("turnto");i.turnTo(n.parents(".itc_pagination_container"),m)});l.find(".itc_pagination_psize li").click(function(q){var p=a(this).children("a").html().replace(/<.*>/,"").replace("每页","").replace("条","");var n=a(this).parents(".itc_pagination_container");var m=n.data("targetPager");if(!m){return}m.pagination({pageSize:p}).pagination("select",1);h=n.data("ptrGrid");targetDiv=n.data("targetDiv");h.ITCUI_Pagination("create",targetDiv,n.data("opts"));n.data("onChangePageSize")(p)});l.find(".itc_pagination_style li").click(function(q){var p=a(this);var n=p.attr("tblStyle");var m=p.parents(".itc_pagination_container");p.parent().find(".dropdown-selected").removeClass("dropdown-selected").addClass("dropdown-unselected");p.find(".dropdown-unselected").removeClass("dropdown-unselected").addClass("dropdown-selected");m.data("onChangeStyle")(n)})};i.turnTo=function(n,u){var m="TIMSS";var x=n.data("targetPager");x.pagination("select",u);i.adjustButtons(n);var p=n.find(".itc_pg_selector_wrap");p.find(".currpage").html(u);var l=x.pagination("options");var w=parseInt(l.pageNumber);var t=Math.ceil(l.total/l.pageSize)||1;if(m!="TIMSS"){var r=-1;var q=-1;if(t<=1+2*d){r=1;q=t}else{if(w-d>1&&w+d<t){r=w-d;q=w+d}else{if(w-d<=1){r=1;q=1+2*d}else{if(w+d>=t){q=t;r=t-1-2*d}}}}var v="";for(var s=r;s<=q;s++){v+="<li turnto="+s+"><a class='menuitem'>"+s+"/"+t+"</a></li>"}v+="<li class='divider'></li>";v+="<li turnto=1><a class='menuitem'>首页</a></li>";v+="<li turnto="+t+"><a class='menuitem'>末页</a></li>";setTimeout('$("div .itc_pagination_menu").html("'+v+'");_t.bindMenuPagerEvents();',200)}};i.createPagination=function(){i.data("target",j);i.data("styleOpt",b);var m=h.datagrid("options");if(!m.url&&m._data){if(f!="createPg"){m.__data=m._data}k.datagrid=h;k.onSelectPage=function(w,v,z){var y=a(this).data("pagination")["options"];var A=y.datagrid.datagrid("options")._data.rows;var B=0;var C=[];while(B<v){var x=(w-1)*v+B;if(x<A.length){C.push(A[x])}else{break}B++}y.datagrid.datagrid("loadData",{total:A.length,rows:C})}}if(!m.remoteSort){m.onSortColumn=function(y,v){var x=a(this).datagrid("options");var z=x._data;_arr_sort(z.rows,y,v);var w=a(this).datagrid("getPager");a(w).pagination("select")}}a(j).addClass("itc_pagination_container");var n="";var q=k.pageList;n+="<div class='dropdown bbox' style='float:right'><span data-toggle='dropdown' class='itc_pg_btn itc_pg_setting'></span>";n+="<ul class='dropdown-menu pull-right' role='menu'>";if(b&&b.defStyle&&b.styles){n+="<li class='dropdown-submenu pull-left'><a>显示设置</a><ul class='dropdown-menu itc_pagination_style'>";for(var s=0;s<b.styles.length;s++){var l=b.styles[s];n+="<li tblStyle='"+l.id+"'><a class='menuitem'>";if(l.id==b.defStyle){n+="<span class='dropdown-selected'></span>"}else{n+="<span class='dropdown-unselected'></span>"}n+=l.title+"</a></li>"}a(j).data("onChangeStyle",b.onChangeStyle||function(){});a(j).data("onChangePageSize",b.onChangePageSize||function(){});a(j).data("opts",b);n+="</ul></li>"}n+="<li class='dropdown-submenu pull-left'><a>分页设置</a><ul class='dropdown-menu itc_pagination_psize'>";for(var s=0;s<q.length;s++){n+="<li><a class='menuitem'>";if(q[s]==k.pageSize){n+="<span class='dropdown-selected'></span>"}else{n+="<span class='dropdown-unselected'></span>"}n+="每页"+q[s]+"条</a></li>"}n+="</ul></li>";n+="</ul></div>";n+="<span class='itc_pg_btn itc_pg_next'></span>";n+="<span class='itc_pg_btn itc_pg_prev'></span>";var t=Math.ceil(k.total/k.pageSize)||1;n+="<div class='dropdown bbox' style='float:right'><div class='itc_pg_selector_wrap' data-toggle='dropdown'><span class='currpage'>";n+=k.pageNumber+"</span><span class='itc_pagination_divider'>/</span><span>"+t;n+="</span><span class='itc_pg_selector_icon'></span></div>";n+="<ul class='itc_pagination_menu dropdown-menu' role='menu' style='overflow-y:auto;overflow-x:hidden;max-height:208px'>";var p=t>8?8:t;for(var s=1;s<=t;s++){n+="<li turnto="+s+"><a class='menuitem'>"+s+"<span class='itc_pagination_divider'>/</span>"+t+"</a></li>"}n+="</ul></div>";a(j).html(n);var u=a(j).attr("bottompager");if(u){var r='<div class="btn-group btn-group-sm">';r+='<button type="button" class="btn btn-default itc_pg_round_l btn_sm_w88"><b class="itc_pgprev_nr"></b><span>上一页</span></button>';r+='<button type="button" class="btn btn-default itc_pg_round_r btn_sm_w88"><span>下一页</span><b class="itc_pgnext_nr"></b></button>';r+="</div>"}a(u).addClass("bbox").html(r).css({"text-align":"center","margin-top":"20px"});a(u).data("targetITCPager",a(j));a(u).data("targetEUPager",h);e.css("display","none");i.bindMenuPagerEvents()};i.adjustButtons=function(m){tgt=m==null?a(j):m;var n=m==null?k:tgt.data("targetPager").pagination("options");var l=tgt.attr("bottompager");var q=false;var p=false;if(n.pageNumber>1){tgt.find(".itc_pg_prev_disable").removeClass("itc_pg_prev_disable").addClass("itc_pg_prev")}else{tgt.find(".itc_pg_prev").addClass("itc_pg_prev_disable").removeClass("itc_pg_prev");q=true}if(n.pageNumber*n.pageSize<n.total){tgt.find(".itc_pg_next_disable").removeClass("itc_pg_next_disable").addClass("itc_pg_next")}else{tgt.find(".itc_pg_next").addClass("itc_pg_next_disable").removeClass("itc_pg_next");p=true}if(l){var s=a(l);if(p&&q){s.hide()}else{s.show();var r=s.children("div");if(q){r.children(".itc_pg_round_l").attr("disabled","disabled")}else{r.children(".itc_pg_round_l").removeAttr("disabled","disabled")}if(p){r.children(".itc_pg_round_r").attr("disabled","disabled")}else{r.children(".itc_pg_round_r").removeAttr("disabled","disabled")}}}};i.addEvents=function(){var l=a(j).find(".itc_pg_btn");a(j).data("targetPager",e);a(j).data("targetDiv",j);a(j).data("ptrGrid",h);var m=a(j).attr("bottompager");if(m){var n=a(m).children("div");n.children(".itc_pg_round_l").click(function(){var q=a(this).parent().parent();var p=a(this).parent().parent().data("targetITCPager");var r=q.data("targetEUPager").datagrid("getPager").pagination("options");i.turnTo(p,parseInt(r.pageNumber)-1)});n.children(".itc_pg_round_r").click(function(){var q=a(this).parent().parent();var p=a(this).parent().parent().data("targetITCPager");var r=q.data("targetEUPager").datagrid("getPager").pagination("options");i.turnTo(p,parseInt(r.pageNumber)+1)})}l.click(function(t){var s=a(this);if(!s.hasClass("itc_pg_setting")){var p=s.parent().data("targetPager");var q=a(s.parent().data("targetDiv"));var r=p.pagination("options");if(s.hasClass("itc_pg_prev")){i.turnTo(q,parseInt(r.pageNumber)-1)}if(s.hasClass("itc_pg_next")){i.turnTo(q,parseInt(r.pageNumber)+1)}}})};i.search=function(m){var l=h.datagrid("options");if(!l.url&&l.__data){i.localSearch(m)}};i.localSearch=function(l){var n=h.datagrid("options");var v=[];var r=n.__data.rows;for(var q=0;q<r.length;q++){var p=true;var u=r[q];for(var t in u){var s=(""+u[t]).toLowerCase();if(l[t]){var m=(""+l[t]).toLowerCase();if(s.indexOf(m)<0){p=false;break}}if(l["_"+t]){var m=(""+l["_"+t]).toLowerCase();if(s!=m&&m){p=false;break}}}if(p){v.push(u)}}n._data={rows:v,total:v.length};n.data={rows:v.slice(0,n.pageSize),total:v.length};i.datagrid(n);i.ITCUI_Pagination("createPg",i.data("target"),i.data("styleOpt"))};if(f=="create"||f=="createPg"){i.createPagination();i.adjustButtons();i.addEvents()}else{if(f=="search"){i.search(j)}}}})})(jQuery);function _swap(a,e,d){var b=a[e];a[e]=a[d];a[d]=b}function _arr_sort(a,f,e){for(var d=a.length-1;d>0;--d){for(var b=0;b<d;++b){if(e=="desc"){if(a[b][f]<a[b+1][f]){_swap(a,b,b+1)}}else{if(a[b][f]>a[b+1][f]){_swap(a,b,b+1)}}}}}
/*!
 * iCheck v1.0.1, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
(function(d){var h="iCheck",f=h+"-helper",s="checkbox",a="radio",u="checked",z="un"+u,j="disabled",i="determinate",b="in"+i,t="update",v="type",e="click",y="touchbegin.i touchend.i",r="addClass",g="removeClass",m="trigger",B="label",q="cursor",p=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);d.fn[h]=function(P,G){var L='input[type="'+s+'"], input[type="'+a+'"]',N=d(),D=function(Q){Q.each(function(){var R=d(this);if(R.is(L)){N=N.add(R)}else{N=N.add(R.find(L))}})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(P)){P=P.toLowerCase();D(this);return N.each(function(){var Q=d(this);if(P=="destroy"){w(Q,"ifDestroyed")}else{x(Q,true,P)}if(d.isFunction(G)){G()}})}else{if(typeof P=="object"||!P){var H=d.extend({checkedClass:u,disabledClass:j,indeterminateClass:b,labelHover:true,aria:false},P),I=H.handle,K=H.hoverClass||"hover",O=H.focusClass||"focus",M=H.activeClass||"active",E=!!H.labelHover,J=H.labelHoverClass||"hover",F=(""+H.increaseArea).replace("%","")|0;if(I==s||I==a){L='input[type="'+I+'"]'}if(F<-50){F=-50}D(this);return N.each(function(){var ab=d(this);w(ab);var T=this,Q=T.id,U=-F+"%",ac=100+(F*2)+"%",V={position:"absolute",top:U,left:U,display:"block",width:ac,height:ac,margin:0,padding:0,background:"#fff",border:0,opacity:0},W=p?{position:"absolute",visibility:"hidden"}:F?V:{position:"absolute",opacity:0},X=T[v]==s?H.checkboxClass||"i"+s:H.radioClass||"i"+a,Z=d(B+'[for="'+Q+'"]').add(ab.closest(B)),Y=!!H.aria,S=h+"-"+Math.random().toString(36).substr(2,6),aa='<div class="'+X+'" '+(Y?'role="'+T[v]+'" ':""),R;if(Y){Z.each(function(){aa+='aria-labelledby="';if(this.id){aa+=this.id}else{this.id=S;aa+=S}aa+='"'})}aa=ab.wrap(aa+"/>")[m]("ifCreated").parent().append(H.insert);R=d('<ins class="'+f+'"/>').css(V).appendTo(aa);ab.data(h,{o:H,s:ab.attr("style")}).css(W);!!H.inheritClass&&aa[r](T.className||"");!!H.inheritID&&Q&&aa.attr("id",h+"-"+Q);aa.css("position")=="static"&&aa.css("position","relative");x(ab,true,t);if(Z.length){Z.on(e+".i mouseover.i mouseout.i "+y,function(af){var ad=af[v],ae=d(this);if(!T[j]){if(ad==e){if(d(af.target).is("a")){return}x(ab,false,true)}else{if(E){if(/ut|nd/.test(ad)){aa[g](K);ae[g](J)}else{aa[r](K);ae[r](J)}}}if(p){af.stopPropagation()}else{return false}}})}ab.on(e+".i focus.i blur.i keyup.i keydown.i keypress.i",function(af){var ae=af[v],ad=af.keyCode;if(ae==e){return false}else{if(ae=="keydown"&&ad==32){if(!(T[v]==a&&T[u])){if(T[u]){A(ab,u)}else{l(ab,u)}}return false}else{if(ae=="keyup"&&T[v]==a){!T[u]&&l(ab,u)}else{if(/us|ur/.test(ae)){aa[ae=="blur"?g:r](O)}}}}});R.on(e+" mousedown mouseup mouseover mouseout "+y,function(af){var ae=af[v],ad=/wn|up/.test(ae)?M:K;if(!T[j]){if(ae==e){x(ab,false,true)}else{if(/wn|er|in/.test(ae)){aa[r](ad)}else{aa[g](ad+" "+M)}if(Z.length&&E&&ad==K){Z[/ut|nd/.test(ae)?g:r](J)}}if(p){af.stopPropagation()}else{return false}}})})}else{return this}}};function x(D,I,H){var E=D[0],F=/er/.test(H)?b:/bl/.test(H)?j:u,G=H==t?{checked:E[u],disabled:E[j],indeterminate:D.attr(b)=="true"||D.attr(i)=="false"}:E[F];if(/^(ch|di|in)/.test(H)&&!G){l(D,F)}else{if(/^(un|en|de)/.test(H)&&G){A(D,F)}else{if(H==t){for(var F in G){if(G[F]){l(D,F,true)}else{A(D,F,true)}}}else{if(!I||H=="toggle"){if(!I){D[m]("ifClicked")}if(G){if(E[v]!==a){A(D,F)}}else{l(D,F)}}}}}}function l(M,F,D){var I=M[0],O=M.parent(),N=F==u,E=F==b,J=F==j,P=E?i:N?z:"enabled",H=n(M,P+k(I[v])),L=n(M,F+k(I[v]));if(I[F]!==true){if(!D&&F==u&&I[v]==a&&I.name){var G=M.closest("form"),K='input[name="'+I.name+'"]';K=G.length?G.find(K):d(K);K.each(function(){if(this!==I&&d(this).data(h)){A(d(this),F)}})}if(E){I[F]=true;if(I[u]){A(M,u,"force")}}else{if(!D){I[F]=true}if(N&&I[b]){A(M,b,false)}}C(M,N,F,D)}if(I[j]&&!!n(M,q,true)){O.find("."+f).css(q,"default")}O[r](L||n(M,F)||"");J?O.attr("aria-disabled","true"):O.attr("aria-checked",E?"mixed":"true");O[g](H||n(M,P)||"")}function A(K,F,D){var H=K[0],M=K.parent(),L=F==u,E=F==b,I=F==j,N=E?i:L?z:"enabled",G=n(K,N+k(H[v])),J=n(K,F+k(H[v]));if(H[F]!==false){if(E||!D||D=="force"){H[F]=false}C(K,L,N,D)}if(!H[j]&&!!n(K,q,true)){M.find("."+f).css(q,"pointer")}M[g](J||n(K,F)||"");I?M.attr("aria-disabled","false"):M.attr("aria-checked","false");M[r](G||n(K,N)||"")}function w(D,E){if(D.data(h)){D.parent().html(D.attr("style",D.data(h).s||""));if(E){D[m](E)}D.off(".i").unwrap();d(B+'[for="'+D[0].id+'"]').add(D.closest(B)).off(".i")}}function n(D,F,E){if(D.data(h)){return D.data(h).o[F+(E?"":"Class")]}}function k(D){return D.charAt(0).toUpperCase()+D.slice(1)}function C(E,F,G,D){if(!D){if(F){E[m]("ifToggled")}E[m]("ifChanged")[m]("if"+k(G))}}})(window.jQuery||window.Zepto);function _itc_getwidth(g){var a=g.attr("style");if(!a){return null}a=a.toLowerCase();var e=a.split(";");for(var f=0;f<e.length;f++){var h=e[f].split(":");if(h.length==2){var d=$.trim(h[0]);var b=$.trim(h[1]);if(d=="width"){return b}}}return null}function _itc_makewrap(j){var h=$(j);if(h.parent(".itc_object_wrap").length>0){return}var g=$("<div class='itc_object_wrap'></div>").insertBefore(h);var d=["float","position","display","width","height","margin-left","margin-top","left","top"];var a=_itc_getwidth(h)||"150px";var f={};for(var e=0;e<g.length;e++){var b=h.css(d[e]);if(b){f[d[e]]=b}}g.css(f);g.append(h);h.attr("style","");h.css("width",a);g.css("width",a)}function _itc_removewrap(){if(window._dialogEmmbed){_parent().$("#itc_combo_wrap").remove()}else{$("#itc_combo_wrap").remove()}}function _itc_getmaskindex(){var f=_parent().$(".window");var d=0;for(var e=0;e<f.length;e++){var b=$(f[e]);var a=b.css("z-index");if(b.css("display")=="block"){if(a>d){d=a}}}return d}function _itc_getdlgoffset(){var a=null;var e=_parent().$(".window");for(var d=0;d<e.length;d++){var b=$(e[d]);if(b.css("display")=="block"){a=b.offset()}}return a}function _itc_movetoparent(f,g){if(window._xssEmbbed){return}if(!window._dialogEmmbed){return}var d=g.offset();var b=g.height();var e=_itc_getmaskindex();var a=_itc_getdlgoffset();if(!a){FW.debug("无法找到一个打开的对话框，请注意只有在对话框里的页面才能声明_dialogEmbbed=true");return}f.appendTo(_parent().$("body"));f.css({display:"block","z-index":e+1,top:d.top+a.top+26+b,left:d.left+a.left})}(function(a){a.fn.extend({ITCUI_ComboBox:function(h,f){var b=6;var e=12;var d=150;var i=a(this);var g=this;if(i.length==0){return}g.getMultiSelected=function(p,m){var n=m.data("multiSelectedVal");var l="";var k=0;var j=[];m.children("option").each(function(){var q=!p?a(this).attr("value"):a(this).html();if(n[k]){j.push(q)}k++});return j.join(",")};g.initComboBox=function(){_itc_makewrap(g);f=f||{};d=parseInt(i.css("width"));i.data("dataMapping",[]);i.data("multiSelectedVal",[]);i.data("fixWrapWidth",f.wrapWidth?true:false);i.data("comboWidth",f.wrapWidth||d);i.data("onChange",f.onChange||function(){});i.data("url",f.url||null);i.data("onRemoteData",f.onRemoteData||function(n){return n});i.data("remoteLoadOn",f.remoteLoadOn||"click");i.data("remoteInited",false);i.data("displayItemCount",f.displayItemCount||b);i.data("allowEmpty",f.allowEmpty||(f.url&&f.remoteLoadOn=="click")||false);i.data("initOnChange",(f.initOnChange==false)?false:true);i.data("firstOnChange",true);var k=i.attr("maxlength")||e;i.data("maxLen",k);if(i.attr("multiselect")||f.multiselect){i.attr("multiselect",true)}if(f.data){g.loadData(f.data,i)}if(!i.attr("multiselect")){if(!i.data("allowEmpty")){if(i.html()!=""){if(i.children("[selected]").length==0){i.children("option").first().attr("selected","selected")}}}}var l=i.attr("name");var m="";if(l){m=" name='"+l+"'";i.removeAttr("name")}var j="<div class='itcui_combo bbox' style='position:relative;width:100%;'>";j+="<input class='valid-field' type='hidden'"+m+"/>";j+="<span class='itcui_combo_text' style='width:100%'></span><span class='itcui_combo_arrow_wrap'><b class='itcui_combo_arrow'></b></span>";j+="</div>";if(i.prev("div").hasClass("itcui_combo")){i.prev("div").remove()}i.css("display","none");i.before(j);if(f.remoteLoadOn=="init"){g.remoteLoadData(i,true)}if(i.attr("multiselect")){g.initMultiSelectMapping()}g.updateInputVal(i);if(f.data||i.html()!=""){g.updateComboText(i)}};g.updateInputVal=function(k){var j=k.prev(".itcui_combo").children("input");if(k.attr("multiselect")){j.val(g.getMultiSelected(false,k))}else{j.val(k.children("[selected]").length==0?"":k.val())}};g.updateComboText=function(l){var n=l.attr("multiselect");var k=l.data("maxLen");var m=l.data("onChange");var j="";if(n){j=g.getMultiSelected(true,l);if(ITC_Len(j)>k){j=ITC_Substr(j,0,k)+"..."}}else{j=l.find("[selected]").first().html()}l.prev(".itcui_combo").children(".itcui_combo_text").html(j||"");if(!l.data("initOnChange")){if(l.data("firstOnChange")){l.data("firstOnChange",false);return}}m(l.prev(".itcui_combo").children("input").val(),l)};g.initMultiSelectMapping=function(){var l=[];var k={};var j=0;i.children("option").each(function(){var n=a(this).attr("value");var m=a(this).attr("multichecked");k[n]=j;if(m){l[j]=true}else{l[j]=false}j++});i.data("multiSelectedVal",l);i.data("multiMapping",k)};g.display=function(u){var r="";var k=0;var t=u.data("fixWrapWidth")?parseInt(u.data("comboWidth")):u.parent().width();itemWidth=t<100?100:t;u.children("option").each(function(){k++});var l=u.data("displayItemCount");if(k>l){itemWidth-=18}var s=25*(k>l?l:k)+16;r+="<div id='itc_combo_wrap' class='itcui_dropdown_menu bbox' style='padding-top:6px;padding-bottom:6px;height:"+s+"px;width:"+t+"px;";if(k>b){r+="overflow-y:scroll;"}if(window._dialogEmmbed){r+="display:none;"}r+="'>";var m=u.attr("multiselect");var q=u.data("multiSelectedVal");var j=u.data("dataMapping");var p=0;u.children("option").each(function(){var v=a(this).html();var w=a(this).attr("value");if(!m){j.push([w,v]);r+="<div id='itcui_combo_item_"+p+"' class='itcui_dropdown_item' style='width:"+itemWidth+"px'>";r+="<span class='itcui_dropdown_text'>"+v+"</span>";r+="</div>"}else{r+="<div id='itcui_combo_item_"+p+"' class='itcui_dropdown_item' style='width:"+itemWidth+"px'>";if(!q[p]){r+='<input class="itcui_dropdown_checkbox" type="checkbox" id="itcui_combo_chkbox_'+p+'">'}else{r+='<input class="itcui_dropdown_checkbox" type="checkbox" id="itcui_combo_chkbox_'+p+'" checked>'}r+='<label for="itcui_combo_chkbox_'+p+'">'+v+"</label>";r+="</div>"}p++});r+="</div>";u.data("dataMapping",j);if(u.attr("fixposition")){a("body").append(r);var n=u.prev().offset();a("#itc_combo_wrap").css({top:parseInt(n.top)+u.prev().height()+2+"px",left:n.left})}else{u.after(r)}a("#itc_combo_wrap").data("targetSelect",u);_itc_movetoparent(a("#itc_combo_wrap"),u.parent())};g.doSingleSelect=function(k,j){if(g.getValue()!=j){k.val(j);k.children("[selected]").each(function(){a(this).removeAttr("selected")});k.children("[value='"+j+"']").attr("selected","selected");g.updateInputVal(k);g.updateComboText(k)}};g.doMultiSelect=function(p,j){var q=p.data("multiSelectedVal");var m=p.data("multiMapping");for(var l in j){var s=m[l];if(j[l]){q[s]=true}else{q[s]=false}}p.data("multiSelectedVal",q);var r=g.getMultiSelected(false,p);p.prev(".itcui_combo").children("input").val(r);g.updateComboText(p)};g.changeSelect=function(){var j=i.attr("multiselect");if(j){g.doMultiSelect(i,f)}else{if(f||g.data("allowEmpty")){g.doSingleSelect(i,f)}}};g.addSingleChoiceEvent=function(){var j=window._dialogEmmbed?_parent().$("#itc_combo_wrap"):a("#itc_combo_wrap");j.find(".itcui_dropdown_item").click(function(n){var m=a(this).parents("#itc_combo_wrap");var l=m.data("targetSelect");var q=l.data("dataMapping");var p=this.id;var k=parseInt(p.substr(17));g.doSingleSelect(l,q[k][0]);m.remove()})};g.addMultiChoiceEvent=function(){var j=window._dialogEmmbed?_parent().$:a;j("#itc_combo_wrap").find("input").iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue"});j("#itc_combo_wrap").find(".itcui_dropdown_item").click(function(l){l.stopPropagation();var m=this.id;var k=parseInt(m.substr(17));j("#itcui_combo_chkbox_"+k).iCheck("toggle")});j("#itc_combo_wrap").find(".itcui_dropdown_checkbox").on("ifChanged",function(n){var m=a(this).parents("#itc_combo_wrap");var q=this.id;var k=parseInt(q.substr(19));var l=m.data("targetSelect");var p=l.data("multiSelectedVal");p[k]=!p[k];l.data("multiSelectedVal",p);g.updateInputVal(l);g.updateComboText(l)})};g.postAddEvents=function(j){g.display(j);if(g.attr("multiselect")){g.addMultiChoiceEvent(j)}else{g.addSingleChoiceEvent(j)}};g.addEvents=function(){i.prev(".itcui_combo").click(function(l){l.stopPropagation();var j=a(this).next("select");var k=j.attr("nofix");_itc_removewrap();if(!j.data("url")||j.data("remoteInited")){g.postAddEvents(j)}if(j.data("remoteLoadOn")=="click"){if(j.data("url")&&(!j.data("remoteInited"))){g.remoteLoadData(j)}}});a("body").click(function(){_itc_removewrap()});if(window._dialogEmmbed){_parent().$(".window-mask").click(function(){_itc_removewrap()})}};g.loadData=function(q,t){var m=t.attr("multiselect");var s="";var j=[];if(isArray(q)){for(var r=0;r<q.length;r++){var p=q[r];var l="";if(p.length==3){if(p[2]&&!m){l=" selected='selected'"}else{if(p[2]&&m){l=" multichecked=true"}}}s+="<option value='"+p[0]+"'"+l+">"+p[1]+"</option>";j.push([p[0],p[1]])}}else{for(var n in q){s+="<option value='"+n+"'>"+q[n]+"</option>";j.push([n,q[n]])}}t.data("dataMapping",j);t.html(s);if(!t.data("allowEmpty")){if(t.children("[selected]").length==0){t.children("option").first().attr("selected","selected")}}};g.setValue=function(j){i.prev(".itcui_combo").children("input").val(j);if(i.data("remoteLoadOn")=="set"){g.remoteLoadData(i,true)}};g.getValue=function(j){return i.prev(".itcui_combo").children("input").val()};g.setText=function(j){i.prev(".itcui_combo").children(".itcui_combo_text").html(j)};g.remoteLoadData=function(m,k){var j=m.data("url");var l=m.data("onRemoteData");if(m.data("remoteInited")){return}a.ajax({url:j,dataType:"json",error:function(q,p,n){FW.error("从服务器获取数据失败（"+p+"）")},success:function(s){s=l(s);if(isArray(s)){var p=g.getValue();if(p){var n=FW.split(p,",");var r={};for(var q=0;q<n.length;q++){r[n[q]]=true}for(var q=0;q<s.length;q++){s[q]=[s[q][0],s[q][1],r[s[q][0]]]}}}g.loadData(s,m);if(m.attr("multiselect")){m.initMultiSelectMapping()}g.updateInputVal(m);g.updateComboText(m);m.data("remoteInited",true);if(!k){g.postAddEvents(m)}}})};if(!h){g.initComboBox();g.addEvents()}else{if(h=="getSelected"){return i.prev(".itcui_combo").children("input").val()}else{if(h=="getSelectedText"){return i.attr("multiselect")?g.getMultiSelected(true,i):i.find("[selected]").html()}else{if(h=="select"){if(i.data("url")&&!i.data("remoteInited")){g.setValue(f)}else{g.changeSelect()}}else{if(h=="setValue"){g.setValue(f)}else{if(h=="setText"){g.setText(f)}else{if(h=="loadData"){g.loadData(f,i);if(g.attr("multiselect")){g.initMultiSelectMapping(i)}g.updateComboText(i)}}}}}}}return g}})})(jQuery);(function(e){function g(n){var m=e.data(n.data.target,"draggable");var l=m.options;var k=m.proxy;var j=n.data;var i=j.startLeft+n.pageX-j.startX;var h=j.startTop+n.pageY-j.startY;if(k){if(k.parent()[0]==document.body){if(l.deltaX!=null&&l.deltaX!=undefined){i=n.pageX+l.deltaX}else{i=n.pageX-n.data.offsetWidth}if(l.deltaY!=null&&l.deltaY!=undefined){h=n.pageY+l.deltaY}else{h=n.pageY-n.data.offsetHeight}}else{if(l.deltaX!=null&&l.deltaX!=undefined){i+=n.data.offsetWidth+l.deltaX}if(l.deltaY!=null&&l.deltaY!=undefined){h+=n.data.offsetHeight+l.deltaY}}}if(n.data.parent!=document.body){i+=e(n.data.parent).scrollLeft();h+=e(n.data.parent).scrollTop()}if(l.axis=="h"){j.left=i}else{if(l.axis=="v"){j.top=h}else{j.left=i;j.top=h}}}function a(k){var h=e.data(k.data.target,"draggable");var j=h.options;var i=h.proxy;if(!i){i=e(k.data.target)}i.css({left:k.data.left,top:k.data.top});e("body").css("cursor",j.cursor)}function b(j){e.fn.draggable.isDragging=true;var i=e.data(j.data.target,"draggable");var h=i.options;var l=e(".droppable").filter(function(){return j.data.target!=this}).filter(function(){var m=e.data(this,"droppable").options.accept;if(m){return e(m).filter(function(){return this==j.data.target}).length>0}else{return true}});i.droppables=l;var k=i.proxy;if(!k){if(h.proxy){if(h.proxy=="clone"){k=e(j.data.target).clone().insertAfter(j.data.target)}else{k=h.proxy.call(j.data.target,j.data.target)}i.proxy=k}else{k=e(j.data.target)}}k.css("position","absolute");g(j);a(j);h.onStartDrag.call(j.data.target,j);return false}function f(j){var i=e.data(j.data.target,"draggable");g(j);if(i.options.onDrag.call(j.data.target,j)!=false){a(j)}var h=j.data.target;i.droppables.each(function(){var k=e(this);if(k.droppable("options").disabled){return}var l=k.offset();if(j.pageX>l.left&&j.pageX<l.left+k.outerWidth()&&j.pageY>l.top&&j.pageY<l.top+k.outerHeight()){if(!this.entered){e(this).trigger("_dragenter",[h]);this.entered=true}e(this).trigger("_dragover",[h])}else{if(this.entered){e(this).trigger("_dragleave",[h]);this.entered=false}}});return false}function d(p){e.fn.draggable.isDragging=false;f(p);var k=e.data(p.data.target,"draggable");var i=k.proxy;var h=k.options;if(h.revert){if(m()==true){e(p.data.target).css({position:p.data.startPosition,left:p.data.startLeft,top:p.data.startTop})}else{if(i){var l,n;if(i.parent()[0]==document.body){l=p.data.startX-p.data.offsetWidth;n=p.data.startY-p.data.offsetHeight}else{l=p.data.startLeft;n=p.data.startTop}i.animate({left:l,top:n},function(){j()})}else{e(p.data.target).animate({left:p.data.startLeft,top:p.data.startTop},function(){e(p.data.target).css("position",p.data.startPosition)})}}}else{e(p.data.target).css({position:"absolute",left:p.data.left,top:p.data.top});m()}h.onStopDrag.call(p.data.target,p);e(document).unbind(".draggable");setTimeout(function(){e("body").css("cursor","")},100);function j(){if(i){i.remove()}k.proxy=null}function m(){var q=false;k.droppables.each(function(){var r=e(this);if(r.droppable("options").disabled){return}var s=r.offset();if(p.pageX>s.left&&p.pageX<s.left+r.outerWidth()&&p.pageY>s.top&&p.pageY<s.top+r.outerHeight()){if(h.revert){e(p.data.target).css({position:p.data.startPosition,left:p.data.startLeft,top:p.data.startTop})}e(this).trigger("_drop",[p.data.target]);j();q=true;this.entered=false;return false}});if(!q&&!h.revert){j()}return q}return false}e.fn.draggable=function(h,i){if(typeof h=="string"){return e.fn.draggable.methods[h](this,i)}return this.each(function(){var j;var m=e.data(this,"draggable");if(m){m.handle.unbind(".draggable");j=e.extend(m.options,h)}else{j=e.extend({},e.fn.draggable.defaults,e.fn.draggable.parseOptions(this),h||{})}var l=j.handle?(typeof j.handle=="string"?e(j.handle,this):j.handle):e(this);e.data(this,"draggable",{options:j,handle:l});if(j.disabled){e(this).css("cursor","");return}l.unbind(".draggable").bind("mousemove.draggable",{target:this},function(p){if(e.fn.draggable.isDragging){return}var n=e.data(p.data.target,"draggable").options;if(k(p)){e(this).css("cursor",n.cursor)}else{e(this).css("cursor","")}}).bind("mouseleave.draggable",{target:this},function(n){e(this).css("cursor","")}).bind("mousedown.draggable",{target:this},function(s){if(k(s)==false){return}e(this).css("cursor","");var r=e(s.data.target).position();var q=e(s.data.target).offset();var p={startPosition:e(s.data.target).css("position"),startLeft:r.left,startTop:r.top,left:r.left,top:r.top,startX:s.pageX,startY:s.pageY,offsetWidth:(s.pageX-q.left),offsetHeight:(s.pageY-q.top),target:s.data.target,parent:e(s.data.target).parent()[0]};e.extend(s.data,p);var n=e.data(s.data.target,"draggable").options;if(n.onBeforeDrag.call(s.data.target,s)==false){return}e(document).bind("mousedown.draggable",s.data,b);e(document).bind("mousemove.draggable",s.data,f);e(document).bind("mouseup.draggable",s.data,d)});function k(s){var n=e.data(s.data.target,"draggable");var z=n.handle;var x=e(z).offset();var w=e(z).outerWidth();var v=e(z).outerHeight();var y=s.pageY-x.top;var p=x.left+w-s.pageX;var u=x.top+v-s.pageY;var q=s.pageX-x.left;return Math.min(y,p,u,q)>n.options.edge}})};e.fn.draggable.methods={options:function(h){return e.data(h[0],"draggable").options},proxy:function(h){return e.data(h[0],"draggable").proxy},enable:function(h){return h.each(function(){e(this).draggable({disabled:false})})},disable:function(h){return h.each(function(){e(this).draggable({disabled:true})})}};e.fn.draggable.parseOptions=function(h){var i=e(h);return e.extend({},e.parser.parseOptions(h,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:(i.attr("disabled")?true:undefined)})};e.fn.draggable.defaults={proxy:null,revert:false,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:false,edge:0,axis:null,onBeforeDrag:function(h){},onStartDrag:function(h){},onDrag:function(h){},onStopDrag:function(h){}};e.fn.draggable.isDragging=false})(jQuery);(function(a){function b(d){a(d).addClass("droppable");a(d).bind("_dragenter",function(g,f){a.data(d,"droppable").options.onDragEnter.apply(d,[g,f])});a(d).bind("_dragleave",function(g,f){a.data(d,"droppable").options.onDragLeave.apply(d,[g,f])});a(d).bind("_dragover",function(g,f){a.data(d,"droppable").options.onDragOver.apply(d,[g,f])});a(d).bind("_drop",function(g,f){a.data(d,"droppable").options.onDrop.apply(d,[g,f])})}a.fn.droppable=function(e,d){if(typeof e=="string"){return a.fn.droppable.methods[e](this,d)}e=e||{};return this.each(function(){var f=a.data(this,"droppable");if(f){a.extend(f.options,e)}else{b(this);a.data(this,"droppable",{options:a.extend({},a.fn.droppable.defaults,a.fn.droppable.parseOptions(this),e)})}})};a.fn.droppable.methods={options:function(d){return a.data(d[0],"droppable").options},enable:function(d){return d.each(function(){a(this).droppable({disabled:false})})},disable:function(d){return d.each(function(){a(this).droppable({disabled:true})})}};a.fn.droppable.parseOptions=function(e){var d=a(e);return a.extend({},a.parser.parseOptions(e,["accept"]),{disabled:(d.attr("disabled")?true:undefined)})};a.fn.droppable.defaults={accept:null,disabled:false,onDragEnter:function(f,d){},onDragOver:function(f,d){},onDragLeave:function(f,d){},onDrop:function(f,d){}}})(jQuery);(function(y){function s(R){var Q=y(R);Q.addClass("tree");return Q}function q(R){var Q=y.data(R,"tree").options;y(R).unbind().bind("mouseover",function(U){var T=y(U.target);var S=T.closest("div.tree-node");if(!S.length){return}S.addClass("tree-node-hover");if(T.hasClass("tree-hit")){if(T.hasClass("tree-expanded")){T.addClass("tree-expanded-hover")}else{T.addClass("tree-collapsed-hover")}}U.stopPropagation()}).bind("mouseout",function(U){var T=y(U.target);var S=T.closest("div.tree-node");if(!S.length){return}S.removeClass("tree-node-hover");if(T.hasClass("tree-hit")){if(T.hasClass("tree-expanded")){T.removeClass("tree-expanded-hover")}else{T.removeClass("tree-collapsed-hover")}}U.stopPropagation()}).bind("click",function(U){var T=y(U.target);var S=T.closest("div.tree-node");if(!S.length){return}if(T.hasClass("tree-hit")){i(R,S[0]);return false}else{if(T.hasClass("tree-checkbox")){G(R,S[0],!T.hasClass("tree-checkbox1"));return false}else{l(R,S[0]);Q.onClick.call(R,L(R,S[0]))}}U.stopPropagation()}).bind("dblclick",function(T){var S=y(T.target).closest("div.tree-node");if(!S.length){return}l(R,S[0]);Q.onDblClick.call(R,L(R,S[0]));T.stopPropagation()}).bind("contextmenu",function(T){var S=y(T.target).closest("div.tree-node");if(!S.length){return}Q.onContextMenu.call(R,T,L(R,S[0]));T.stopPropagation()})}function K(Q){var S=y.data(Q,"tree").options;S.dnd=false;var R=y(Q).find("div.tree-node");R.draggable("disable");R.css("cursor","pointer")}function u(X){var W=y.data(X,"tree");var U=W.options;var S=W.tree;W.disabledNodes=[];U.dnd=true;S.find("div.tree-node").draggable({disabled:false,revert:true,cursor:"pointer",proxy:function(Y){var Z=y('<div class="tree-node-proxy"></div>').appendTo("body");Z.html('<span class="tree-dnd-icon tree-dnd-no">&nbsp;</span>'+y(Y).find(".tree-title").html());Z.hide();return Z},deltaX:15,deltaY:15,onBeforeDrag:function(Z){if(U.onBeforeDrag.call(X,L(X,this))==false){return false}if(y(Z.target).hasClass("tree-hit")||y(Z.target).hasClass("tree-checkbox")){return false}if(Z.which!=1){return false}y(this).next("ul").find("div.tree-node").droppable({accept:"no-accept"});var Y=y(this).find("span.tree-indent");if(Y.length){Z.data.offsetWidth-=Y.length*Y.width()}},onStartDrag:function(){y(this).draggable("proxy").css({left:-10000,top:-10000});U.onStartDrag.call(X,L(X,this));var Y=L(X,this);if(Y.id==undefined){Y.id="easyui_tree_node_id_temp";d(X,Y)}W.draggingNodeId=Y.id},onDrag:function(ac){var Z=ac.pageX,ab=ac.pageY,Y=ac.data.startX,aa=ac.data.startY;var ad=Math.sqrt((Z-Y)*(Z-Y)+(ab-aa)*(ab-aa));if(ad>3){y(this).draggable("proxy").show()}this.pageY=ac.pageY},onStopDrag:function(){y(this).next("ul").find("div.tree-node").droppable({accept:"div.tree-node"});for(var Z=0;Z<W.disabledNodes.length;Z++){y(W.disabledNodes[Z]).droppable("enable")}W.disabledNodes=[];var Y=z(X,W.draggingNodeId);if(Y&&Y.id=="easyui_tree_node_id_temp"){Y.id="";d(X,Y)}U.onStopDrag.call(X,Y)}}).droppable({accept:"div.tree-node",onDragEnter:function(Z,Y){if(U.onDragEnter.call(X,this,R(Y))==false){Q(Y,false);y(this).removeClass("tree-node-append tree-node-top tree-node-bottom");y(this).droppable("disable");W.disabledNodes.push(this)}},onDragOver:function(ac,aa){if(y(this).droppable("options").disabled){return}var Z=aa.pageY;var ab=y(this).offset().top;var Y=ab+y(this).outerHeight();Q(aa,true);y(this).removeClass("tree-node-append tree-node-top tree-node-bottom");if(Z>ab+(Y-ab)/2){if(Y-Z<5){y(this).addClass("tree-node-bottom")}else{y(this).addClass("tree-node-append")}}else{if(Z-ab<5){y(this).addClass("tree-node-top")}else{y(this).addClass("tree-node-append")}}if(U.onDragOver.call(X,this,R(aa))==false){Q(aa,false);y(this).removeClass("tree-node-append tree-node-top tree-node-bottom");y(this).droppable("disable");W.disabledNodes.push(this)}},onDragLeave:function(Z,Y){Q(Y,false);y(this).removeClass("tree-node-append tree-node-top tree-node-bottom");U.onDragLeave.call(X,this,R(Y))},onDrop:function(aa,Y){var ac=this;var ab,Z;if(y(this).hasClass("tree-node-append")){ab=V;Z="append"}else{ab=T;Z=y(this).hasClass("tree-node-top")?"top":"bottom"}if(U.onBeforeDrop.call(X,ac,R(Y),Z)==false){y(this).removeClass("tree-node-append tree-node-top tree-node-bottom");return}ab(Y,ac,Z);y(this).removeClass("tree-node-append tree-node-top tree-node-bottom")}});function R(Z,Y){return y(Z).closest("ul.tree").tree(Y?"pop":"getData",Z)}function Q(Z,Y){var aa=y(Z).draggable("proxy").find("span.tree-dnd-icon");aa.removeClass("tree-dnd-yes tree-dnd-no").addClass(Y?"tree-dnd-yes":"tree-dnd-no")}function V(aa,Z){if(L(X,Z).state=="closed"){w(X,Z,function(){Y()})}else{Y()}function Y(){var ab=R(aa,true);y(X).tree("append",{parent:Z,data:[ab]});U.onDrop.call(X,Z,ab,"append")}}function T(ab,ac,aa){var Z={};if(aa=="top"){Z.before=ac}else{Z.after=ac}var Y=R(ab,true);Z.data=Y;y(X).tree("insert",Z);U.onDrop.call(X,ac,Y,aa)}}function G(U,T,S){var R=y.data(U,"tree").options;if(!R.checkbox){return}var Q=L(U,T);if(R.onBeforeCheck.call(U,Q,S)==false){return}var X=y(T);var Y=X.find(".tree-checkbox");Y.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2");if(S){Y.addClass("tree-checkbox1")}else{Y.addClass("tree-checkbox0")}if(R.cascadeCheck){W(X);V(X)}R.onCheck.call(U,Q,S);function V(aa){var Z=aa.next().find(".tree-checkbox");Z.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2");if(aa.find(".tree-checkbox").hasClass("tree-checkbox1")){Z.addClass("tree-checkbox1")}else{Z.addClass("tree-checkbox0")}}function W(ac){var ad=D(U,ac[0]);if(ad){var Z=y(ad.target).find(".tree-checkbox");Z.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2");if(ab(ac)){Z.addClass("tree-checkbox1")}else{if(aa(ac)){Z.addClass("tree-checkbox0")}else{Z.addClass("tree-checkbox2")}}W(y(ad.target))}function ab(ag){var af=ag.find(".tree-checkbox");if(af.hasClass("tree-checkbox0")||af.hasClass("tree-checkbox2")){return false}var ae=true;ag.parent().siblings().each(function(){if(!y(this).children("div.tree-node").children(".tree-checkbox").hasClass("tree-checkbox1")){ae=false}});return ae}function aa(ag){var af=ag.find(".tree-checkbox");if(af.hasClass("tree-checkbox1")||af.hasClass("tree-checkbox2")){return false}var ae=true;ag.parent().siblings().each(function(){if(!y(this).children("div.tree-node").children(".tree-checkbox").hasClass("tree-checkbox0")){ae=false}});return ae}}}function v(V,T){var S=y.data(V,"tree").options;if(!S.checkbox){return}var R=y(T);if(n(V,T)){var Y=R.find(".tree-checkbox");if(Y.length){if(Y.hasClass("tree-checkbox1")){G(V,T,true)}else{G(V,T,false)}}else{if(S.onlyLeafCheck){y('<span class="tree-checkbox tree-checkbox0"></span>').insertBefore(R.find(".tree-title"))}}}else{var Y=R.find(".tree-checkbox");if(S.onlyLeafCheck){Y.remove()}else{if(Y.hasClass("tree-checkbox1")){G(V,T,true)}else{if(Y.hasClass("tree-checkbox2")){var Q=true;var W=true;var U=P(V,T);for(var X=0;X<U.length;X++){if(U[X].checked){W=false}else{Q=false}}if(Q){G(V,T,true)}if(W){G(V,T,false)}}}}}}function O(U,W,T,S){var R=y.data(U,"tree");var Q=R.options;var ac=y(W).prevAll("div.tree-node:first");T=Q.loadFilter.call(U,T,ac[0]);var ab=f(U,"domId",ac.attr("id"));if(!S){ab?ab.children=T:R.data=T;y(W).empty()}else{if(ab){ab.children?ab.children=ab.children.concat(T):ab.children=T}else{R.data=R.data.concat(T)}}Q.view.render.call(Q.view,U,W,T);if(Q.dnd){u(U)}if(ab){d(U,ab)}var Z=[];var Y=[];for(var V=0;V<T.length;V++){var X=T[V];if(!X.checked){Z.push(X)}}C(T,function(ad){if(ad.checked){Y.push(ad)}});var aa=Q.onCheck;Q.onCheck=function(){};if(Z.length){G(U,y("#"+Z[0].domId)[0],false)}for(var V=0;V<Y.length;V++){G(U,y("#"+Y[V].domId)[0],true)}Q.onCheck=aa;setTimeout(function(){A(U,U)},0);Q.onLoadSuccess.call(U,ab,T)}function A(X,R,V){var W=y.data(X,"tree").options;if(W.lines){y(X).addClass("tree-lines")}else{y(X).removeClass("tree-lines");return}if(!V){V=true;y(X).find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom");y(X).find("div.tree-node").removeClass("tree-node-last tree-root-first tree-root-one");var U=y(X).tree("getRoots");if(U.length>1){y(U[0].target).addClass("tree-root-first")}else{if(U.length==1){y(U[0].target).addClass("tree-root-one")}}}y(R).children("li").each(function(){var Z=y(this).children("div.tree-node");var Y=Z.next("ul");if(Y.length){if(y(this).next().length){T(Z)}A(X,Y,V)}else{S(Z)}});var Q=y(R).children("li:last").children("div.tree-node").addClass("tree-node-last");Q.children("span.tree-join").removeClass("tree-join").addClass("tree-joinbottom");function S(aa,Z){var Y=aa.find("span.tree-icon");Y.prev("span.tree-indent").addClass("tree-join")}function T(Y){var Z=Y.find("span.tree-indent, span.tree-hit").length;Y.next().find("div.tree-node").each(function(){y(this).children("span:eq("+(Z-1)+")").addClass("tree-line")})}}function k(X,Y,W,V){var T=y.data(X,"tree").options;W=W||{};var U=null;if(X!=Y){var S=y(Y).prev();U=L(X,S[0])}if(T.onBeforeLoad.call(X,U,W)==false){return}var R=y(Y).prev().children("span.tree-folder");R.addClass("tree-loading");var Q=T.loader.call(X,W,function(Z){R.removeClass("tree-loading");O(X,Y,Z);if(V){V()}},function(){R.removeClass("tree-loading");T.onLoadError.apply(X,arguments);if(V){V()}});if(Q==false){R.removeClass("tree-loading")}}function w(V,T,R){var Q=y.data(V,"tree").options;var X=y(T).children("span.tree-hit");if(X.length==0){return}if(X.hasClass("tree-expanded")){return}var W=L(V,T);if(Q.onBeforeExpand.call(V,W)==false){return}X.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded");X.next().addClass("tree-folder-open");var S=y(T).next();if(S.length){if(Q.animate){S.slideDown("normal",function(){W.state="open";Q.onExpand.call(V,W);if(R){R()}})}else{S.css("display","block");W.state="open";Q.onExpand.call(V,W);if(R){R()}}}else{var U=y('<ul style="display:none"></ul>').insertAfter(T);k(V,U[0],{id:W.id},function(){if(U.is(":empty")){U.remove()}if(Q.animate){U.slideDown("normal",function(){W.state="open";Q.onExpand.call(V,W);if(R){R()}})}else{U.css("display","block");W.state="open";Q.onExpand.call(V,W);if(R){R()}}})}}function a(T,S){var Q=y.data(T,"tree").options;var V=y(S).children("span.tree-hit");if(V.length==0){return}if(V.hasClass("tree-collapsed")){return}var R=L(T,S);if(Q.onBeforeCollapse.call(T,R)==false){return}V.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed");V.next().removeClass("tree-folder-open");var U=y(S).next();if(Q.animate){U.slideUp("normal",function(){R.state="closed";Q.onCollapse.call(T,R)})}else{U.css("display","none");R.state="closed";Q.onCollapse.call(T,R)}}function i(Q,S){var R=y(S).children("span.tree-hit");if(R.length==0){return}if(R.hasClass("tree-expanded")){a(Q,S)}else{w(Q,S)}}function h(T,S){var R=P(T,S);if(S){R.unshift(L(T,S))}for(var Q=0;Q<R.length;Q++){w(T,R[Q].target)}}function e(R,U){var S=[];var T=D(R,U);while(T){S.unshift(T);T=D(R,T.target)}for(var Q=0;Q<S.length;Q++){w(R,S[Q].target)}}function B(T,R){var V=y(T).parent();while(V[0].tagName!="BODY"&&V.css("overflow-y")!="auto"){V=V.parent()}var U=y(R);var S=U.offset().top;if(V[0].tagName!="BODY"){var Q=V.offset().top;if(S<Q){V.scrollTop(V.scrollTop()+S-Q)}else{if(S+U.outerHeight()>Q+V.outerHeight()-18){V.scrollTop(V.scrollTop()+S+U.outerHeight()-Q-V.outerHeight()+18)}}}else{V.scrollTop(S)}}function J(R,Q){var T=P(R,Q);if(Q){T.unshift(L(R,Q))}for(var S=0;S<T.length;S++){a(R,T[S].target)}}function I(U,T){var R=y(T.parent);var W=T.data;if(!W){return}W=y.isArray(W)?W:[W];if(!W.length){return}var Q;if(R.length==0){Q=y(U)}else{if(n(U,R[0])){var V=R.find("span.tree-icon");V.removeClass("tree-file").addClass("tree-folder tree-folder-open");var S=y('<span class="tree-hit tree-expanded"></span>').insertBefore(V);if(S.prev().length){S.prev().remove()}}Q=R.next();if(!Q.length){Q=y("<ul></ul>").insertAfter(R)}}O(U,Q[0],W,true);v(U,Q.prev())}function m(V,T){var Q=T.before||T.after;var R=D(V,Q);var X=T.data;if(!X){return}X=y.isArray(X)?X:[X];if(!X.length){return}I(V,{parent:(R?R.target:null),data:X});var W=R?R.children:y(V).tree("getRoots");for(var U=0;U<W.length;U++){if(W[U].domId==y(Q).attr("id")){for(var S=X.length-1;S>=0;S--){W.splice((T.before?U:(U+1)),0,X[S])}W.splice(W.length-X.length,X.length);break}}var Y=y();for(var U=0;U<X.length;U++){Y=Y.add(y("#"+X[U].domId).parent())}if(T.before){Y.insertBefore(y(Q).parent())}else{Y.insertAfter(y(Q).parent())}}function H(U,T){var S=Q(T);y(T).parent().remove();if(S){if(!S.children||!S.children.length){var R=y(S.target);R.find(".tree-icon").removeClass("tree-folder").addClass("tree-file");R.find(".tree-hit").remove();y('<span class="tree-indent"></span>').prependTo(R);R.next().remove()}d(U,S);v(U,S.target)}A(U,U);function Q(V){var Z=y(V).attr("id");var Y=D(U,V);var X=Y?Y.children:y.data(U,"tree").data;for(var W=0;W<X.length;W++){if(X[W].domId==Z){X.splice(W,1);break}}return Y}}function d(U,S){var R=y.data(U,"tree").options;var Q=y(S.target);var V=L(U,S.target);var T=V.checked;if(V.iconCls){Q.find(".tree-icon").removeClass(V.iconCls)}y.extend(V,S);Q.find(".tree-title").html(R.formatter.call(U,V));if(V.iconCls){Q.find(".tree-icon").addClass(V.iconCls)}if(T!=V.checked){G(U,S.target,V.checked)}}function j(R){var Q=t(R);return Q.length?Q[0]:null}function t(S){var R=y.data(S,"tree").data;for(var Q=0;Q<R.length;Q++){r(R[Q])}return R}function P(T,S){var R=[];var U=L(T,S);var Q=U?U.children:y.data(T,"tree").data;C(Q,function(V){R.push(r(V))});return R}function D(R,Q){var S=y(Q).closest("ul").prevAll("div.tree-node:first");return L(R,S[0])}function M(R,V){V=V||"checked";if(!y.isArray(V)){V=[V]}var Q=[];for(var S=0;S<V.length;S++){var T=V[S];if(T=="checked"){Q.push("span.tree-checkbox1")}else{if(T=="unchecked"){Q.push("span.tree-checkbox0")}else{if(T=="indeterminate"){Q.push("span.tree-checkbox2")}}}}var U=[];y(R).find(Q.join(",")).each(function(){var W=y(this).parent();U.push(L(R,W[0]))});return U}function g(R){var Q=y(R).find("div.tree-node-selected");return Q.length?L(R,Q[0]):null}function b(S,R){var Q=L(S,R);if(Q&&Q.children){C(Q.children,function(T){r(T)})}return Q}function L(R,Q){return f(R,"domId",y(Q).attr("id"))}function z(Q,R){return f(Q,"id",R)}function f(S,T,R){var Q=y.data(S,"tree").data;var U=null;C(Q,function(V){if(V[T]==R){U=r(V);return false}});return U}function r(Q){var R=y("#"+Q.domId);Q.target=R[0];Q.checked=R.find(".tree-checkbox").hasClass("tree-checkbox1");return Q}function C(U,T){var S=[];for(var R=0;R<U.length;R++){S.push(U[R])}while(S.length){var Q=S.shift();if(T(Q)==false){return}if(Q.children){for(var R=Q.children.length-1;R>=0;R--){S.unshift(Q.children[R])}}}}function l(T,S){var R=y.data(T,"tree").options;var Q=L(T,S);if(R.onBeforeSelect.call(T,Q)==false){return}y(T).find("div.tree-node-selected").removeClass("tree-node-selected");y(S).addClass("tree-node-selected");R.onSelect.call(T,Q)}function n(Q,R){return y(R).children("span.tree-hit").length==0}function x(S,R){var Q=y.data(S,"tree").options;var W=L(S,R);if(Q.onBeforeEdit.call(S,W)==false){return}y(R).css("position","relative");var T=y(R).find(".tree-title");var V=T.outerWidth();T.empty();var U=y('<input class="tree-editor">').appendTo(T);U.val(W.text).focus();U.width(V+20);U.height(document.compatMode=="CSS1Compat"?(18-(U.outerHeight()-U.height())):18);U.bind("click",function(X){return false}).bind("mousedown",function(X){X.stopPropagation()}).bind("mousemove",function(X){X.stopPropagation()}).bind("keydown",function(X){if(X.keyCode==13){p(S,R);return false}else{if(X.keyCode==27){N(S,R);return false}}}).bind("blur",function(X){X.stopPropagation();p(S,R)})}function p(Q,V){var U=y.data(Q,"tree").options;y(V).css("position","");var S=y(V).find("input.tree-editor");var T=S.val();S.remove();var R=L(Q,V);R.text=T;d(Q,R);U.onAfterEdit.call(Q,R)}function N(S,T){var R=y.data(S,"tree").options;y(T).css("position","");y(T).find("input.tree-editor").remove();var Q=L(S,T);d(S,Q);R.onCancelEdit.call(S,Q)}y.fn.tree=function(R,Q){if(typeof R=="string"){return y.fn.tree.methods[R](this,Q)}var R=R||{};return this.each(function(){var T=y.data(this,"tree");var S;if(T){S=y.extend(T.options,R);T.options=S}else{S=y.extend({},y.fn.tree.defaults,y.fn.tree.parseOptions(this),R);y.data(this,"tree",{options:S,tree:s(this),data:[]});var U=y.fn.tree.parseData(this);if(U.length){O(this,this,U)}}q(this);if(S.data){O(this,this,y.extend(true,[],S.data))}k(this,this)})};y.fn.tree.methods={options:function(Q){return y.data(Q[0],"tree").options},loadData:function(R,Q){return R.each(function(){O(this,this,Q)})},getNode:function(R,Q){return L(R[0],Q)},getData:function(R,Q){return b(R[0],Q)},reload:function(R,Q){return R.each(function(){if(Q){var T=y(Q);var S=T.children("span.tree-hit");S.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed");T.next().remove();w(this,Q)}else{y(this).empty();k(this,this)}})},getRoot:function(Q){return j(Q[0])},getRoots:function(Q){return t(Q[0])},getParent:function(R,Q){return D(R[0],Q)},getChildren:function(R,Q){return P(R[0],Q)},getChecked:function(R,Q){return M(R[0],Q)},getSelected:function(Q){return g(Q[0])},isLeaf:function(R,Q){return n(R[0],Q)},find:function(R,Q){return z(R[0],Q)},select:function(R,Q){return R.each(function(){l(this,Q)})},check:function(R,Q){return R.each(function(){G(this,Q,true)})},uncheck:function(R,Q){return R.each(function(){G(this,Q,false)})},collapse:function(R,Q){return R.each(function(){a(this,Q)})},expand:function(R,Q){return R.each(function(){w(this,Q)})},collapseAll:function(R,Q){return R.each(function(){J(this,Q)})},expandAll:function(R,Q){return R.each(function(){h(this,Q)})},expandTo:function(R,Q){return R.each(function(){e(this,Q)})},scrollTo:function(R,Q){return R.each(function(){B(this,Q)})},toggle:function(R,Q){return R.each(function(){i(this,Q)})},append:function(R,Q){return R.each(function(){I(this,Q)})},insert:function(R,Q){return R.each(function(){m(this,Q)})},remove:function(R,Q){return R.each(function(){H(this,Q)})},pop:function(S,R){var Q=S.tree("getData",R);S.tree("remove",R);return Q},update:function(R,Q){return R.each(function(){d(this,Q)})},enableDnd:function(Q){return Q.each(function(){u(this)})},disableDnd:function(Q){return Q.each(function(){K(this)})},beginEdit:function(R,Q){return R.each(function(){x(this,Q)})},endEdit:function(R,Q){return R.each(function(){p(this,Q)})},cancelEdit:function(R,Q){return R.each(function(){N(this,Q)})}};y.fn.tree.parseOptions=function(R){var Q=y(R);return y.extend({},y.parser.parseOptions(R,["url","method",{checkbox:"boolean",cascadeCheck:"boolean",onlyLeafCheck:"boolean"},{animate:"boolean",lines:"boolean",dnd:"boolean"}]))};y.fn.tree.parseData=function(R){var S=[];Q(S,y(R));return S;function Q(U,T){T.children("li").each(function(){var X=y(this);var W=y.extend({},y.parser.parseOptions(this,["id","iconCls","state"]),{checked:(X.attr("checked")?true:undefined)});W.text=X.children("span").html();if(!W.text){W.text=X.html()}var V=X.children("ul");if(V.length){W.children=[];Q(W.children,V)}U.push(W)})}};var F=1;var E={render:function(W,S,U){var T=y.data(W,"tree").options;var R=y(S).prev("div.tree-node").find("span.tree-indent, span.tree-hit").length;var V=Q(R,U);y(S).append(V.join(""));function Q(Y,X){var ae=[];for(var ab=0;ab<X.length;ab++){var ac=X[ab];if(ac.state!="open"&&ac.state!="closed"){ac.state="open"}ac.domId="_easyui_tree_"+F++;ae.push("<li>");ae.push('<div id="'+ac.domId+'" class="tree-node">');for(var Z=0;Z<Y;Z++){ae.push('<span class="tree-indent"></span>')}var ad=false;if(ac.state=="closed"){ae.push('<span class="tree-hit tree-collapsed"></span>');ae.push('<span class="tree-icon tree-folder '+(ac.iconCls?ac.iconCls:"")+'"></span>')}else{if(ac.children&&ac.children.length){ae.push('<span class="tree-hit tree-expanded"></span>');ae.push('<span class="tree-icon tree-folder tree-folder-open '+(ac.iconCls?ac.iconCls:"")+'"></span>')}else{ae.push('<span class="tree-indent"></span>');ae.push('<span class="tree-icon tree-file '+(ac.iconCls?ac.iconCls:"")+'"></span>');ad=true}}if(T.checkbox){if((!T.onlyLeafCheck)||ad){ae.push('<span class="tree-checkbox tree-checkbox0"></span>')}}ae.push('<span class="tree-title">'+T.formatter.call(W,ac)+"</span>");ae.push("</div>");if(ac.children&&ac.children.length){var aa=Q(Y+1,ac.children);ae.push('<ul style="display:'+(ac.state=="closed"?"none":"block")+'">');ae=ae.concat(aa);ae.push("</ul>")}ae.push("</li>")}return ae}}};y.fn.tree.defaults={url:null,method:"post",animate:false,checkbox:false,cascadeCheck:true,onlyLeafCheck:false,lines:false,dnd:false,data:null,formatter:function(Q){return Q.text},loader:function(S,T,R){var Q=y(this).tree("options");if(!Q.url){return false}y.ajax({type:Q.method,url:Q.url,data:S,dataType:"json",success:function(U){T(U)},error:function(){R.apply(this,arguments)}})},loadFilter:function(Q,R){return Q},view:E,onBeforeLoad:function(Q,R){},onLoadSuccess:function(Q,R){},onLoadError:function(){},onClick:function(Q){},onDblClick:function(Q){},onBeforeExpand:function(Q){},onExpand:function(Q){},onBeforeCollapse:function(Q){},onCollapse:function(Q){},onBeforeCheck:function(R,Q){},onCheck:function(R,Q){},onBeforeSelect:function(Q){},onSelect:function(Q){},onContextMenu:function(R,Q){},onBeforeDrag:function(Q){},onStartDrag:function(Q){},onStopDrag:function(Q){},onDragEnter:function(R,Q){},onDragOver:function(R,Q){},onDragLeave:function(R,Q){},onBeforeDrop:function(S,R,Q){},onDrop:function(R,S,Q){},onBeforeEdit:function(Q){},onAfterEdit:function(Q){},onCancelEdit:function(Q){}}})(jQuery);$.extend($.fn.tree.methods,{unselect:function(b,a){return b.each(function(){var d=$(this).tree("options");$(a).removeClass("tree-node-selected");if(d.onUnselect){d.onUnselect.call(this,$(this).tree("getNode",a))}})}});(function(e){function g(n){var m=e.data(n.data.target,"draggable");var l=m.options;var k=m.proxy;var j=n.data;var i=j.startLeft+n.pageX-j.startX;var h=j.startTop+n.pageY-j.startY;if(k){if(k.parent()[0]==document.body){if(l.deltaX!=null&&l.deltaX!=undefined){i=n.pageX+l.deltaX}else{i=n.pageX-n.data.offsetWidth}if(l.deltaY!=null&&l.deltaY!=undefined){h=n.pageY+l.deltaY}else{h=n.pageY-n.data.offsetHeight}}else{if(l.deltaX!=null&&l.deltaX!=undefined){i+=n.data.offsetWidth+l.deltaX}if(l.deltaY!=null&&l.deltaY!=undefined){h+=n.data.offsetHeight+l.deltaY}}}if(n.data.parent!=document.body){i+=e(n.data.parent).scrollLeft();h+=e(n.data.parent).scrollTop()}if(l.axis=="h"){j.left=i}else{if(l.axis=="v"){j.top=h}else{j.left=i;j.top=h}}}function a(k){var h=e.data(k.data.target,"draggable");var j=h.options;var i=h.proxy;if(!i){i=e(k.data.target)}i.css({left:k.data.left,top:k.data.top});e("body").css("cursor",j.cursor)}function b(j){e.fn.draggable.isDragging=true;var i=e.data(j.data.target,"draggable");var h=i.options;var l=e(".droppable").filter(function(){return j.data.target!=this}).filter(function(){var m=e.data(this,"droppable").options.accept;if(m){return e(m).filter(function(){return this==j.data.target}).length>0}else{return true}});i.droppables=l;var k=i.proxy;if(!k){if(h.proxy){if(h.proxy=="clone"){k=e(j.data.target).clone().insertAfter(j.data.target)}else{k=h.proxy.call(j.data.target,j.data.target)}i.proxy=k}else{k=e(j.data.target)}}k.css("position","absolute");g(j);a(j);h.onStartDrag.call(j.data.target,j);return false}function f(j){var i=e.data(j.data.target,"draggable");g(j);if(i.options.onDrag.call(j.data.target,j)!=false){a(j)}var h=j.data.target;i.droppables.each(function(){var k=e(this);if(k.droppable("options").disabled){return}var l=k.offset();if(j.pageX>l.left&&j.pageX<l.left+k.outerWidth()&&j.pageY>l.top&&j.pageY<l.top+k.outerHeight()){if(!this.entered){e(this).trigger("_dragenter",[h]);this.entered=true}e(this).trigger("_dragover",[h])}else{if(this.entered){e(this).trigger("_dragleave",[h]);this.entered=false}}});return false}function d(p){e.fn.draggable.isDragging=false;f(p);var k=e.data(p.data.target,"draggable");var i=k.proxy;var h=k.options;if(h.revert){if(m()==true){e(p.data.target).css({position:p.data.startPosition,left:p.data.startLeft,top:p.data.startTop})}else{if(i){var l,n;if(i.parent()[0]==document.body){l=p.data.startX-p.data.offsetWidth;n=p.data.startY-p.data.offsetHeight}else{l=p.data.startLeft;n=p.data.startTop}i.animate({left:l,top:n},function(){j()})}else{e(p.data.target).animate({left:p.data.startLeft,top:p.data.startTop},function(){e(p.data.target).css("position",p.data.startPosition)})}}}else{e(p.data.target).css({position:"absolute",left:p.data.left,top:p.data.top});m()}h.onStopDrag.call(p.data.target,p);e(document).unbind(".draggable");setTimeout(function(){e("body").css("cursor","")},100);function j(){if(i){i.remove()}k.proxy=null}function m(){var q=false;k.droppables.each(function(){var r=e(this);if(r.droppable("options").disabled){return}var s=r.offset();if(p.pageX>s.left&&p.pageX<s.left+r.outerWidth()&&p.pageY>s.top&&p.pageY<s.top+r.outerHeight()){if(h.revert){e(p.data.target).css({position:p.data.startPosition,left:p.data.startLeft,top:p.data.startTop})}e(this).trigger("_drop",[p.data.target]);j();q=true;this.entered=false;return false}});if(!q&&!h.revert){j()}return q}return false}e.fn.draggable=function(h,i){if(typeof h=="string"){return e.fn.draggable.methods[h](this,i)}return this.each(function(){var j;var m=e.data(this,"draggable");if(m){m.handle.unbind(".draggable");j=e.extend(m.options,h)}else{j=e.extend({},e.fn.draggable.defaults,e.fn.draggable.parseOptions(this),h||{})}var l=j.handle?(typeof j.handle=="string"?e(j.handle,this):j.handle):e(this);e.data(this,"draggable",{options:j,handle:l});if(j.disabled){e(this).css("cursor","");return}l.unbind(".draggable").bind("mousemove.draggable",{target:this},function(p){if(e.fn.draggable.isDragging){return}var n=e.data(p.data.target,"draggable").options;if(k(p)){e(this).css("cursor",n.cursor)}else{e(this).css("cursor","")}}).bind("mouseleave.draggable",{target:this},function(n){e(this).css("cursor","")}).bind("mousedown.draggable",{target:this},function(s){if(k(s)==false){return}e(this).css("cursor","");var r=e(s.data.target).position();var q=e(s.data.target).offset();var p={startPosition:e(s.data.target).css("position"),startLeft:r.left,startTop:r.top,left:r.left,top:r.top,startX:s.pageX,startY:s.pageY,offsetWidth:(s.pageX-q.left),offsetHeight:(s.pageY-q.top),target:s.data.target,parent:e(s.data.target).parent()[0]};e.extend(s.data,p);var n=e.data(s.data.target,"draggable").options;if(n.onBeforeDrag.call(s.data.target,s)==false){return}e(document).bind("mousedown.draggable",s.data,b);e(document).bind("mousemove.draggable",s.data,f);e(document).bind("mouseup.draggable",s.data,d)});function k(s){var n=e.data(s.data.target,"draggable");var z=n.handle;var x=e(z).offset();var w=e(z).outerWidth();var v=e(z).outerHeight();var y=s.pageY-x.top;var p=x.left+w-s.pageX;var u=x.top+v-s.pageY;var q=s.pageX-x.left;return Math.min(y,p,u,q)>n.options.edge}})};e.fn.draggable.methods={options:function(h){return e.data(h[0],"draggable").options},proxy:function(h){return e.data(h[0],"draggable").proxy},enable:function(h){return h.each(function(){e(this).draggable({disabled:false})})},disable:function(h){return h.each(function(){e(this).draggable({disabled:true})})}};e.fn.draggable.parseOptions=function(h){var i=e(h);return e.extend({},e.parser.parseOptions(h,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:(i.attr("disabled")?true:undefined)})};e.fn.draggable.defaults={proxy:null,revert:false,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:false,edge:0,axis:null,onBeforeDrag:function(h){},onStartDrag:function(h){},onDrag:function(h){},onStopDrag:function(h){}};e.fn.draggable.isDragging=false})(jQuery);(function(g){function h(l,k){var j=g.data(l,"window").options;if(k){g.extend(j,k)}g(l).panel("resize",j)}function f(l,k){var j=g.data(l,"window");if(k){if(k.left!=null){j.options.left=k.left}if(k.top!=null){j.options.top=k.top}}g(l).panel("move",j.options);if(j.shadow){j.shadow.css({left:j.options.left,top:j.options.top})}}function a(n,m){var l=g.data(n,"window");var k=l.options;var j=k.width;if(isNaN(j)){j=l.window._outerWidth()}if(k.inline){var p=l.window.parent();k.left=(p.width()-j)/2+p.scrollLeft()}else{k.left=(g(window)._outerWidth()-j)/2+g(document).scrollLeft()}if(m){f(n)}}function i(p,n){var m=g.data(p,"window");var l=m.options;var k=l.height;if(isNaN(k)){k=m.window._outerHeight()}if(l.inline){var j=m.window.parent();l.top=(j.height()-k)/2+j.scrollTop()}else{l.top=(g(window)._outerHeight()-k)/2+g(document).scrollTop()}if(n){f(p)}}function e(k){var j=g.data(k,"window");var l=g(k).panel(g.extend({},j.options,{border:false,doSize:true,closed:true,cls:"window",headerCls:"window-header",bodyCls:"window-body "+(j.options.noheader?"window-body-noheader":""),onBeforeDestroy:function(){if(j.options.onBeforeDestroy.call(k)==false){return false}if(j.shadow){j.shadow.remove()}if(j.mask){j.mask.remove()}},onClose:function(){if(j.shadow){j.shadow.hide()}if(j.mask){j.mask.hide()}j.options.onClose.call(k)},onOpen:function(){if(j.mask){j.mask.css({display:"block",zIndex:g.fn.window.defaults.zIndex++})}if(j.shadow){j.shadow.css({display:"block",zIndex:g.fn.window.defaults.zIndex++,left:j.options.left,top:j.options.top,width:j.window._outerWidth(),height:j.window._outerHeight()})}j.window.css("z-index",g.fn.window.defaults.zIndex++);j.options.onOpen.call(k)},onResize:function(p,n){var m=g(this).panel("options");g.extend(j.options,{width:m.width,height:m.height,left:m.left,top:m.top});if(j.shadow){j.shadow.css({left:j.options.left,top:j.options.top,width:j.window._outerWidth(),height:j.window._outerHeight()})}j.options.onResize.call(k,p,n)},onMinimize:function(){if(j.shadow){j.shadow.hide()}if(j.mask){j.mask.hide()}j.options.onMinimize.call(k)},onBeforeCollapse:function(){if(j.options.onBeforeCollapse.call(k)==false){return false}if(j.shadow){j.shadow.hide()}},onExpand:function(){if(j.shadow){j.shadow.show()}j.options.onExpand.call(k)}}));j.window=l.panel("panel");if(j.mask){j.mask.remove()}if(j.options.modal==true){j.mask=g('<div class="window-mask"></div>').insertAfter(j.window);j.mask.css({width:(j.options.inline?j.mask.parent().width():d().width),height:(j.options.inline?j.mask.parent().height():d().height),display:"none"})}if(j.shadow){j.shadow.remove()}if(j.options.shadow==true){j.shadow=g('<div class="window-shadow"></div>').insertAfter(j.window);j.shadow.css({display:"none"})}if(j.options.left==null){a(k)}if(j.options.top==null){i(k)}f(k);if(j.options.closed==false){l.window("open")}}function b(j){var k=g.data(j,"window");k.window.draggable({handle:">div.panel-header>div.panel-title",disabled:k.options.draggable==false,onStartDrag:function(l){if(k.mask){k.mask.css("z-index",g.fn.window.defaults.zIndex++)}if(k.shadow){k.shadow.css("z-index",g.fn.window.defaults.zIndex++)}k.window.css("z-index",g.fn.window.defaults.zIndex++);if(!k.proxy){k.proxy=g('<div class="window-proxy"></div>').insertAfter(k.window)}k.proxy.css({display:"none",zIndex:g.fn.window.defaults.zIndex++,left:l.data.left,top:l.data.top});k.proxy._outerWidth(k.window._outerWidth());k.proxy._outerHeight(k.window._outerHeight());setTimeout(function(){if(k.proxy){k.proxy.show()}},500)},onDrag:function(l){k.proxy.css({display:"block",left:l.data.left,top:l.data.top});return false},onStopDrag:function(l){k.options.left=l.data.left;k.options.top=l.data.top;g(j).window("move");k.proxy.remove();k.proxy=null}});k.window.resizable({disabled:k.options.resizable==false,onStartResize:function(l){k.pmask=g('<div class="window-proxy-mask"></div>').insertAfter(k.window);k.pmask.css({zIndex:g.fn.window.defaults.zIndex++,left:l.data.left,top:l.data.top,width:k.window._outerWidth(),height:k.window._outerHeight()});if(!k.proxy){k.proxy=g('<div class="window-proxy"></div>').insertAfter(k.window)}k.proxy.css({zIndex:g.fn.window.defaults.zIndex++,left:l.data.left,top:l.data.top});k.proxy._outerWidth(l.data.width);k.proxy._outerHeight(l.data.height)},onResize:function(l){k.proxy.css({left:l.data.left,top:l.data.top});k.proxy._outerWidth(l.data.width);k.proxy._outerHeight(l.data.height);return false},onStopResize:function(l){g.extend(k.options,{left:l.data.left,top:l.data.top,width:l.data.width,height:l.data.height});h(j);k.pmask.remove();k.pmask=null;k.proxy.remove();k.proxy=null}})}function d(){if(document.compatMode=="BackCompat"){return{width:Math.max(document.body.scrollWidth,document.body.clientWidth),height:Math.max(document.body.scrollHeight,document.body.clientHeight)}}else{return{width:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),height:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight)}}}g(window).resize(function(){g("body>div.window-mask").css({width:g(window)._outerWidth(),height:g(window)._outerHeight()});setTimeout(function(){g("body>div.window-mask").css({width:d().width,height:d().height})},50)});g.fn.window=function(j,l){if(typeof j=="string"){var k=g.fn.window.methods[j];if(k){return k(this,l)}else{return this.panel(j,l)}}j=j||{};return this.each(function(){var m=g.data(this,"window");if(m){g.extend(m.options,j)}else{m=g.data(this,"window",{options:g.extend({},g.fn.window.defaults,g.fn.window.parseOptions(this),j)});if(!m.options.inline){document.body.appendChild(this)}}e(this);b(this)})};g.fn.window.methods={options:function(l){var k=l.panel("options");var j=g.data(l[0],"window").options;return g.extend(j,{closed:k.closed,collapsed:k.collapsed,minimized:k.minimized,maximized:k.maximized})},window:function(j){return g.data(j[0],"window").window},resize:function(k,j){return k.each(function(){h(this,j)})},move:function(k,j){return k.each(function(){f(this,j)})},hcenter:function(j){return j.each(function(){a(this,true)})},vcenter:function(j){return j.each(function(){i(this,true)})},center:function(j){return j.each(function(){a(this);i(this);f(this)})}};g.fn.window.parseOptions=function(j){return g.extend({},g.fn.panel.parseOptions(j),g.parser.parseOptions(j,[{draggable:"boolean",resizable:"boolean",shadow:"boolean",modal:"boolean",inline:"boolean"}]))};g.fn.window.defaults=g.extend({},g.fn.panel.defaults,{zIndex:9000,draggable:true,resizable:true,shadow:true,modal:false,inline:false,title:"New Window",collapsible:true,minimizable:true,maximizable:true,closable:true,closed:false})})(jQuery);(function($){function _1(_2){var cp=document.createElement("div");while(_2.firstChild){cp.appendChild(_2.firstChild)}_2.appendChild(cp);var _3=$(cp);_3.attr("style",$(_2).attr("style"));$(_2).removeAttr("style").css("overflow","hidden");_3.panel({border:false,doSize:false,bodyCls:"dialog-content"});return _3}function _4(_5){var _6=$.data(_5,"dialog").options;var _7=$.data(_5,"dialog").contentPanel;if(_6.toolbar){if($.isArray(_6.toolbar)){$(_5).find("div.dialog-toolbar").remove();var _8=$('<div class="dialog-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(_5);var tr=_8.find("tr");for(var i=0;i<_6.toolbar.length;i++){var _9=_6.toolbar[i];if(_9=="-"){$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr)}else{var td=$("<td></td>").appendTo(tr);var _a=$('<a href="javascript:void(0)"></a>').appendTo(td);_a[0].onclick=eval(_9.handler||function(){});_a.linkbutton($.extend({},_9,{plain:true}))}}}else{$(_6.toolbar).addClass("dialog-toolbar").prependTo(_5);$(_6.toolbar).show()}}else{$(_5).find("div.dialog-toolbar").remove()}if(_6.buttons){if($.isArray(_6.buttons)){$(_5).find("div.dialog-button").remove();var _b=$('<div class="dialog-button"></div>').appendTo(_5);for(var i=0;i<_6.buttons.length;i++){var p=_6.buttons[i];var _c=$('<a href="javascript:void(0)"></a>').appendTo(_b);if(p.handler){_c[0].onclick=p.handler}_c.linkbutton(p)}}else{$(_6.buttons).addClass("dialog-button").appendTo(_5);$(_6.buttons).show()}}else{$(_5).find("div.dialog-button").remove()}var _d=_6.href;var _e=_6.content;_6.href=null;_6.content=null;_7.panel({closed:_6.closed,cache:_6.cache,href:_d,content:_e,onLoad:function(){if(_6.height=="auto"){$(_5).window("resize")}_6.onLoad.apply(_5,arguments)}});$(_5).window($.extend({},_6,{onOpen:function(){if(_7.panel("options").closed){_7.panel("open")}if(_6.onOpen){_6.onOpen.call(_5)}},onResize:function(_f,_10){var _11=$(_5);_7.panel("panel").show();_7.panel("resize",{width:_11.width(),height:(_10=="auto")?"auto":_11.height()-_11.children("div.dialog-toolbar")._outerHeight()-_11.children("div.dialog-button")._outerHeight()});if(_6.onResize){_6.onResize.call(_5,_f,_10)}}}));_6.href=_d;_6.content=_e}function _12(_13,_14){var _15=$.data(_13,"dialog").contentPanel;_15.panel("refresh",_14)}$.fn.dialog=function(_16,_17){if(typeof _16=="string"){var _18=$.fn.dialog.methods[_16];if(_18){return _18(this,_17)}else{return this.window(_16,_17)}}_16=_16||{};return this.each(function(){var _19=$.data(this,"dialog");if(_19){$.extend(_19.options,_16)}else{$.data(this,"dialog",{options:$.extend({},$.fn.dialog.defaults,$.fn.dialog.parseOptions(this),_16),contentPanel:_1(this)})}_4(this)})};$.fn.dialog.methods={options:function(jq){var _1a=$.data(jq[0],"dialog").options;var _1b=jq.panel("options");$.extend(_1a,{closed:_1b.closed,collapsed:_1b.collapsed,minimized:_1b.minimized,maximized:_1b.maximized});var _1c=$.data(jq[0],"dialog").contentPanel;return _1a},dialog:function(jq){return jq.window("window")},refresh:function(jq,_1d){return jq.each(function(){_12(this,_1d)})}};$.fn.dialog.parseOptions=function(_1e){return $.extend({},$.fn.window.parseOptions(_1e),$.parser.parseOptions(_1e,["toolbar","buttons"]))};$.fn.dialog.defaults=$.extend({},$.fn.window.defaults,{title:"New Dialog",collapsible:false,minimizable:false,maximizable:false,resizable:false,toolbar:null,buttons:null})})(jQuery);(function(a){a.fn.extend({ITCUI_Foldable:function(e,b){var f="无标题栏目";var g=a(this);var d=this;d.initFoldable=function(){b=b||{};b.onExpand=b.onExpand||function(){};b.onFold=b.onFold||function(){};b.hideOnEmpty=b.hideOnEmpty===false?true:false;g.data("opts",b);if(g.attr("grouptitle")){f=g.attr("grouptitle")}if(b){if(b.grouptitle){f=b.grouptitle}}var i="";if(g.css("float")){i="float:"+g.css("float")}var h='<div class="itcui_frm_grp_title" style="width:100%;'+i+'">';h+='<span class="itcui_frm_grp_title_arrow';if(g.css("display")!="none"){h+="  itcui_frm_grp_title_arrow_expand"}h+='"></span>';h+='<span class="itcui_frm_grp_title_txt">'+f+"</span>";h+="</div>";g.before(h);d.hideOnEmpty()};d.hideOnEmpty=function(){var j=g.children();var k=true;for(var h=0;h<j.length;h++){if(a(j[h]).css("display")!="none"){k=false;break}}if(k){d.hideAll()}};d.hideAll=function(){g.hide();g.prev(".itcui_frm_grp_title").hide()};d.showAll=function(){g.show();g.prev(".itcui_frm_grp_title").show()};d.fold=function(){var h=g.prev(".itcui_frm_grp_title");d.foldOrExpand(h,"fold")};d.expand=function(){var h=g.prev(".itcui_frm_grp_title");d.foldOrExpand(h,"expand")};d.toggle=function(){var h=g.prev(".itcui_frm_grp_title");d.foldOrExpand(h)};d.foldOrExpand=function(j,i){var k=a(j).next("div");var h=k.data("opts");if((k.css("display")=="none"||i=="expand")&&i!="fold"){j.children(".itcui_frm_grp_title_arrow").addClass("itcui_frm_grp_title_arrow_expand");k.slideDown("normal",h.onExpand)}else{if(i!="expand"){k.slideUp("normal",h.onFold);j.children(".itcui_frm_grp_title_arrow").removeClass("itcui_frm_grp_title_arrow_expand")}}};d.addEvents=function(){return;var h=g.prev(".itcui_frm_grp_title");h.click(function(i){d.foldOrExpand(h)})};if(!e){d.initFoldable();d.addEvents()}else{if(e=="show"){d.showAll()}else{if(e=="hide"){d.hideAll()}else{if(e=="fold"){d.fold()}else{if(e=="expand"){d.expand()}else{if(e=="toggle"){d.toggle()}}}}}}}})})(jQuery);+function(d){var b=function(e){this.element=d(e)};b.prototype.show=function(){var k=this.element;var h=k.closest("ul:not(.dropdown-menu)");var g=k.data("target");if(!g){g=k.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(k.parent("li").hasClass("active")){return}var i=h.find(".active:last a")[0];var j=d.Event("show.bs.tab",{relatedTarget:i});k.trigger(j);if(j.isDefaultPrevented()){return}var f=d(g);this.activate(k.parent("li"),h);this.activate(f,f.parent(),function(){k.trigger({type:"shown.bs.tab",relatedTarget:i})})};b.prototype.activate=function(g,f,j){var e=f.find("> .active");var i=j&&d.support.transition&&e.hasClass("fade");function h(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");g.addClass("active");if(i){g[0].offsetWidth;g.addClass("in")}else{g.removeClass("fade")}if(g.parent(".dropdown-menu")){g.closest("li.dropdown").addClass("active")}j&&j()}i?e.one(d.support.transition.end,h).emulateTransitionEnd(150):h();e.removeClass("in")};var a=d.fn.tab;d.fn.tab=function(e){return this.each(function(){var g=d(this);var f=g.data("bs.tab");if(!f){g.data("bs.tab",(f=new b(this)))}if(typeof e=="string"){f[e]()}})};d.fn.tab.Constructor=b;d.fn.tab.noConflict=function(){d.fn.tab=a;return this};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault();d(this).tab("show")})}(jQuery);(function(a){a.fn.extend({ITCUI_ComboTree:function(g,d,b){var e=150;var h=a(this);var f=this;f.initComboBox=function(){_itc_makewrap(f);e=parseInt(h.css("width"));var n=h.attr("treewidth");var j=h.attr("treeheight");h.data("wrapWidth",n);h.data("wrapHeight",j);h.data("opt",d);var k=d.onSelect||function(){};var l=d.onCheck||function(){};var m=h.attr("deftext")?"deftext":"tree";h.data("_onSelect",k);h.data("_onCheck",l);delete (d.onCheck);delete (d.onSelect);var q=h.attr("deftext")||"";multiSelect=d.checkbox?true:false;h.data("multiSelect",multiSelect);var p=h.css("float");if(p){p=";float:"+p}else{p=""}var i="<div class='itcui_combo bbox' style='position:relative;width:100%;'>";i+="<span class='itcui_combo_text'>"+q+"</span><span class='itcui_combo_arrow_wrap'><b class='itcui_combo_arrow'></b></span>";i+="</div>";h.css("display","none");h.before(i);h.prev(".itcui_combo").click(function(s){s.stopPropagation();var r=a(this).next("select");f.popUp(r)});if(m=="tree"){f.setInitText(h)}};f.popUp=function(q){var i=q.next("div");if(i.hasClass("itcui_dropdown_menu")){i.css("display","block")}else{var r=q.data("wrapWidth");var n=q.data("wrapHeight");var j=q.data("opt");var l=q.attr("fix");var k="<div class='itcui_dropdown_menu' style='padding-top:6px;padding-bottom:6px;height:"+n+";width:"+r+"'><div class='itcui_combotree' style='width:100%'></div>";k+="</div>";q.after(k);j.onSelect=function(x){var w=a(this).parents(".itcui_dropdown_menu");var y=w.prev("select");var v=y.data("multiSelect");var z=y.data("_onSelect");if(!v&&!y.data("doNotHide")){w.hide();var t=w.find(".itcui_combotree");var u=t.tree("getSelected");w.prev().prev().find(".itcui_combo_text").html(u.text);q.data("val",u.id)}if(y.data("doNotHide")){y.data("doNotHide",false)}z(x)};j.onCheck=function(v,u){var t=a(this).parents(".itcui_dropdown_menu");var w=t.prev("select");var x=w.data("_onCheck");w.prev(".itcui_combo").find(".itcui_combo_text").html(f.getSelectedText(w));x(v,u)};var s=q.next(".itcui_dropdown_menu").find(".itcui_combotree").tree(j);f.bindEvent(q);var p=q.data("initSelected");if(p){q.data("doNotHide",true);var m=s.tree("find",p);s.tree("select",m.target)}}};f.bindEvent=function(j){var i=j.next(".itcui_dropdown_menu").find(".itcui_combotree");var k=j.data("multiSelect");a("body").click(function(m){var l=a("div .itcui_dropdown_menu");l.hide()})};f.visitNode=function(l,j,m,n){if(!l){return}for(var k=0;k<l.length;k++){node=l[k];if(node[n]){j.push(node[m])}f.visitNode(node.children,j,m,n)}};f.setInitText=function(k){var l=k.data("multiSelect");var j=k.data("opt");if(!j.data){return}var i=[];if(l){f.visitNode(j.data,i,"text","checked")}else{var m=[];f.visitNode(j.data,i,"text","selected");f.visitNode(j.data,m,"id","selected");if(i.length>0){k.data("initSelected",m[0])}}k.prev(".itcui_combo").find(".itcui_combo_text").html(i.join(" "))};f.getSelectedText=function(m){var p=m.data("multiSelect");var j=m.next(".itcui_dropdown_menu").find(".itcui_combotree");if(p){var k=j.tree("getChecked");var q=[];for(var l=0;l<k.length;l++){var n=k[l];q.push(n.text)}return q.join(" ")}else{var n=j.tree("getSelected");if(n){return n.text}}};f.setText=function(i){h.prev(".itcui_combo").find(".itcui_combo_text").html(i)};f.setVal=function(i){h.data("val",i)};if(g=="create"){f.initComboBox()}else{if(g=="getValue"){return h.data("val")||h.data("initSelected")||h.attr("defval")}else{if(g=="setValue"){f.setVal(d)}else{return h.next(".itcui_dropdown_menu").children(".itcui_combotree").tree(g,d)}}}}})})(jQuery);(function(f){var j=false;function i(v){var s=f.data(v,"layout");var r=s.options;var p=s.panels;var l=f(v);if(v.tagName=="BODY"){l._fit()}else{r.fit?l.css(l._fit()):l._fit(false)}var n={top:0,left:0,width:l.width(),height:l.height()};m(g(p.expandNorth)?p.expandNorth:p.north,"n");m(g(p.expandSouth)?p.expandSouth:p.south,"s");u(g(p.expandEast)?p.expandEast:p.east,"e");u(g(p.expandWest)?p.expandWest:p.west,"w");p.center.panel("resize",n);function t(w){var x=w.panel("options");return Math.min(Math.max(x.height,x.minHeight),x.maxHeight)}function q(x){var w=x.panel("options");return Math.min(Math.max(w.width,w.minWidth),w.maxWidth)}function m(w,z){if(!w.length){return}var y=w.panel("options");var x=t(w);w.panel("resize",{width:l.width(),height:x,left:0,top:(z=="n"?0:l.height()-x)});n.height-=x;if(z=="n"){n.top+=x;if(!y.split&&y.border){n.top--}}if(!y.split&&y.border){n.height++}}function u(w,z){if(!w.length){return}var y=w.panel("options");var x=q(w);w.panel("resize",{width:x,height:n.height,left:(z=="e"?l.width()-x:0),top:n.top});n.width-=x;if(z=="w"){n.left+=x;if(!y.split&&y.border){n.left--}}if(!y.split&&y.border){n.width++}}}function d(m){var n=f(m);n.addClass("layout");function l(p){p.children("div").each(function(){var q=f.fn.layout.parsePanelOptions(this);if("north,south,east,west,center".indexOf(q.region)>=0){e(m,q,this)}})}n.children("form").length?l(n.children("form")):l(n);n.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>');n.bind("_resize",function(r,p){var q=f.data(m,"layout").options;if(q.fit==true||p){i(m)}return false})}function e(u,t,m){t.region=t.region||"center";var q=f.data(u,"layout").panels;var r=f(u);var s=t.region;if(q[s].length){return}var n=f(m);if(!n.length){n=f("<div></div>").appendTo(r)}var p=f.extend({},f.fn.layout.paneldefaults,{width:(n.length?parseInt(n[0].style.width)||n.outerWidth():"auto"),height:(n.length?parseInt(n[0].style.height)||n.outerHeight():"auto"),doSize:false,collapsible:true,cls:("layout-panel layout-panel-"+s),bodyCls:"layout-body",onOpen:function(){var x=f(this).panel("header").children("div.panel-tool");x.children("a.panel-tool-collapse").hide();var w={north:"up",south:"down",east:"right",west:"left"};if(!w[s]){return}var z="layout-button-"+w[s];var y=x.children("a."+z);if(!y.length){y=f('<a href="javascript:void(0)"></a>').addClass(z).appendTo(x);y.bind("click",{dir:s},function(A){k(u,A.data.dir);return false})}f(this).panel("options").collapsible?y.show():y.hide()}},t);n.panel(p);q[s]=n;if(n.panel("options").split){var l=n.panel("panel");l.addClass("layout-split-"+s);var v="";if(s=="north"){v="s"}if(s=="south"){v="n"}if(s=="east"){v="w"}if(s=="west"){v="e"}l.resizable(f.extend({},{handles:v,onStartResize:function(B){j=true;if(s=="north"||s=="south"){var z=f(">div.layout-split-proxy-v",u)}else{var z=f(">div.layout-split-proxy-h",u)}var A=0,y=0,x=0,w=0;var C={display:"block"};if(s=="north"){C.top=parseInt(l.css("top"))+l.outerHeight()-z.height();C.left=parseInt(l.css("left"));C.width=l.outerWidth();C.height=z.height()}else{if(s=="south"){C.top=parseInt(l.css("top"));C.left=parseInt(l.css("left"));C.width=l.outerWidth();C.height=z.height()}else{if(s=="east"){C.top=parseInt(l.css("top"))||0;C.left=parseInt(l.css("left"))||0;C.width=z.width();C.height=l.outerHeight()}else{if(s=="west"){C.top=parseInt(l.css("top"))||0;C.left=l.outerWidth()-z.width();C.width=z.width();C.height=l.outerHeight()}}}}z.css(C);f('<div class="layout-mask"></div>').css({left:0,top:0,width:r.width(),height:r.height()}).appendTo(r)},onResize:function(x){if(s=="north"||s=="south"){var w=f(">div.layout-split-proxy-v",u);w.css("top",x.pageY-f(u).offset().top-w.height()/2)}else{var w=f(">div.layout-split-proxy-h",u);w.css("left",x.pageX-f(u).offset().left-w.width()/2)}return false},onStopResize:function(w){r.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide();n.panel("resize",w.data);i(u);j=false;r.find(">div.layout-mask").remove()}},t))}}function a(p,n){var m=f.data(p,"layout").panels;if(m[n].length){m[n].panel("destroy");m[n]=f();var l="expand"+n.substring(0,1).toUpperCase()+n.substring(1);if(m[l]){m[l].panel("destroy");m[l]=undefined}}}function k(w,v,u){if(u==undefined){u="normal"}var t=f.data(w,"layout").panels;var l=t[v];var s=l.panel("options");if(s.onBeforeCollapse.call(l)==false){return}var r="expand"+v.substring(0,1).toUpperCase()+v.substring(1);if(!t[r]){t[r]=q(v);t[r].panel("panel").bind("click",function(){var p=n();l.panel("expand",false).panel("open").panel("resize",p.collapse);l.panel("panel").animate(p.expand,function(){f(this).unbind(".layout").bind("mouseleave.layout",{region:v},function(x){if(j==true){return}k(w,x.data.region)})});return false})}var m=n();if(!g(t[r])){t.center.panel("resize",m.resizeC)}l.panel("panel").animate(m.collapse,u,function(){l.panel("collapse",false).panel("close");t[r].panel("open").panel("resize",m.expandP);f(this).unbind(".layout")});function q(x){var z;if(x=="east"){z="layout-button-left"}else{if(x=="west"){z="layout-button-right"}else{if(x=="north"){z="layout-button-down"}else{if(x=="south"){z="layout-button-up"}}}}var y=f("<div></div>").appendTo(w);y.panel(f.extend({},f.fn.layout.paneldefaults,{cls:("layout-expand layout-expand-"+x),title:"&nbsp;",closed:true,doSize:false,tools:[{iconCls:z,handler:function(){h(w,v);return false}}]}));y.panel("panel").hover(function(){f(this).addClass("layout-expand-over")},function(){f(this).removeClass("layout-expand-over")});return y}function n(){var z=f(w);var y=t.center.panel("options");if(v=="east"){var x=y.width+s.width-28;if(s.split||!s.border){x++}return{resizeC:{width:x},expand:{left:z.width()-s.width},expandP:{top:y.top,left:z.width()-28,width:28,height:y.height},collapse:{left:z.width(),top:y.top,height:y.height}}}else{if(v=="west"){var x=y.width+s.width-28;if(s.split||!s.border){x++}return{resizeC:{width:x,left:28-1},expand:{left:0},expandP:{left:0,top:y.top,width:28,height:y.height},collapse:{left:-s.width,top:y.top,height:y.height}}}else{if(v=="north"){var p=y.height;if(!g(t.expandNorth)){p+=s.height-28+((s.split||!s.border)?1:0)}t.east.add(t.west).add(t.expandEast).add(t.expandWest).panel("resize",{top:28-1,height:p});return{resizeC:{top:28-1,height:p},expand:{top:0},expandP:{top:0,left:0,width:z.width(),height:28},collapse:{top:-s.height,width:z.width()}}}else{if(v=="south"){var p=y.height;if(!g(t.expandSouth)){p+=s.height-28+((s.split||!s.border)?1:0)}t.east.add(t.west).add(t.expandEast).add(t.expandWest).panel("resize",{height:p});return{resizeC:{height:p},expand:{top:z.height()-s.height},expandP:{top:z.height()-28,left:0,width:z.width(),height:28},collapse:{top:z.height(),width:z.width()}}}}}}}}function h(t,s){var q=f.data(t,"layout").panels;var u=q[s];var r=u.panel("options");if(r.onBeforeExpand.call(u)==false){return}var n=m();var l="expand"+s.substring(0,1).toUpperCase()+s.substring(1);if(q[l]){q[l].panel("close");u.panel("panel").stop(true,true);u.panel("expand",false).panel("open").panel("resize",n.collapse);u.panel("panel").animate(n.expand,function(){i(t)})}function m(){var v=f(t);var p=q.center.panel("options");if(s=="east"&&q.expandEast){return{collapse:{left:v.width(),top:p.top,height:p.height},expand:{left:v.width()-q.east.panel("options").width}}}else{if(s=="west"&&q.expandWest){return{collapse:{left:-q.west.panel("options").width,top:p.top,height:p.height},expand:{left:0}}}else{if(s=="north"&&q.expandNorth){return{collapse:{top:-q.north.panel("options").height,width:v.width()},expand:{top:0}}}else{if(s=="south"&&q.expandSouth){return{collapse:{top:v.height(),width:v.width()},expand:{top:v.height()-q.south.panel("options").height}}}}}}}}function g(l){if(!l){return false}if(l.length){return l.panel("panel").is(":visible")}else{return false}}function b(m){var l=f.data(m,"layout").panels;if(l.east.length&&l.east.panel("options").collapsed){k(m,"east",0)}if(l.west.length&&l.west.panel("options").collapsed){k(m,"west",0)}if(l.north.length&&l.north.panel("options").collapsed){k(m,"north",0)}if(l.south.length&&l.south.panel("options").collapsed){k(m,"south",0)}}f.fn.layout=function(m,l){if(typeof m=="string"){return f.fn.layout.methods[m](this,l)}m=m||{};return this.each(function(){var n=f.data(this,"layout");if(n){f.extend(n.options,m)}else{var p=f.extend({},f.fn.layout.defaults,f.fn.layout.parseOptions(this),m);f.data(this,"layout",{options:p,panels:{center:f(),north:f(),south:f(),east:f(),west:f()}});d(this)}i(this);b(this)})};f.fn.layout.methods={resize:function(l){return l.each(function(){i(this)})},panel:function(m,l){return f.data(m[0],"layout").panels[l]},collapse:function(m,l){return m.each(function(){k(this,l)})},expand:function(m,l){return m.each(function(){h(this,l)})},add:function(m,l){return m.each(function(){e(this,l);i(this);if(f(this).layout("panel",l.region).panel("options").collapsed){k(this,l.region,0)}})},remove:function(m,l){return m.each(function(){a(this,l);i(this)})}};f.fn.layout.parseOptions=function(l){return f.extend({},f.parser.parseOptions(l,[{fit:"boolean"}]))};f.fn.layout.defaults={fit:false};f.fn.layout.parsePanelOptions=function(m){var l=f(m);return f.extend({},f.fn.panel.parseOptions(m),f.parser.parseOptions(m,["region",{split:"boolean",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))};f.fn.layout.paneldefaults=f.extend({},f.fn.panel.defaults,{region:null,split:false,minWidth:10,minHeight:10,maxWidth:10000,maxHeight:10000})})(jQuery);_itc_togglecheck=function(e,a){for(var d=0;d<e.length;d++){var b=$(e[d]).parent().next(".checkbox-fix").children(".icheckbox_flat-blue");if(a){b.addClass("checked")}else{b.removeClass("checked")}}};$(document).ready(function(){$(window).resize(function(){$(".eu-datagrid").each(function(){$(this).datagrid("resize")})})});(function(a){a.fn.extend({iFixCheckbox:function(){var b=a(this).prev(".datagrid-view2");var d=this;d.fixCheckBox=function(g){var h=g.parent();var f=g[0].checked==true?" checked":"";h.after("<div class='checkbox-fix'><input type='checkbox' "+f+"/></div>");h.hide();var e=h.next("div").children("input");e.iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue"}).on("ifClicked",function(){var i=a(this).parents(".checkbox-fix").prev("div").children("input");i.trigger("click");i.data("notrigger",true)})};b.find(".datagrid-header").find(".datagrid-header-check > input").each(function(){if(a(this).parents("td").children(".checkbox-fix").length>0){return}d.fixCheckBox(a(this))});b.find(".datagrid-body").find(".datagrid-cell-check > input").each(function(){d.fixCheckBox(a(this))})}})})(jQuery);(function(a){a.fn.extend({ITCUI_GridSearch:function(g,e){var d=a(this);var b=d.parents(".panel");var f=this;f.beginSearch=function(){e=e||{};e.remoteSearch=e.remoteSearch||false;e.onParseArgs=e.onParseArgs||function(i){return i};e.noSearchColumns=e.noSearchColumns||{};d.data("searchOpts",e);var j=d.datagrid("options");if(!j){FW.debug("无法找到表格参数，是否$操作符指向错误？");return}var s=b.find(".datagrid-view2").children(".datagrid-header").find(".datagrid-header-row");var r=s.children("td");sHtml="";var q=false;var u=0;for(var p=0;p<r.length;p++){var t=a(r[p]);if(t.children(".datagrid-header-check").length>0){u+=28;continue}if(t.css("display")=="none"){continue}var k=t.width();if(e.noSearchColumns[p]){u+=k;continue}k-=8;if(p==r.length-1){k-=10}var h="margin-left:"+u+"px";u=0;var l="input";var m=j.columns[0][p];if(m){if(m.editor&&m.editor.type=="combobox"){var n=m.editor.type;l="combobox"}}if(l=="input"){sHtml+='<div class="input-group-sm pull-left" style="width:'+k+"px;"+h+'"><input type="text" icon="itcui_btn_mag" field="'+t.attr("field")+'"></div>'}else{if(l=="combobox"){sHtml+='<div class="pull-left" style="width:'+k+"px;"+h+'"><select style="width:100%" field="'+t.attr("field")+'" colindex="'+p+'"></select></div>'}}}a("<div class='bbox itc_gridsearch' style='height:28px;clear:both'></div>").prependTo(b).html(sHtml);b.children(".itc_gridsearch").find("input").each(function(){a(this).keypress(function(i){if(i.which==13){f.doSearch(this)}}).ITCUI_Input()});b.children(".itc_gridsearch").find("select").each(function(){var x=a(this);var v=x.attr("colindex");var w=j.columns[0][v].editor.options;var i=w.data;if(i){if(i[0].length==3){i[0][2]=false}i.unshift([null,"全部",true])}w.onChange=function(y,z){f.doSearch(z)};x.iCombo("init",w)});b.find(".itcui_btn_mag").click(function(){f.doSearch(a(this).prev("input"))})};f.endSearch=function(){d.parents(".panel").children(".itc_gridsearch").remove()};f.doSearch=function(s){var j=a(s).parents(".itc_gridsearch");var r=j.parent(".datagrid").children(".datagrid-wrap").children(".datagrid-view").children("table");var n=r.data("searchOpts");var q=j.find("input");var v={};for(var p=0;p<q.length;p++){var u=a(q[p]);if(u.attr("type")!="hidden"){v[u.attr("field")]=u.val()}}var t=j.find("select");for(var p=0;p<t.length;p++){var l=a(t[p]);v["_"+l.attr("field")]=l.iCombo("getVal")}if(!n.remoteSearch){r.ITCUI_Pagination("search",v)}else{parsedArgs=n.onParseArgs(v);var h=r.datagrid("options").queryParams;for(var m in parsedArgs){h[m]=parsedArgs[m]}if(typeof(_itc_grids)!="undefined"){delete (_itc_grids[r.attr("id")])}r.datagrid("getPager").pagination("select",1)}};if(g=="init"){f.beginSearch()}else{if(g=="end"){f.endSearch()}}}})})(jQuery);(function(a){a.fn.extend({iValidDatagrid:function(){var n=new Date().getTime();var d=0;var x=a(this);if(x.length==0){return}var e=x.parents("form");if(!e.data("validator")){var u=x.datagrid("options").columns[0];var r=x.prev(".datagrid-view2").children(".datagrid-body").find(".datagrid-row");var s={};var C={};var p={};for(var A=0;A<u.length;A++){p[u[A].field]=u[A]}for(var A=0;A<r.length;A++){var w=a(r[A]).find(".valid-field");for(var z=0;z<w.length;z++){var b=a(w[z]);var q=b.attr("name");var g=q.split("_")[0];var B=p[g];C[q]={};if(B.editor&&B.editor.rules){d++;s[q]=B.editor.rules;for(var y in B.editor.rules){var t=B.editor.rules[y];var m=(B.editor.messages?B.editor.messages[y]:null)||defValidMsg[y]||"数据输入错误";C[q][y]=_itc_repvalidmsg(m,B,B.editor.rules)}}}}var l=e.validate({rules:s,messages:C,errorPlacement:u.errorPlacement||ITC_ValidStyle1,success:u.validSuccess||ITC_ValidSucc1,onkeyup:false,ignore:".ignore"});e.data("validator",l);var h=new Date().getTime();FW.debug("[dbg]本次初始化了"+d+"个字段，耗时"+(h-n)+"ms")}return e.valid()}})})(jQuery);$.extend($.fn.datagrid.defaults.editors,{text:{init:function(a,e,f,g){var d=f+"_"+g;var b=$('<div class="input-group-sm bbox" style="position:relative"><input type="text" name="'+d+'" class="form-control validatebox-text valid-field" /></div>').appendTo(a);return b},destroy:function(a){$(a).remove()},getValue:function(a){return $(a).children("input").val()},setValue:function(b,a){$(b).children("input").val(a)},resize:function(b,a){}},checkbox:{init:function(a,d){var b=$('<input type="checkbox">').appendTo(a);b.iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue"});return b},destroy:function(a){$(a).parent().remove()},getValue:function(a){return $(a).parent().hasClass("checked")},setValue:function(b,a){var d=$(b);if(a){d.iCheck("check")}else{d.iCheck("uncheck")}$(b).children("input").val(a)},resize:function(b,a){}},datebox:{init:function(a,d,e,g){var b=e+"_"+g;var f=$('<div class="itc_lazypicker bbox" style="width:100%"></div>').appendTo(a);d=d||{};if(d.dataType){f.data("dataType",d.dataType);if(d.dataType=="date"){d.format=d.format||"yyyy-mm-dd";d.minView=d.minView||2}else{if(d.dataType=="datetime"){d.format=d.format||"yyyy-mm-dd hh:ii"}}}f.ITCUI_LazyLoadPicker({inputName:b},d);return f},destroy:function(a){$(a).remove()},getValue:function(a){var b=$(a).children("input").val();if(a.data("dataType")=="date"){b=FW.date2long(b)}else{if(a.data("dataType")=="datetime"){b=FW.time2long(b)}}return b},setValue:function(b,a){if(b.data("dataType")=="date"){a=FW.long2date(a)}else{if(b.data("dataType")=="datetime"){a=FW.long2time(a)}}$(b).children("input").val(a)},resize:function(b,a){}},combobox:{init:function(a,d,e,g){maxlength=d.maxlength||18;var b=e+"_"+g;var f=$('<select style="width:100%" maxlength='+maxlength+' fixposition=1 name="'+b+'">').appendTo(a);f.ITCUI_ComboBox(null,d);return f},destroy:function(a){$(a).prev(".itcui_combo").remove();$(a).remove()},getValue:function(a){return $(a).val()},setValue:function(b,a){if(b.data("url")){$(b).ITCUI_ComboBox("setValue",a)}else{$(b).ITCUI_ComboBox("select",a)}},resize:function(b,a){}}});(function(a){a.fn.extend({validatebox:function(b){return true}})})(jQuery);!function(d){function g(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var h=new Date();return g(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),0)}var f=function(j,h){var k=this;this.element=d(j);this.language=h.language||this.element.data("date-language")||"en";this.language=this.language in e?this.language:"en";this.isRTL=e[this.language].rtl||false;this.formatType=h.formatType||this.element.data("format-type")||"standard";this.format=b.parseFormat(h.format||this.element.data("date-format")||e[this.language].format||b.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.bootcssVer=this.isInput?(this.element.is(".form-control")?3:2):(this.bootcssVer=this.element.is(".input-group")?3:2);this.component=this.element.is(".date")?(this.bootcssVer==3?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar").parent()):false;this.componentReset=this.element.is(".date")?(this.bootcssVer==3?this.element.find(".input-group-addon .glyphicon-remove").parent():this.element.find(".add-on .icon-remove").parent()):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.linkField=h.linkField||this.element.data("link-field")||false;this.linkFormat=b.parseFormat(h.linkFormat||this.element.data("link-format")||b.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=h.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=h.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=h.showMeridian||this.element.data("show-meridian")||false;this.initialDate=h.initialDate||new Date();this.beforeShowDay=h.beforeShowDay||function(){};this._attachEvents();this.formatViewType="datetime";if("formatViewType" in h){this.formatViewType=h.formatViewType}else{if("formatViewType" in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView" in h){this.minView=h.minView}else{if("minView" in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=b.convertViewMode(this.minView);this.maxView=b.modes.length-1;if("maxView" in h){this.maxView=h.maxView}else{if("maxView" in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=b.convertViewMode(this.maxView);this.wheelViewModeNavigation=false;if("wheelViewModeNavigation" in h){this.wheelViewModeNavigation=h.wheelViewModeNavigation}else{if("wheelViewModeNavigation" in this.element.data()){this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")}}this.wheelViewModeNavigationInverseDirection=false;if("wheelViewModeNavigationInverseDirection" in h){this.wheelViewModeNavigationInverseDirection=h.wheelViewModeNavigationInverseDirection}else{if("wheelViewModeNavigationInverseDirection" in this.element.data()){this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")}}this.wheelViewModeNavigationDelay=100;if("wheelViewModeNavigationDelay" in h){this.wheelViewModeNavigationDelay=h.wheelViewModeNavigationDelay}else{if("wheelViewModeNavigationDelay" in this.element.data()){this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")}}this.startViewMode=2;if("startView" in h){this.startViewMode=h.startView}else{if("startView" in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=b.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect" in h){this.viewSelect=h.viewSelect}else{if("viewSelect" in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=b.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse" in h){this.forceParse=h.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}var i=window._dialogEmmbed?_parent().$("body"):(this.isInline?this.element:"body");this.picker=d((this.bootcssVer==3)?b.templateV3:b.template).appendTo(i).on({click:d.proxy(this.click,this),mousedown:d.proxy(this.mousedown,this)});if(this.wheelViewModeNavigation){if(d.fn.mousewheel){this.picker.on({mousewheel:d.proxy(this.mousewheel,this)})}else{console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")}}if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");if(this.bootcssVer==3){this.picker.find(".prev span, .next span").toggleClass("glyphicon-arrow-left glyphicon-arrow-right")}else{this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}}d(document).on("mousedown",function(l){if(d(l.target).closest(".datetimepicker").length===0){k.hide()}});if(window._dialogEmmbed){_parent().$(".window-mask").on("mousedown",function(l){k.hide()})}this.autoclose=false;if("autoclose" in h){this.autoclose=h.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in h){this.keyboardNavigation=h.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(h.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(h.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=((h.weekStart||this.element.data("date-weekstart")||e[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.daysOfWeekDisabled=[];this.setStartDate(h.startDate||this.element.data("date-startdate"));this.setEndDate(h.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(h.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};f.prototype={constructor:f,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:d.proxy(this.show,this),keyup:d.proxy(this.update,this),keydown:d.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:d.proxy(this.show,this),keyup:d.proxy(this.update,this),keydown:d.proxy(this.keydown,this)}],[this.component,{click:d.proxy(this.show,this)}]];if(this.componentReset){this._events.push([this.componentReset,{click:d.proxy(this.reset,this)}])}}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:d.proxy(this.show,this)}]]}}}for(var h=0,j,k;h<this._events.length;h++){j=this._events[h][0];k=this._events[h][1];j.on(k)}},_detachEvents:function(){for(var h=0,j,k;h<this._events.length;h++){j=this._events[h][0];k=this._events[h][1];j.off(k)}this._events=[]},show:function(h){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();if(this.forceParse){this.update()}this.place();d(window).on("resize",d.proxy(this.place,this));if(h){h.stopPropagation();h.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(h){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();d(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){d(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.picker;delete this.element.data().datetimepicker},getDate:function(){var h=this.getUTCDate();return new Date(h.getTime()+(h.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(h){this.setUTCDate(new Date(h.getTime()-(h.getTimezoneOffset()*60000)))},setUTCDate:function(h){if(h>=this.startDate&&h<=this.endDate){this.date=h;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:h,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(i){this.format=b.parseFormat(i,this.formatType);var h;if(this.isInput){h=this.element}else{if(this.component){h=this.element.find("input")}}if(h&&h.val()){this.setValue()}},setValue:function(){var h=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(h)}this.element.data("date",h)}else{this.element.val(h)}if(this.linkField){d("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(h){if(h==undefined){h=this.format}return b.formatDate(this.date,h,this.language,this.formatType)},setStartDate:function(h){this.startDate=h||-Infinity;if(this.startDate!==-Infinity){this.startDate=b.parseDate(this.startDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setEndDate:function(h){this.endDate=h||Infinity;if(this.endDate!==Infinity){this.endDate=b.parseDate(this.endDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(h){this.daysOfWeekDisabled=h||[];if(!d.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=d.map(this.daysOfWeekDisabled,function(i){return parseInt(i,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var i=0;d("div").each(function(){var n=parseInt(d(this).css("zIndex"),10);if(n>i){i=n}});var m=window._dialogEmmbed?(_itc_getmaskindex()+10):(i+10);var l,k,j;if(this.component){l=this.component.offset();j=l.left;if(this.pickerPosition=="bottom-left"||this.pickerPosition=="top-left"){j+=this.component.outerWidth()-this.picker.outerWidth()}}else{l=this.element.offset();j=l.left}if(this.pickerPosition=="top-left"||this.pickerPosition=="top-right"){k=l.top-this.picker.outerHeight()}else{k=l.top+this.height}if(window._dialogEmmbed){var h=_itc_getdlgoffset();k+=h.top+26;j+=h.left}this.picker.css({top:k,left:j,zIndex:m})},update:function(){var h,i=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){h=arguments[0];i=true}else{h=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate;if(typeof h=="string"||h instanceof String){h=h.replace(/^\s+|\s+$/g,"")}}if(!h){h=new Date();i=false}this.date=b.parseDate(h,this.format,this.language,this.formatType);if(i){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var h=this.weekStart,i="<tr>";while(h<this.weekStart+7){i+='<th class="dow">'+e[this.language].daysMin[(h++)%7]+"</th>"}i+="</tr>";this.picker.find(".datetimepicker-days thead").append(i)},fillMonths:function(){var j="",h=0;while(h<12){j+='<span class="month">'+e[this.language].monthsShort[h++]+"</span>"}this.picker.find(".datetimepicker-months td").html(j)},fill:function(){if(this.date==null||this.viewDate==null){return}var H=new Date(this.viewDate),s=H.getUTCFullYear(),I=H.getUTCMonth(),k=H.getUTCDate(),C=H.getUTCHours(),x=H.getUTCMinutes(),y=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,D=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,m=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,z=this.endDate!==Infinity?this.endDate.getUTCMonth():Infinity,p=(new g(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),G=new Date();this.picker.find(".datetimepicker-days thead th:eq(1)").text(e[this.language].months[I]+" "+s);if(this.formatViewType=="time"){var E=C%12?C%12:12;var j=(E<10?"0":"")+E;var n=(x<10?"0":"")+x;var K=e[this.language].meridiem[C<12?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(j+":"+n+" "+K.toUpperCase());this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(j+":"+n+" "+K.toUpperCase())}else{this.picker.find(".datetimepicker-hours thead th:eq(1)").text(k+" "+e[this.language].months[I]+" "+s);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(k+" "+e[this.language].months[I]+" "+s)}this.picker.find("tfoot th.today").text(e[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var L=g(s,I-1,28,0,0,0,0),B=b.getDaysInMonth(L.getUTCFullYear(),L.getUTCMonth());L.setUTCDate(B);L.setUTCDate(B-(L.getUTCDay()-this.weekStart+7)%7);var h=new Date(L);h.setUTCDate(h.getUTCDate()+42);h=h.valueOf();var q=[];var u;while(L.valueOf()<h){if(L.getUTCDay()==this.weekStart){q.push("<tr>")}u="";if(L.getUTCFullYear()<s||(L.getUTCFullYear()==s&&L.getUTCMonth()<I)){u+=" old"}else{if(L.getUTCFullYear()>s||(L.getUTCFullYear()==s&&L.getUTCMonth()>I)){u+=" new"}}if(this.todayHighlight&&L.getUTCFullYear()==G.getFullYear()&&L.getUTCMonth()==G.getMonth()&&L.getUTCDate()==G.getDate()){u+=" today"}if(L.valueOf()==p){u+=" active"}if((L.valueOf()+86400000)<=this.startDate||L.valueOf()>this.endDate||d.inArray(L.getUTCDay(),this.daysOfWeekDisabled)!==-1){u+=" disabled"}if(this.beforeShowDay!==d.noop){var t=this.beforeShowDay(L);if(t===undefined){t={}}else{if(typeof(t)==="boolean"){t={enabled:t}}else{if(typeof(t)==="string"){t={classes:t}}}}if(t.enabled===false){u+="disabled"}if(t.classes){u+=" "+t.classes}if(t.tooltip){tooltip=t.tooltip}}q.push('<td class="day'+u+'">'+L.getUTCDate()+"</td>");if(L.getUTCDay()==this.weekEnd){q.push("</tr>")}L.setUTCDate(L.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(q.join(""));q=[];var v="",F="",r="";for(var A=0;A<24;A++){var w=g(s,I,k,A);u="";if((w.valueOf()+3600000)<=this.startDate||w.valueOf()>this.endDate){u+=" disabled"}else{if(C==A){u+=" active"}}if(this.showMeridian&&e[this.language].meridiem.length==2){F=(A<12?e[this.language].meridiem[0]:e[this.language].meridiem[1]);if(F!=r){if(r!=""){q.push("</fieldset>")}q.push('<fieldset class="hour"><legend>'+F.toUpperCase()+"</legend>")}r=F;v=(A%12?A%12:12);q.push('<span class="hour'+u+" hour_"+(A<12?"am":"pm")+'">'+v+"</span>");if(A==23){q.push("</fieldset>")}}else{v=A+":00";q.push('<span class="hour'+u+'">'+v+"</span>")}}this.picker.find(".datetimepicker-hours td").html(q.join(""));q=[];v="",F="",r="";for(var A=0;A<60;A+=this.minuteStep){var w=g(s,I,k,C,A,0);u="";if(w.valueOf()<this.startDate||w.valueOf()>this.endDate){u+=" disabled"}else{if(Math.floor(x/this.minuteStep)==Math.floor(A/this.minuteStep)){u+=" active"}}if(this.showMeridian&&e[this.language].meridiem.length==2){F=(C<12?e[this.language].meridiem[0]:e[this.language].meridiem[1]);if(F!=r){if(r!=""){q.push("</fieldset>")}q.push('<fieldset class="minute"><legend>'+F.toUpperCase()+"</legend>")}r=F;v=(C%12?C%12:12);q.push('<span class="minute'+u+'">'+v+":"+(A<10?"0"+A:A)+"</span>");if(A==59){q.push("</fieldset>")}}else{v=A+":00";q.push('<span class="minute'+u+'">'+C+":"+(A<10?"0"+A:A)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(q.join(""));var M=this.date.getUTCFullYear();var l=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");if(M==s){l.eq(this.date.getUTCMonth()).addClass("active")}if(s<y||s>m){l.addClass("disabled")}if(s==y){l.slice(0,D).addClass("disabled")}if(s==m){l.slice(z+1).addClass("disabled")}q="";s=parseInt(s/10,10)*10;var J=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var A=-1;A<11;A++){q+='<span class="year'+(A==-1||A==10?" old":"")+(M==s?" active":"")+(s<y||s>m?" disabled":"")+'">'+s+"</span>";s+=1}J.html(q);this.place();this.element.trigger({type:"dateFill",date:H})},updateNavArrows:function(){var l=new Date(this.viewDate),j=l.getUTCFullYear(),k=l.getUTCMonth(),i=l.getUTCDate(),h=l.getUTCHours();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()&&i<=this.startDate.getUTCDate()&&h<=this.startDate.getUTCHours()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()&&i>=this.endDate.getUTCDate()&&h>=this.endDate.getUTCHours()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()&&i<=this.startDate.getUTCDate()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()&&i>=this.endDate.getUTCDate()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 2:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},mousewheel:function(i){i.preventDefault();i.stopPropagation();if(this.wheelPause){return}this.wheelPause=true;var h=i.originalEvent;var k=h.wheelDelta;var j=k>0?1:(k===0)?0:-1;if(this.wheelViewModeNavigationInverseDirection){j=-j}this.showMode(j);setTimeout(d.proxy(function(){this.wheelPause=false},this),this.wheelViewModeNavigationDelay)},click:function(l){l.stopPropagation();l.preventDefault();var m=d(l.target).closest("span, td, th, legend");if(m.length==1){if(m.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(m[0].nodeName.toLowerCase()){case"th":switch(m[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var h=b.modes[this.viewMode].navStep*(m[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,h);break;case 1:this.viewDate=this.moveDate(this.viewDate,h);break;case 2:this.viewDate=this.moveMonth(this.viewDate,h);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,h);break}this.fill();break;case"today":var i=new Date();i=g(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),0);if(i<this.startDate){i=this.startDate}else{if(i>this.endDate){i=this.endDate}}this.viewMode=this.startViewMode;this.showMode(0);this._setDate(i);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!m.is(".disabled")){var p=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),q=this.viewDate.getUTCDate(),r=this.viewDate.getUTCHours(),j=this.viewDate.getUTCMinutes(),s=this.viewDate.getUTCSeconds();if(m.is(".month")){this.viewDate.setUTCDate(1);n=m.parent().find("span").index(m);q=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(n);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.viewSelect>=3){this._setDate(g(p,n,q,r,j,s,0))}}else{if(m.is(".year")){this.viewDate.setUTCDate(1);p=parseInt(m.text(),10)||0;this.viewDate.setUTCFullYear(p);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.viewSelect>=4){this._setDate(g(p,n,q,r,j,s,0))}}else{if(m.is(".hour")){r=parseInt(m.text(),10)||0;if(m.hasClass("hour_am")||m.hasClass("hour_pm")){if(r==12&&m.hasClass("hour_am")){r=0}else{if(r!=12&&m.hasClass("hour_pm")){r+=12}}}this.viewDate.setUTCHours(r);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(g(p,n,q,r,j,s,0))}}else{if(m.is(".minute")){j=parseInt(m.text().substr(m.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(j);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(g(p,n,q,r,j,s,0))}}}}}if(this.viewMode!=0){var k=this.viewMode;this.showMode(-1);this.fill();if(k==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(m.is(".day")&&!m.is(".disabled")){var q=parseInt(m.text(),10)||1;var p=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r=this.viewDate.getUTCHours(),j=this.viewDate.getUTCMinutes(),s=this.viewDate.getUTCSeconds();if(m.is(".old")){if(n===0){n=11;p-=1}else{n-=1}}else{if(m.is(".new")){if(n==11){n=0;p+=1}else{n+=1}}}this.viewDate.setUTCFullYear(p);this.viewDate.setUTCMonth(n,q);this.element.trigger({type:"changeDay",date:this.viewDate});if(this.viewSelect>=2){this._setDate(g(p,n,q,r,j,s,0))}}var k=this.viewMode;this.showMode(-1);this.fill();if(k==this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(h,j){if(!j||j=="date"){this.date=h}if(!j||j=="view"){this.viewDate=h}this.fill();this.setValue();var i;if(this.isInput){i=this.element}else{if(this.component){i=this.element.find("input")}}if(i){i.change();if(this.autoclose&&(!j||j=="date")){}}this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(i,h){if(!h){return i}var j=new Date(i.valueOf());j.setUTCMinutes(j.getUTCMinutes()+(h*this.minuteStep));return j},moveHour:function(i,h){if(!h){return i}var j=new Date(i.valueOf());j.setUTCHours(j.getUTCHours()+h);return j},moveDate:function(i,h){if(!h){return i}var j=new Date(i.valueOf());j.setUTCDate(j.getUTCDate()+h);return j},moveMonth:function(h,j){if(!j){return h}var m=new Date(h.valueOf()),r=m.getUTCDate(),n=m.getUTCMonth(),l=Math.abs(j),q,p;j=j>0?1:-1;if(l==1){p=j==-1?function(){return m.getUTCMonth()==n}:function(){return m.getUTCMonth()!=q};q=n+j;m.setUTCMonth(q);if(q<0||q>11){q=(q+12)%12}}else{for(var k=0;k<l;k++){m=this.moveMonth(m,j)}q=m.getUTCMonth();m.setUTCDate(r);p=function(){return q!=m.getUTCMonth()}}while(p()){m.setUTCDate(--r);m.setUTCMonth(q)}return m},moveYear:function(i,h){return this.moveMonth(i,h*12)},dateWithinRange:function(h){return h>=this.startDate&&h<=this.endDate},keydown:function(l){if(this.picker.is(":not(:visible)")){if(l.keyCode==27){this.show()}return}var n=false,i,p,m,q,h;switch(l.keyCode){case 27:this.hide();l.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}i=l.keyCode==37?-1:1;viewMode=this.viewMode;if(l.ctrlKey){viewMode+=2}else{if(l.shiftKey){viewMode+=1}}if(viewMode==4){q=this.moveYear(this.date,i);h=this.moveYear(this.viewDate,i)}else{if(viewMode==3){q=this.moveMonth(this.date,i);h=this.moveMonth(this.viewDate,i)}else{if(viewMode==2){q=this.moveDate(this.date,i);h=this.moveDate(this.viewDate,i)}else{if(viewMode==1){q=this.moveHour(this.date,i);h=this.moveHour(this.viewDate,i)}else{if(viewMode==0){q=this.moveMinute(this.date,i);h=this.moveMinute(this.viewDate,i)}}}}}if(this.dateWithinRange(q)){this.date=q;this.viewDate=h;this.setValue();this.update();l.preventDefault();n=true}break;case 38:case 40:if(!this.keyboardNavigation){break}i=l.keyCode==38?-1:1;viewMode=this.viewMode;if(l.ctrlKey){viewMode+=2}else{if(l.shiftKey){viewMode+=1}}if(viewMode==4){q=this.moveYear(this.date,i);h=this.moveYear(this.viewDate,i)}else{if(viewMode==3){q=this.moveMonth(this.date,i);h=this.moveMonth(this.viewDate,i)}else{if(viewMode==2){q=this.moveDate(this.date,i*7);h=this.moveDate(this.viewDate,i*7)}else{if(viewMode==1){if(this.showMeridian){q=this.moveHour(this.date,i*6);h=this.moveHour(this.viewDate,i*6)}else{q=this.moveHour(this.date,i*4);h=this.moveHour(this.viewDate,i*4)}}else{if(viewMode==0){q=this.moveMinute(this.date,i*4);h=this.moveMinute(this.viewDate,i*4)}}}}}if(this.dateWithinRange(q)){this.date=q;this.viewDate=h;this.setValue();this.update();l.preventDefault();n=true}break;case 13:if(this.viewMode!=0){var k=this.viewMode;this.showMode(-1);this.fill();if(k==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}l.preventDefault();break;case 9:this.hide();break}if(n){var j;if(this.isInput){j=this.element}else{if(this.component){j=this.element.find("input")}}if(j){j.change()}this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(h){if(h){var i=Math.max(0,Math.min(b.modes.length-1,this.viewMode+h));if(i>=this.minView&&i<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:i});this.viewMode=i}}this.picker.find(">div").hide().filter(".datetimepicker-"+b.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(h){this._setDate(null,"date")}};d.fn.datetimepicker=function(i){var h=Array.apply(null,arguments);h.shift();return this.each(function(){var l=d(this),k=l.data("datetimepicker"),j=typeof i=="object"&&i;if(!k){l.data("datetimepicker",(k=new f(this,d.extend({},d.fn.datetimepicker.defaults,j))))}if(typeof i=="string"&&typeof k[i]=="function"){k[i].apply(k,h)}})};d.fn.datetimepicker.defaults={};d.fn.datetimepicker.Constructor=f;var e=d.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"},ch:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["日","一","二","三","四","五","六","日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],meridiem:["上午","下午"],suffix:["st","nd","rd","th"],today:"今天"}};var b={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(h){return(((h%4===0)&&(h%100!==0))||(h%400===0))},getDaysInMonth:function(h,i){return[31,(b.isLeapYear(h)?29:28),31,30,31,30,31,31,30,31,30,31][i]},getDefaultFormat:function(h,i){if(h=="standard"){if(i=="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(h=="php"){if(i=="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(h){if(h=="standard"){return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(h=="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(k,i){var h=k.replace(this.validParts(i),"\0").split("\0"),j=k.match(this.validParts(i));if(!h||!h.length||!j||j.length==0){throw new Error("Invalid date format.")}return{separators:h,parts:j}},parseDate:function(m,w,q,u){if(m instanceof Date){var y=new Date(m.valueOf()-m.getTimezoneOffset()*60000);y.setMilliseconds(0);return y}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(m)){w=this.parseFormat("yyyy-mm-dd",u)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(m)){w=this.parseFormat("yyyy-mm-dd hh:ii",u)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(m)){w=this.parseFormat("yyyy-mm-dd hh:ii:ss",u)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(m)){var z=/([-+]\d+)([dmwy])/,n=m.match(/([-+]\d+)([dmwy])/g),h,l;m=new Date();for(var p=0;p<n.length;p++){h=z.exec(n[p]);l=parseInt(h[1]);switch(h[2]){case"d":m.setUTCDate(m.getUTCDate()+l);break;case"m":m=f.prototype.moveMonth.call(f.prototype,m,l);break;case"w":m.setUTCDate(m.getUTCDate()+l*7);break;case"y":m=f.prototype.moveYear.call(f.prototype,m,l);break}}return g(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),0)}var n=m&&m.match(this.nonpunctuation)||[],m=new Date(0,0,0,0,0,0,0),t={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],x={hh:function(s,i){return s.setUTCHours(i)},h:function(s,i){return s.setUTCHours(i)},HH:function(s,i){return s.setUTCHours(i==12?0:i)},H:function(s,i){return s.setUTCHours(i==12?0:i)},ii:function(s,i){return s.setUTCMinutes(i)},i:function(s,i){return s.setUTCMinutes(i)},ss:function(s,i){return s.setUTCSeconds(i)},s:function(s,i){return s.setUTCSeconds(i)},yyyy:function(s,i){return s.setUTCFullYear(i)},yy:function(s,i){return s.setUTCFullYear(2000+i)},m:function(s,i){i-=1;while(i<0){i+=12}i%=12;s.setUTCMonth(i);while(s.getUTCMonth()!=i){s.setUTCDate(s.getUTCDate()-1)}return s},d:function(s,i){return s.setUTCDate(i)},p:function(s,i){return s.setUTCHours(i==1?s.getUTCHours()+12:s.getUTCHours())}},k,r,h;x.M=x.MM=x.mm=x.m;x.dd=x.d;x.P=x.p;m=g(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds());if(n.length==w.parts.length){for(var p=0,j=w.parts.length;p<j;p++){k=parseInt(n[p],10);h=w.parts[p];if(isNaN(k)){switch(h){case"MM":r=d(e[q].months).filter(function(){var i=this.slice(0,n[p].length),s=n[p].slice(0,i.length);return i==s});k=d.inArray(r[0],e[q].months)+1;break;case"M":r=d(e[q].monthsShort).filter(function(){var i=this.slice(0,n[p].length),s=n[p].slice(0,i.length);return i==s});k=d.inArray(r[0],e[q].monthsShort)+1;break;case"p":case"P":k=d.inArray(n[p].toLowerCase(),e[q].meridiem);break}}t[h]=k}for(var p=0,A;p<v.length;p++){A=v[p];if(A in t&&!isNaN(t[A])){x[A](m,t[A])}}}return m},formatDate:function(h,n,q,l){if(h==null){return""}var p;if(l=="standard"){p={yy:h.getUTCFullYear().toString().substring(2),yyyy:h.getUTCFullYear(),m:h.getUTCMonth()+1,M:e[q].monthsShort[h.getUTCMonth()],MM:e[q].months[h.getUTCMonth()],d:h.getUTCDate(),D:e[q].daysShort[h.getUTCDay()],DD:e[q].days[h.getUTCDay()],p:(e[q].meridiem.length==2?e[q].meridiem[h.getUTCHours()<12?0:1]:""),h:h.getUTCHours(),i:h.getUTCMinutes(),s:h.getUTCSeconds()};if(e[q].meridiem.length==2){p.H=(p.h%12==0?12:p.h%12)}else{p.H=p.h}p.HH=(p.H<10?"0":"")+p.H;p.P=p.p.toUpperCase();p.hh=(p.h<10?"0":"")+p.h;p.ii=(p.i<10?"0":"")+p.i;p.ss=(p.s<10?"0":"")+p.s;p.dd=(p.d<10?"0":"")+p.d;p.mm=(p.m<10?"0":"")+p.m}else{if(l=="php"){p={y:h.getUTCFullYear().toString().substring(2),Y:h.getUTCFullYear(),F:e[q].months[h.getUTCMonth()],M:e[q].monthsShort[h.getUTCMonth()],n:h.getUTCMonth()+1,t:b.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth()),j:h.getUTCDate(),l:e[q].days[h.getUTCDay()],D:e[q].daysShort[h.getUTCDay()],w:h.getUTCDay(),N:(h.getUTCDay()==0?7:h.getUTCDay()),S:(h.getUTCDate()%10<=e[q].suffix.length?e[q].suffix[h.getUTCDate()%10-1]:""),a:(e[q].meridiem.length==2?e[q].meridiem[h.getUTCHours()<12?0:1]:""),g:(h.getUTCHours()%12==0?12:h.getUTCHours()%12),G:h.getUTCHours(),i:h.getUTCMinutes(),s:h.getUTCSeconds()};p.m=(p.n<10?"0":"")+p.n;p.d=(p.j<10?"0":"")+p.j;p.A=p.a.toString().toUpperCase();p.h=(p.g<10?"0":"")+p.g;p.H=(p.G<10?"0":"")+p.G;p.i=(p.i<10?"0":"")+p.i;p.s=(p.s<10?"0":"")+p.s}else{throw new Error("Invalid format type.")}}var h=[],m=d.extend([],n.separators);for(var k=0,j=n.parts.length;k<j;k++){if(m.length){h.push(m.shift())}h.push(p[n.parts[k]])}if(m.length){h.push(m.shift())}return h.join("")},convertViewMode:function(h){switch(h){case 4:case"decade":h=4;break;case 3:case"year":h=3;break;case 2:case"month":h=2;break;case 1:case"day":h=1;break;case 0:case"hour":h=0;break}return h},headTemplate:'<thead><tr class="lx_th1"><th class="prev">&lt;&lt;</th><th colspan="5" class="switch"></th><th class="next">&gt;&gt;</th></tr></thead>',headTemplateV3:'<thead><tr class="lx_th1"><th class="prev">&lt;&lt; </th><th colspan="5" class="switch"></th><th class="next">&gt;&gt;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};b.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+b.headTemplate+"<tbody></tbody>"+b.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+"</table></div></div>";b.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+b.headTemplateV3+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+b.headTemplateV3+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+b.headTemplateV3+"<tbody></tbody>"+b.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+b.headTemplateV3+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+b.headTemplateV3+b.contTemplate+b.footTemplate+"</table></div></div>";d.fn.datetimepicker.DPGlobal=b;d.fn.datetimepicker.noConflict=function(){d.fn.datetimepicker=old;return this};d(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(i){var h=d(this);if(h.data("datetimepicker")){return}i.preventDefault();h.datetimepicker("show")});d(function(){d('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery);(function(a){a.fn.extend({ITCUI_LazyLoadPicker:function(f,e){var g=a(this);var j=f||{};var h=e||{};h.language="ch";h.autoclose=h.autoclose||true;h.forceParse=true;var l=j.placeholder||"";j.inputId=j.inputId||g.attr("input-id")||("itc_dp"+a(".itcui_btn_calander").length);var d=j.inputName||g.attr("input-name")||null;var b=d?" name='"+d+"'":"";g.addClass("input-group input-group-sm");a("<input"+b+" id='"+j.inputId+"' type='text' icon='itcui_btn_calander' class='valid-field' style='width:10px'></input>").attr("placeholder",l).appendTo(g);var k=a(g.children(":input"));k.ITCUI_Input();var i=k.next("span");g.children("input").data("opts",h);g.children("input").data("inited",false);g.children("input").click(function(){var n=a(this);var m=n.data("inited");var p=n.data("opts");if(!m){n.data("inited",true);n.datetimepicker(p).datetimepicker("show")}});i.click(function(r){var n=a(this);var q=n.prev("input");var m=q.data("inited");if(!m){var p=q.data("opts");q.datetimepicker(p).datetimepicker("show");q.data("inited",true)}else{q.datetimepicker("show")}})}})})(jQuery);var Notice={};Notice.confirm=function(g,d,a,e){var f=_parent();e=e||"info";if(f.$("#confirmDlg").length==0){var b='<div id="confirmDlg" style="padding-left:20px;padding-top:20px"><span class="cfmicon itcui_'+e+'mid" style="float:left"></span><span style="width:340px;float:left;font-size:14px;color:#555555;font-weight:bold;line-height:20px;padding-left:10px;" id="confirmMsg"></span><span style="width:340px;float:left;font-size:14px;color:#555555;margin-top:4px;height:40px;line-height:20px;padding-left:10px;" id="confirmMsg2"></span></div><div id="confirmDlgBtn" style="height:36px;display:none;padding-top:4px" class="bbox"><div class="btn-group btn-group-sm pull-right"><button type="button" class="btn btn-default" id="confirmCancel">取消</button></div><div class="btn-group btn-group-sm pull-right"><button type="button" class="btn btn-success" id="confirmOK" style="margin-right:8px">确定</button></div></div>';f.$("body").append(b)}else{f.$("#confirmDlg").find(".cfmicon").removeClass("itcui_infomid").removeClass("itcui_okmid").removeClass("itcui_errormid").addClass("itcui_"+e+"mid")}if(g.indexOf("|")<0){f.$("#confirmMsg").html(g);f.$("#confirmMsg2").hide()}else{msgSplit=g.split("|");f.$("#confirmMsg").html(msgSplit[0]);f.$("#confirmMsg2").html(msgSplit[1]).show()}f.$("#confirmOK").unbind("click").click(function(){f.$("#confirmDlg").dialog("close");if(d){d(a)}});f.$("#confirmCancel").unbind("click").click(function(){f.$("#confirmDlg").dialog("close")});f.$("#confirmDlg").dialog({closed:false,closable:false,buttons:"#confirmDlgBtn",width:450,title:" ",height:170,modal:true})};Notice.input=function(e,b){var d=_parent();if(d.$("#inputDlg").length==0){var a='<div id="inputDlg" style="padding-left:20px;padding-top:20px"><span style="width:350px;font-size:14px;color:#555555;font-weight:bold;line-height:20px;" id="inputMsg"></span><input style="width:400px" id="inputdlg_val"/></div><div id="inputDlgBtn" style="height:36px;display:none;padding-top:4px" class="bbox"><div class="btn-group btn-group-sm pull-right"><button type="button" class="btn btn-default" id="inputCancel">取消</button></div><div class="btn-group btn-group-sm pull-right"><button type="button" class="btn btn-success" id="inputOK" style="margin-right:8px">确定</button></div></div>';d.$("body").append(a)}d.$("#inputMsg").html(e);d.$("#inputOK").unbind("click").click(function(){d.$("#inputDlg").dialog("close");b(d.$("#inputdlg_val").val())});d.$("#inputCancel").unbind("click").click(function(){d.$("#inputDlg").dialog("close")});d.$("#inputDlg").dialog({closed:false,buttons:"#inputDlgBtn",width:450,title:" ",height:170,modal:true})};Notice.dialog=function(d,n,m){n=n||{};n.closed=false;var f=_parent();var r=n.idSuffix||"";if(!n.noButtons){n.buttons="#itcDlg"+r+"Btn"}else{n.buttons=null}if(f.$("#itcDlg"+r).length==0){var g='<div id="itcDlg'+r+'"><iframe style="width:100%;height:99%;overflow:auto;" frameborder="no" border="0" id="itcDlg'+r+'Content"></iframe></div><div id="itcDlg'+r+'Btn" style="height:36px;display:none;padding-top:4px" class="bbox"><div id="itcDlg'+r+'BtnWrap" style="width:100%;height:100%"></div></div>';f.$("body").append(g)}m=m||[];if(m.length==0){m.push({name:"关闭","float":"right",style:"btn-default",onclick:function(){_parent().$("#itcDlg").dialog("close")}})}f.$("#itcDlg"+r+"BtnWrap").html("");var h="";var k=true;var b=true;var a=false;if(!n.noButtons){for(var l=0;l<m.length;l++){var e=m[l];e["float"]=e["float"]||"right";e.style=e.style||"btn-default";var j="";if(e["float"]=="left"){if(b==true){b=false}else{j="margin-left:8px;"}}else{if(e["float"]=="right"){if(k==true){k=false}else{j="margin-right:8px;"}}else{e["float"]="middle";a=true}}var q="";if(e.width){q=' style="width:'+e.width+'px" '}h+='<div class="btn-group btn-group-sm pull-'+e["float"]+'" id="itcDlg'+r+"Btn_"+l+'" style="'+j+'">';h+='<button type="button" class="btn '+e.style+'" '+q+">"+e.name+"</button>";h+="</div>"}f.$("#itcDlg"+r+"BtnWrap").append(h);if(a){f.$("#itcDlg"+r+"BtnWrap").css("text-align","center")}}for(var l=0;l<m.length;l++){var e=m[l];f.$("#itcDlg"+r+"Btn_"+l).data("func",e.onclick);f.$("#itcDlg"+r+"Btn_"+l).click(function(){if(_parent().$("#"+$(this).attr("id")).data("func")()){var p=$(this).attr("id");var i=p.substring(6,p.length-5);_parent().$("#itcDlg"+i).dialog("close")}})}n.onClose=function(){f.$("#itcDlg"+r+"Content").attr("src","about:blank");f.$("#itc_combo_wrap").remove();f.$(".datetimepicker").remove()};n.onMove=function(){f.$("#itc_combo_wrap").remove();f.$(".datetimepicker").hide()};f.$("#itcDlg"+r).dialog(n);if(d){f.$("#itcDlg"+r+"Content").attr("src",d)}};Notice.screenTopMsg=function(h,b,d){Notice.screenMsgId=Notice.screenMsgId||null;var f=d?_parent():window;f.$("#itcui_screen_top_msg").remove();var e=parseInt(document.documentElement.clientWidth);var g="";if(b=="success"){g="<div class='itcui_tips_success"}else{if(b=="error"){g="<div class='itcui_tips_error"}else{if(b=="loading"){g="<div class='itcui_tips_loading"}else{return}}}g+=" itcui_tips_top' style='width:auto' id='itcui_screen_top_msg'>";g+=h+"</div>";f.$("body").append(g);var a=f.$("#itcui_screen_top_msg");a.css("left",(e-a.outerWidth())/2+"px");a.hide();a.slideDown();if(Notice.screenMsgId){clearTimeout(Notice.screenMsgId)}if(d){Notice.screenMsgId=setTimeout("_parent().$('#itcui_screen_top_msg').slideUp()",5000)}else{Notice.screenMsgId=setTimeout("$('#itcui_screen_top_msg').slideUp()",5000)}};Notice.successTopNotice=function(a){Notice.screenTopMsg(a,"success",true)};Notice.errorTopNotice=function(a){Notice.screenTopMsg(a,"error",true)};Notice.successNotice=function(a){Notice.screenTopMsg(a,"success",false)};Notice.errorNotice=function(a){Notice.screenTopMsg(a,"error",false)};var defValidMsg={minlength:"%f至少需要%l个字符",maxlength:"%f不能超过%l个字符",maxEnLength:"%f不能超过%l个字符",maxChLength:"%f不能超过%l个字符（中文算作2个字符）",email:"请输入合法的邮件地址",alphanumeric:"%f只能由字母和数字组成",regex:"%f格式错误",required:"%f不能为空",greaterThan:"%f不能晚于%f2",equalTo:"两次密码输入必须一致",digits:"%f只能由0-9组成",number:"%f不是合法的数字",remote:"%f已经存在",range:"%f应该介于%l1和%l2之间",rangelength:"%f的长度应该介于%l1和%l2之间",enLength:"%f的长度应该是%l个字符",chLength:"%f的长度应该是%l个字符",greaterEqualThan:"%f必须晚于或者和%f2在同一天"};function _itc_repvalidmsg(e,k,a,b,d){e=e.replace("%f",k.title);var i=a.maxlength||a.minlength||a.enLength||a.chLength||a.maxChLength||a.maxEnLength;if(i){e=e.replace("%l",i)}var g=a.range||a.rangelength;if(g&&isArray(g)){e=e.replace("%l1",g[0]);e=e.replace("%l2",g[1])}var f=a.greaterThan||a.greaterEqualThan;if(b&&f&&(f+"").indexOf("#")==0){var j=("#"+b.fieldPrefix).length;var h=f.substring(j);if(d&&d[h]){e=e.replace("%f2",d[h].title)}else{FW.debug("gt/gte的参数错误，在双输入框验证时，需要传入一个正确的选择器，如#f_endTime")}}else{e=e.replace("%f2",f)}return e}(function(a){a.fn.extend({ITC_Form:function(b,h,n){var j=a(this);var m=this;m.parseOpts=function(){b=b||{};b.xsWidth=b.xsWidth||6;b.mdWidth=b.mdWidth||4;b.labelWidth=b.labelWidth||3;b.labelFixWidth=b.labelFixWidth||"120px";b.container=b.container||false;b.validate=b.validate||false;b.fieldPrefix=b.fieldPrefix||"f_";b.namePrefix=b.namePrefix||"";b.fixLabelWidth=(b.fixLabelWidth==false)?false:true;b.labelColon=(b.labelColon===false)?false:true;b.noPrivAct=b.noPrivAct||"hide";b.hideEmpty=(b.hideEmpty===false)?false:true;b.initAsReadonly=b.initAsReadonly||false;b.defValidMsg=b.defValidMsg||{};for(var p in defValidMsg){b.defValidMsg[p]=b.defValidMsg[p]||defValidMsg[p]}var q={};var f={};for(var r=0;r<h.length;r++){q[h[r].id]=h[r];if(!b.initAsReadonly){f[h[r].id]=true}}j.data("mapping",q);j.data("opts",b);j.data("readOnlyHide",{});j.data("objectInited",f);j.data("formData",{})};m.createLabel=function(p,f,k,i){f+='<div class="element-wrap col-xs-'+k+" col-md-"+i+'">';var q="&nbsp";if(p.value){m.setFormData(p.id,p.value);q=m.formatField(p,p.value)}f+='<span class="field-readyonly pure-label">'+q+"</span>";f+="</div>";return f};m.createObjectFromReadonly=function(k){var f=j.data("objectInited");if(f[k.id]){return}var i=j.find(".itc-field[fieldid='"+k.id+"']");i.find(".element-wrap").parent().html(m.createObject(k,"",12,12));m.renderField(k);var p={};p[k.id]=m.getFormData(k.id);m.loadData(p)};m.markObjectInited=function(i){var f=j.data("objectInited");f[i.id]=true;j.data("objectInited",f)};m.createObject=function(v,s,q,t){m.markObjectInited(v);s+='<div class="element-wrap col-xs-'+q+" col-md-"+t+'">';if(v.type=="text"){s+='<div class="input-group-sm">';var u=v.dataType=="password"?"password":"text";s+='<input type="'+u+'" class="form-control" id="'+v._id+'" name="'+v._name+'" />';s+="</div>"}else{if(v.type=="textarea"){s+='<textarea class="form-control" style="width:100%;height:'+(v.height||80)+'px" id="'+v._id+'" name="'+v._name+'"></textarea>'}else{if(v.type=="checkbox"||v.type=="radio"){if(isArray(v.data)){for(var r=0;r<v.data.length;r++){var p=v.data[r];var f=(p.length==3&&p[2])?"checked":"";s+='<input class="autoform_cb" type="'+v.type+'" id="'+v._id+"_"+p[0]+'" name="'+v._name+'" '+f+' value="'+p[0]+'"/>';s+='<label class="pure-label" style="margin-right:6px">'+p[1]+"</label>"}}}else{if(v.type=="combobox"){s+='<select style="width:100%" id="'+v._id+'" name="'+v._name+'"></select>'}else{if(v.type=="label"){var k=v.breakAll?"pl-breakall":"pl-ellipsis";s+='<span class="pure-label '+k+'" id="'+v._id+'"></span>'}else{if(v.type=="date"||v.type=="datetime"){s+='<div class="itc_dtp_wrap" style="width:100%" input-name="'+v._name+'" input-id="'+v._id+'" dtptype="'+v.type+'"></div>'}else{if(v.type=="userdefine"){if(v.getHtml&&typeof(v.getHtml)=="function"){s+=v.getHtml(v._id)}}else{if(v.type=="fileupload"){s+='<div class="itc_form_upload" style="width:100%" id="'+v._id+'"></div>'}}}}}}}}s+="</div>";return s};m.createFloatField=function(u,t,x,p){var q=u.wrapXsWidth||b.xsWidth;var w=u.wrapMdWidth||b.mdWidth;var s=u.labelXsWidth||b.labelXsWidth||b.labelWidth;var i=u.labelMdWidth||b.labelMdWidth||b.labelWidth;var v=u.inputXsWidth||(12-s);var f=u.inputMdWidth||(12-i);var r=u.hide?' style="display:none"':"";var k="";if(u.rules&&u.rules.required&&u.type!="label"){k="<span class='form-required'>*</span>"}t+='<div class="itc-field col-xs-'+q+" col-md-"+w+'" fieldid="'+u.id+'" seq="'+x+'" '+r+">";t+='<label class="col-xs-'+s+" col-md-"+i+' control-label">'+k+u.title;t+=(b.labelColon?"：":"")+"</label>";if(p&&u.type!="fileupload"){t+=m.createLabel(u,t,v,f)}else{t=m.createObject(u,t,v,f)}t+="</div>";return t};m.creatFixField=function(t,s,v,p){var q=t.wrapXsWidth||b.xsWidth;var u=t.wrapMdWidth||b.mdWidth;var k="";var f="";var r=t.hide?' style="display:none"':"";var i=(p&&!t.value)?" empty-hide":"";if(p){f=" style='display:none'"}if(t.rules&&t.rules.required&&t.type!="label"){k="<span class='form-required'"+f+">*</span>"}s+='<table class="itc-field'+i+" form-fixfield col-xs-"+q+" col-md-"+u+' pull-left" fieldid="'+t.id+'" seq="'+v+'"'+r+"><tr>";s+='<td width="'+(t.labelFixWidth||b.labelFixWidth)+'" class="ctrl-label">';s+=k+t.title+(b.labelColon?"：":"");s+="</td><td>";if(p){s=m.createLabel(t,s,12,12)}else{s=m.createObject(t,s,12,12)}s+="</td></tr></table>";return s};m.createForm=function(){var w="";if(b.container){w+="<div class='container' style='width:100%'>"}w+="<div class='row bbox'>";for(var v=0;v<h.length;v++){var x=h[v];if(privMapping&&x.privilege){if(!privMapping[x.privilege]&&b.noPrivAct=="hide"){continue}}if(!x.id||(!x.title&&x.type!="hidden")||x.nouse){continue}x._name=b.namePrefix+(x.name||x.id);x.id=x.id;x._id=b.fieldPrefix+x.id;x.type=x.type||"text";x.formatter=x.formatter||function(i){return i};if(x.linebreak){w+="</div>";w+="<div class='row bbox'>"}if(x.type!="hidden"){if(!b.fixLabelWidth){w=m.createFloatField(x,w,v,b.initAsReadonly)}else{w=m.creatFixField(x,w,v,b.initAsReadonly)}}else{w+="<input class='ignore' id='"+x._id+"' name='"+x._name+"' type='hidden' />"}}w+="</div>";if(b.container){w+="</div>"}var p=j.data("mapping");if(b.validate){var y={};var u={};for(var v=0;v<h.length;v++){var x=h[v];if(x.rules){if(!x.type||(/(text|textarea|date|datetime|combobox)/.test(x.type))){y[x._name]={};u[x._name]={};for(var t in x.rules){var f=x.rules;y[x._name][t]=f[t];var s=(x.messages&&x.messages[t])?x.messages[t]:null;s=s||b.defValidMsg[t]||"字段填写错误";u[x._name][t]=_itc_repvalidmsg(s,x,f,b,p)}}}}var q=j.validate({rules:y,messages:u,errorPlacement:b.errorPlacement||ITC_ValidStyle1,success:b.validSuccess||ITC_ValidSucc1,onkeyup:false,ignore:".ignore"})}j.html(w).addClass("autoform");for(var v=0;v<h.length;v++){if(!b.initAsReadonly||b.type=="fileupload"){m.renderField(h[v]);if(b.initAsReadonly){m.setFieldReadOnly(x)}}}};m.renderField=function(s){var k=s.options||{};var i=j.find(".itc-field[fieldid='"+s.id+"']");if(s.type=="combobox"){k.data=k.data||s.data;a("#"+s._id).ITCUI_ComboBox(null,k);if(s.dataType=="enum"&&s.enumCat){FW.loadComboEnum(s._id,s.enumCat,s.value)}}else{if(s.type=="fileupload"){a("#"+s._id).iUpload("init",k)}else{if(s.type=="date"||s.type=="datetime"){var p=i.find(".itc_dtp_wrap");var r=p.attr("dtptype");var f=p.parents(".itc-field").attr("seq");var q=s.options||{};q.language="ch";if(r=="date"){q.format="yyyy-mm-dd";q.minView=2}else{q.format="yyyy-mm-dd hh:ii"}p.ITCUI_LazyLoadPicker(null,q)}else{if(s.type=="radio"||s.type=="checkbox"){i.find(".autoform_cb").iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue"})}}}}if(s.render&&typeof(s.render)=="function"){s.render(s._id)}if(s.value){m.setFieldVal(s,s.value)}};m.formatField=function(f,i){if(f.dataType=="date"||(f.type=="date"&&typeof(i)!="string")){i=FW.long2date(i);f.dataType="date"}else{if(f.dataType=="datetime"||(f.type=="datetime"&&typeof(i)!="string")){i=FW.long2time(i);f.dataType="datetime"}}var i=f.formatter?f.formatter(i):i;return i};m.parseSelectData=function(s,q){var r=[];if(isArray(s)){for(var p=0;p<s.length;p++){if(q[s[p][0]]){r.push(s[p][1])}}}else{for(var f in s){if(q[f]){r.push(s[f])}}}return r.join(",")};m.setReadonlyFieldVal=function(u,p){var q=j.find(".itc-field[fieldid='"+u.id+"']");p=m.formatField(u,p);if(p||typeof(p)=="number"){q.removeClass("empty-hide")}else{q.addClass("empty-hide")}if(/(combobox|radio|checkbox)/.test(u.type)){var f={};var v=FW.split(p,",");for(var s=0;s<v.length;s++){f[v[s]]=true}var r=u.data;if(u.dataType=="enum"&&u.enumCat){r=FW.parseEnumData(u.enumCat,_enum)}if(u.options){var k=u.options;r=u.data||k.data;if(k.url){var t=u.options;q.data("onRemoteData",t.onRemoteData||function(i){return i});q.data("comboFilter",f);a.ajax({url:t.url,context:q,dataType:"json",success:function(i){var w=a(this);var x=w.data("onRemoteData");if(x){i=x(i);i=m.parseSelectData(i,w.data("comboFilter"));w.find(".pure-label").html(i)}}})}}p=m.parseSelectData(r,f)}q.find(".pure-label").html(p)};m.setFieldVal=function(t,k){var p=a("#"+t._id);if(t.type=="label"){p.data("val",k)}k=m.formatField(t,k);if(!t.type||t.type=="text"||t.type=="textarea"||t.type=="hidden"){p.val(k)}else{if(t.type=="date"||t.type=="datetime"){p.val(k)}else{if(t.type=="checkbox"||t.type=="radio"){j.find("input[name='"+t._name+"']").iCheck("uncheck");var v=(typeof(k)=="string")?k.split(/,|，/):[k];for(var q=0;q<v.length;q++){a("#"+t._id+"_"+v[q]).iCheck("check")}}else{if(t.type=="combobox"){p.ITCUI_ComboBox("select",k)}else{if(t.type=="label"){p.html(k||" ")}else{if(t.type=="userdefine"){if(t.setValue&&typeof(t.setValue)=="function"){t.setValue(k,t._id)}}else{if(t.type=="fileupload"){p.ITCUI_FileUpload("setInitList",k);if(j.data("readOnlyHide")[t.id]){a("#"+t._id+"_queue").find(".itc_link_del").addClass("readonly-hide")}}}}}}}}if(!(/(hidden|fileupload|label)/.test(t.type))){var u=j.data("readOnlyHide");if(u[t.id]){var r=m.getFieldText(t);var f=r.parent;var s=f.parents(".itc-field");s.find(".field-readyonly").html(r.val);if(k){if(s.hasClass("empty-hide")){s.removeClass("empty-hide")}}}}};m.loadData=function(q){var p=j.data("mapping");var f=j.data("objectInited");for(var i in q){var r=p[i];if(!r){continue}var s=q[i];if(f[i]){m.setFieldVal(r,s)}else{m.setReadonlyFieldVal(r,s)}}};m.getFieldData=function(u){var f=u._name;if(!u.type||u.type=="text"||u.type=="textarea"||u.type=="hidden"){val=a("#"+u._id).val()}else{if(u.type=="date"||u.type=="datetime"){var v;var p=a("#"+u._id).val();if(!u.dataType){val=p}else{if(u.type=="date"){val=FW.date2long(p)}else{if(u.type=="datetime"){val=FW.time2long(p)}}}}else{if(u.type=="checkbox"||u.type=="radio"){var r=u.data||u.options.data;var t=[];for(var k=0;k<r.length;k++){if(a("#"+u._id+"_"+r[k][0]).parent().hasClass("checked")){t.push(r[k][0])}}val=t.join(",")}else{if(u.type=="combobox"){var q=a("#"+u._id);val=q.attr("multiselect")?q.ITCUI_ComboBox("getSelected"):q.val()}else{if(u.type=="userdefine"){if(u.getValue&&typeof(u.getValue)=="function"){val=u.getValue(u._id)}}else{if(u.type=="label"){val=a("#"+u._id).data("val")}else{if(u.type=="fileupload"){val=a("#"+u._id).iUpload("getVal")}}}}}}}return typeof(val)=="undefined"?null:val};m.getData=function(){var r=j.data("mapping");var p=j.data("objectInited");var t=j.data("formData");var i={};for(var q in r){var s=r[q];i[s._name]=p[q]?m.getFieldData(s):(t[q]||null)}return i};m.getFieldText=function(q){var r;if(!q.type||/(textarea|date|datetime)/.test(q.type)){o=a("#"+q._id);r=o.val()}else{if(q.type=="text"){o=a("#"+q._id);r=o.val();o=o.parent()}else{if(q.type=="checkbox"||q.type=="radio"){var k=q.data||q.options.data;var p=[];for(var f=0;f<k.length;f++){o=a("#"+q._id+"_"+k[f][0]).parent();if(o.hasClass("checked")){p.push(k[f][1])}}r=p.join(",")}else{if(q.type=="combobox"){o=a("#"+q._id);r=o.ITCUI_ComboBox("getSelectedText")}else{if(q.type=="label"){o=a("#"+q._id);r=a.trim(o.html())}else{if(q.type=="userdefine"){if(q.getTarget&&typeof(q.getTarget)=="function"){o=q.getTarget(q._id);r=q.getValue(q._id)}}}}}}}return{val:r,parent:o}};m.setFieldReadOnly=function(r){var t;var s;var q=j.data("opts");var u=j.data("readOnlyHide");if(u[r.id]){return}u[r.id]=true;if(!(/(hidden|fileupload)/.test(r.type))){var p=m.getFieldText(r);s=p.parent;t=p.val}if(r.type=="hidden"){return}else{if(r.type=="fileupload"){a("#"+r._id+"_queue").find(".itc_link_del").addClass("readonly-hide");a("#"+r._id+"_real").addClass("readonly-hide");return}}if(r.type!="label"&&r.type!="fileupload"){s=s.parents(".element-wrap");oc=s.children();for(var k=0;k<oc.length;k++){a(oc[k]).addClass("readonly-hide")}var f=r.breakAll?"pl-breakall":"pl-ellipsis";s.append("<span class='field-readyonly pure-label "+f+"'>"+t+"</span>")}if(!t&&q.hideEmpty){if(!q.fixLabelWidth){s.parent().addClass("empty-hide")}else{s.parents(".form-fixfield").addClass("empty-hide")}}s.parents(".itc-field").find(".form-required").hide()};m.setReadOnly=function(){var i=j.data("mapping");for(var f in i){var p=i[f];m.setFieldReadOnly(p)}};m.cancelReadOnly=function(p){var q=j;if(p){q=j.find(".itc-field[fieldid='"+p.id+"']");var r=j.data("readOnlyHide");delete (r[p.id]);j.data("readOnlyHide",r)}else{j.data("readOnlyHide",{})}q.find(".form-required").show();if(p){q.removeClass("empty-hide");m.createObjectFromReadonly(p)}else{var i=j.data("mapping");for(var f in i){m.createObjectFromReadonly(i[f])}q.find(".itc-field").removeClass("empty-hide")}q.find(".field-readyonly").remove();q.find(".readonly-hide").removeClass("readonly-hide")};m.hideOrDisplay=function(i,f){o=j.find(".itc-field[fieldid='"+i+"']");if(f){o.show();o.find("input,textarea").removeClass("ignore")}else{o.hide();o.find("input,textarea").addClass("ignore")}};m.setFormData=function(i,f){var p=j.data("formData");p[i]=f;j.data("formData",p)};m.getFormData=function(f){var i=j.data("formData");return i[f]};var d=j.data("mapping");if(!b||typeof(b)=="object"){if(h==null){return}m.parseOpts();m.createForm()}else{if(b=="getdata"){if(h){var l=d[h];return m.getFieldData(l)}return m.getData()}else{if(b=="loaddata"||b=="setFullVal"){if(b=="setFullVal"){for(var e in d){h[e]=h[e]||null}}m.loadData(h);for(var e in h){m.setFormData(e,h[e])}_itc_addellipsis()}else{if(b=="readonly"){if(!h){m.setReadOnly()}else{if(typeof(h)=="string"){var l=d[h];m.setFieldReadOnly(l)}else{if(isArray(h)){for(var g=0;g<h.length;g++){var l=d[h[g]];m.setFieldReadOnly(l)}}}}_itc_addellipsis()}else{if(b=="beginedit"){if(h){if(typeof(h)=="string"){m.cancelReadOnly(d[h])}else{if(isArray(h)){for(var g=0;g<h.length;g++){var l=d[h[g]];m.cancelReadOnly(l)}}}}else{m.cancelReadOnly()}}else{if(b=="setfieldval"){m.setFieldVal(h,n)}else{if(b=="show"||b=="hide"){if(typeof(h)=="string"){m.hideOrDisplay(h,b=="show")}else{if(isArray(h)){for(var g=0;g<h.length;g++){m.hideOrDisplay(h[g],b=="show")}}}}}}}}}}}})})(jQuery);function ITC_ValidStyle1(d,f){var h=$(f);var a=parseInt(h.css("width"));var b=parseInt(f.offset().left);var g={top:"2px"};if(h.parent().hasClass("itcui_combo")){g.right="20px"}else{g.left=(a-22)+"px"}d.addClass("itcui_icon_warn_mid").css(g).attr("title",$(d).text());d.insertAfter(f)}function ITC_ValidSucc1(a){$(a).remove()}function _itc_addellipsis(){$(".pl-ellipsis").each(function(){var e=$(this);var f=e.parent();var d=e.text();var b=f.width();e.removeClass("pl-ellipsis").addClass("pl-breakall");var a=f.width();e.css("width",a+"px");e.removeClass("pl-breakall").addClass("pl-ellipsis");if(a!=b){e.attr("title",d)}})}$(document).ready(function(){$(window).resize(function(){_itc_addellipsis()})});var ITCUtil=ITCUtil||{};ITCUtil._currMenu=null;ITCUtil.createMenu=function(e,f,d){d=d||{};d.direction=d.direction||"right";d.menuAlign=d.menuAlign||"left";d.offsetFunc=d.offsetFunc||function(g){return $(g).offset()};var b=$(e);var a=ITCUtil._createUlHtml(f,d);if(b.hasClass("dropdown")||b.find(".dropdown-toggle").length>0){b.append(a);ITCUtil._bindCheckEvent(e)}else{if(!d.id){return}b.data("targetmenu",d.id);b.data("offsetfunc",d.offsetFunc);$("body").append(a);ITCUtil._bindCheckEvent("#"+d.id);b.click(function(h){h.stopPropagation();var g="#"+$(this).data("targetmenu");var j=$(g);if(j.css("display")=="none"){j.css("display","block");var i=$(this).data("offsetfunc")(this);j.css({left:i.left,top:i.top+$(this).height()});ITCUtil._currMenu=g}else{j.css("display","none")}});$("body").click(function(){$(ITCUtil._currMenu).hide()})}};ITCUtil.getMenuCheckVal=function(a){return $("#"+a).find(".dropdown-checked").length>0};ITCUtil.getMenuSelectVal=function(b,a){return $(b).find(".dropdown-selected[group='"+a+"']").parents("li").attr("id")};ITCUtil._bindCheckEvent=function(a){$(a).find(".dropdown-selected,.dropdown-unselected").parent("a").click(function(b){var d=$(this);d.parents("ul").find(".dropdown-selected").removeClass("dropdown-selected");d.find(".dropdown-unselected").addClass("dropdown-selected")});$(a).find(".dropdown-checked,.dropdown-unchecked").parent("a").click(function(b){$(this).find(".dropdown-unchecked").toggleClass("dropdown-checked")})};ITCUtil._createUlHtml=function(e,b){if(!isArray(e)){return}var n=b.id?" id='"+b.id+"'":"";var m="<ul class='dropdown-menu' role='menu' "+n+">";var p=false;var g=false;for(var l=0;l<e.length;l++){var f=e[l];if(f.select||f.check){p=true}if(f.iconCls){g=true}}for(var l=0;l<e.length;l++){var f=e[l];var k=f.id?' id="'+f.id+'"':"";if(f.title=="-"){m+='<li class="divider"></li>';continue}var r=b.direction=="left"?"pull-left":"";m+=f.submenu?'<li class="dropdown-submenu '+r+'"'+k:"<li "+k;m+=">";var d="";if(p){if(f.select){var a=f.selected?"dropdown-unselected dropdown-selected":"dropdown-unselected";var j=f.group?' group="'+f.group+'"':"";d='<span class="'+a+'" '+j+"></span>"}else{if(f.check){var a=f.checked?"dropdown-unchecked dropdown-checked":"dropdown-unchecked";d='<span class="'+a+'"></span>'}else{d='<span class="dropdown-holder"></span>'}}}if(g){}var q=f.onclick?'onclick="'+f.onclick+'"':"";m+="<a "+q+">"+d+f.title+"</a>";if(f.submenu){m+=ITCUtil._createUlHtml(f.submenu,b)}m+="</li>"}m+="</ul>";return m};ITCUtil.createBtn=function(d,b){if(!b){return}var a=ITCUtil._cBasebtnHtm(b);if(d){$(d).addClass("btn-group-sm").html(a)}else{return a}};ITCUtil._cBasebtnHtm=function(d){d.style=d.style||"btn-default";var a=d.width?"width:"+d.width+"px;":"";a+=d.height?"height:"+d.height+"px;":"";var h=d.toggle?' data-toggle="button"':"";var g=(d.menu&&!d.split)?"dropdown-toggle":"";var b=(d.menu&&!d.split)?'data-toggle="dropdown"':"";var f=(d.menu&&!d.split)?'<span class="caret" style="margin-left:4px"></span>':"";var e=d.onclick?' onclick="'+d.onclick+'" ':"";return'<button onmouseup="javascript:this.blur();"" '+e+' type="button" class="'+g+" btn "+d.style+'" style="'+a+'" '+h+b+">"+d.title+f+"</button>"};ITCUtil.createBtnToolBar=function(g,f){if(f==null||!isArray(f)){return}var e='<div class="btn-group btn-group-sm">';for(var d=0;d<f.length;d++){if(privMapping&&f.privilege){if(!privMapping[f.privilege]){continue}}var b=f[d];if(b["break"]&&d>0){e+="</div>";e+='<div class="btn-group btn-group-sm">'}if(!b.menu){e+=ITCUtil._cBasebtnHtm(b)}else{if(b.split){e+=ITCUtil.createSpltMnuBtn(null,b)}else{e+='<div class="btn-group btn-group-sm">';e+=ITCUtil.createMnuBtn(null,b);e+="</div>"}}}e+="</div>";var a=$(g);a.addClass("btn-toolbar").html(e);a.children().each(function(){var h=$(this);if(h.children().length==1){h.children().first().removeClass("btn-group")}});a.find(".dropdown-menu").each(function(){ITCUtil._bindCheckEvent($(this))})};ITCUtil.createSpltMnuBtn=function(f,d){d.split=true;var e=d.menu.length==1?{}:d.menu[1];var b=ITCUtil._cBasebtnHtm(d);b+='<div class="btn-group btn-group-sm">';b+='<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="height:28px;padding-left:6px;padding-right:6px"><span class="caret"></span></button>';b+=ITCUtil._createUlHtml(d.menu[0],e);b+="</div>";if(f){var a=$(f);if(a.css("position")){a.css({position:"relative"})}a.addClass("btn-group-sm btn-group").html(b);ITCUtil._bindCheckEvent(a)}else{return b}};ITCUtil.createMnuBtn=function(f,d){var e=d.menu.length==1?{}:d.menu[1];var b=ITCUtil._cBasebtnHtm(d)+ITCUtil._createUlHtml(d.menu[0],e);if(f){var a=$(f);if(a.css("position")){a.css({position:"relative"})}a.addClass("btn-group-sm").html(b);ITCUtil._bindCheckEvent(a)}else{return b}};var FW={};var _itc_grids={};var _itc_resize_grids={};var _enum_map={};if(_parent()._ITC){FW.addTab=function(b,a){_parent()._ITC.addTab(b,a)};FW.initFrame=_parent()._ITC.init;FW.switchDefaultTab=_parent()._ITC.switchDefaultTab;FW.adjustFrame=_parent()._ITC.adjustFrame;FW.navigate=function(a){_parent()._ITC.container.navigate(a)};FW.deleteTab=function(a){_parent()._ITC.deleteTab(a)};FW.activeTabById=function(a){_parent()._ITC.navTab.activeById(a)};FW.deleteTabById=function(a){_parent()._ITC.navTab.removeById(a)};FW.activeTreeItem=function(a){_parent()._ITC.navTree.ITCUI_NavTree("switchto",a)};FW.getCurrentTabId=function(){return _parent()._ITC.navTab.getCurrentTab()};FW.addTabWithTree=function(a){_parent()._ITC.addTabWithTree(a)};FW.getCurrentNavTreeId=function(){return _parent()._ITC.navTree.ITCUI_NavTree("getactive")};FW.setTreeStat=function(a){_parent()._ITC.toggleNavTree(a)};FW.addSideFrame=function(a){_parent()._ITC.addSideFrame(a)}}FW.registerEvent=function(b,a){return _event_handler.registerEvent(b,a)};FW.unregisterEvent=function(a){_event_handler.unregisterEvent(a)};FW.get=function(a){return _event_handler.get(a)};FW.set=function(b,a){_event_handler.set(b,a)};FW.triggerEvent=function(b,a){return _event_handler.triggerEvent(b,a)};FW.confirm=function(b,a){Notice.confirm(b,a)};FW.input=function(b,a){Notice.input(b,a)};FW.dialog=function(e,b){if(!b&&typeof(b)!="object"){return}if(!b.src){FW.debug("dialog方法以iframe方式显示页面，必须指定opts.src属性")}b.dlgOpts=b.dlgOpts||{};b.btnOpts=b.btnOpts||[{name:"取消","float":"right",style:"btn-default",onclick:function(){return true}},{name:"确定","float":"right",style:"btn-success",onclick:function(){var f=_parent().window.document.getElementById("itcDlgContent").contentWindow;if(f.onOkBtnClick){if(f.onOkBtnClick()){return true}}}}];dlgOpts=b.dlgOpts;dlgOpts.title=dlgOpts.title||"无标题对话框";dlgOpts.width=dlgOpts.width||650;dlgOpts.height=dlgOpts.height||450;if((dlgOpts.width+"").indexOf("%")>0){var d=_parent().$("body").width();dlgOpts.width=dlgOpts.width.replace("%","")*d/100}if((dlgOpts.height+"").indexOf("%")>0){var a=_parent().$("body").height();dlgOpts.height=dlgOpts.height.replace("%","")*a/100}dlgOpts.closed=false;dlgOpts.modal=(dlgOpts.modal==false)?false:true;Notice.dialog(b.src,b.dlgOpts,b.btnOpts)};FW.success=_parent().Notice.successTopNotice;FW.error=_parent().Notice.errorTopNotice;FW.len=ITC_Len;FW.substr=ITC_Substr;FW.debug=function(b){try{if(window.console&&window.console.log){console.log(b)}}catch(a){}};FW.loadCss=function(b){var a=$("head").find("link");for(var d=0;d<a.length;d++){var e=$(a[d]);if(e.attr("itc_tbl")){e.remove()}}$("<link />").attr("rel","stylesheet").attr("href",b).attr("itc_tbl",true).appendTo("head")};FW.date2long=function(a){if(!a){return null}s1=a.split("-");return new Date(s1[0],s1[1]-1,s1[2]).getTime()};FW.time2long=function(f){if(!f){return null}var e=f.split(" ");var b=e[0].split("-");var a=e[1].split(":");return new Date(b[0],b[1]-1,b[2],a[0],a[1]).getTime()};FW.long2time=function(a){if(a===null||typeof(a)=="undefined"){return""}return new Date(a).format("yyyy-MM-dd hh:mm")};FW.long2date=function(a){if(a===null||typeof(a)=="undefined"){return""}return new Date(a).format("yyyy-MM-dd")};FW.loadComboEnum=function(a,f,e){if(!window.TimssService){FW.debug("无法找到TimssService，FW.loadComboEnum是一个专用于TIMSS2的适配方法。");return}var b="ENUM_"+f;var d=FW.get(b);if(!d&&window._enum){d=_enum}if(d){FW._parseEnumData(a,f,d,e)}else{TimssService.getEnumParams([f],function(g){_parent().FW.set(b,g,true);FW._parseEnumData(a,f,g,e)})}};FW.parseEnumData=function(j,f,h){var g=f[j];var a=[];for(var b=0;b<g.length;b++){var e=g[b];if(h==e.code){a.push([e.code,e.label,true])}else{a.push([e.code,e.label])}}return a};FW._parseEnumData=function(a,f,d,e){if(d&&d[f]){var b=FW.parseEnumData(f,d,e);$("#"+a).iCombo("loadData",b)}else{FW.debug("枚举数据获取失败，请检查枚举类型code是否填写正确，以及TimssService是否有在干活")}};FW.getFrame=function(b){var a=_parent().$(".ITCUI_Iframe_"+b);if(a.length>0){return a[0].contentWindow}};FW.split=function(b,a){if(b==null){return[]}if(typeof(b)=="string"){return b.split(a)}else{return[b]}};FW.getEnumMap=function(a){if(_enum_map[a]){return _enum_map[a]}if(window._enum){if(_enum[a]){var g=_enum[a];var d={};for(var b=0;b<g.length;b++){var f=g[b];d[f.code]=f.label}_enum_map[a]=d;return d}else{return null}}else{return{}}};FW.showMask=function(){var d=_parent().$("#itc_msk");if(d.length==0){var e=_parent().$("#mainframe_content");var a="<div id='itc_msk'><span style='vertical-align:middle'><span class='icon-juhua'></span></span></div>";e.append(a);var b=e.css("padding-left");if(b){e.children("#itc_msk").css("left",b)}}};FW.removeMask=function(){_parent().$("#itc_msk").fadeOut("normal",function(){_parent().$("#itc_msk").remove()})};FW.stringify=function(f){var e=typeof(f);if(e!="object"||f===null){if(e=="string"){f='"'+f+'"'}return String(f)}else{var g,b,d=[],a=(f&&isArray(f));for(g in f){b=f[g];e=typeof(b);if(e=="string"){b='"'+b+'"'}else{if(e=="object"&&b!==null){b=FW.stringify(b)}}d.push((a?"":'"'+g+'":')+String(b))}return(a?"[":"{")+String(d)+(a?"]":"}")}};FW.parse=function(str){return eval("("+str+")")};FW.getScnWidth=function(){return parseInt(document.documentElement.clientWidth)};FW.fixRoundButtons=function(m){var d=$(m);if(d.length==0||!d.hasClass("btn-toolbar")){return}d.find(".left-button-corner").removeClass("left-button-corner");d.find(".right-button-corner").removeClass("right-button-corner");d.children(".button-mg0").removeClass("button-mg0");var e=d.children(".btn-group");var f=null;var n=false;for(var g=0;g<e.length;g++){var l=$(e[g]);if(!n){if(l.css("display")!="none"){if(g!=0){f=l}n=true}}var p=l.children(".btn");if(p.length>=2){var k=null;var b=null;for(var h=0;h<p.length;h++){var a=$(p[h]);if(a.css("display")!="none"){if(!k||h==0){k=a;b=a;continue}b=a;if(h==p.length-1){b=null}}}if(k){k.addClass("left-button-corner")}if(b){b.addClass("right-button-corner")}}}if(f){f.addClass("button-mg0")}};function _changeArg(a,d,b){if(!a){return}if(a[d]){a[b]=a[d];delete (a[d])}}(function(a){a.fn.extend({iPager:function(d,b){if(d=="init"){d="create"}if(d=="create"||d=="createPg"){if(typeof(b)!="object"){return}a(this).ITCUI_Pagination(d,b.target,b.styleOpts)}return a(this)},iCombo:function(d,b){if(d=="init"){_changeArg(b,"multiSelect","multiselect");if(b&&b.enumCat&&b.dataType=="enum"){if(window._enum){if(_enum[enumCat]){b.data=parseEnumData(b.enumCat,_enum[enumCat]);delete (b.enumCat);delete (b.dataType)}}}a(this).ITCUI_ComboBox(null,b)}if(d=="getVal"){return a(this).ITCUI_ComboBox("getSelected")}else{if(d=="setVal"){a(this).ITCUI_ComboBox("select",b)}else{if(d=="getTxt"){return a(this).ITCUI_ComboBox("getSelectedText")}else{if(d=="setTxt"){a(this).ITCUI_ComboBox("setText",b)}else{if(d=="setDefaultVal"){a(this).ITCUI_ComboBox("setValue",b)}else{if(d=="loadData"){a(this).ITCUI_ComboBox("loadData",b)}}}}}}return a(this)},iCombotree:function(d,b){if(d=="init"){a(this).ITCUI_ComboTree("create",b)}else{if(d=="getVal"){return a(this).ITCUI_ComboTree("getValue",b)}else{return a(this).ITCUI_ComboTree(d,b)}}return a(this)},iForm:function(d,b){if(d=="init"){a(this).ITC_Form(b.options,b.fields)}else{if(d=="getVal"){return a(this).ITC_Form("getdata",b)}else{if(d=="setVal"){a(this).ITC_Form("loaddata",b)}else{if(d=="beginEdit"){a(this).ITC_Form("beginedit",b)}else{if(d=="endEdit"){a(this).ITC_Form("readonly",b)}else{if(d=="setFullVal"){a(this).ITC_Form("setFullVal",b)}else{if(d=="hide"||d=="show"){a(this).ITC_Form(d,b)}}}}}}}return a(this)},iFold:function(d,b){if(d=="init"){if(typeof(b)=="object"){if(b.title){a(this).attr("grouptitle",b.title)}}a(this).ITCUI_Foldable()}else{a(this).ITCUI_Foldable(d,b)}return a(this)},iInput:function(d,b){if(d=="init"){if(typeof(b)=="object"){if(b.icon){a(this).attr("icon",b.icon)}if(b.onlylabel){a(this).attr("onlylabel",true)}}a(this).removeClass("form-control").ITCUI_Input(b)}return a(this)},iHint:function(d,b){var e=a(this);_changeArg(b,"onGetPosition","getAbsPosFunc");if(d=="init"){if(e.hasClass("form-control")){e.removeClass("form-control");e.attr("icon","itcui_btn_mag");e.iInput("init");b.getAbsPosFunc=b.getAbsPosFunc||function(){return{left:0,top:4}}}e.ITCUI_HintList(b)}return e},iDate:function(f,b){if(f=="init"){var e=null;var d=null;if(typeof(b)=="object"){e=b.inputOpts;d=b.datepickerOpts}a(this).ITCUI_LazyLoadPicker(e,d)}return a(this)},iUpload:function(d,b){if(d=="init"){a(this).ITCUI_FileUpload(b)}else{return a(this).ITCUI_FileUpload(d)}return a(this)},iDatagrid:function(e,b){var h=a(this);if(e=="beginSearch"){h.ITCUI_GridSearch("init",b)}else{if(e=="endSearch"){h.ITCUI_GridSearch("end")}else{if(e=="init"){if(b.data&&b.pageSize){b._data=b.data;b.data={total:b._data.total,rows:b._data.rows.slice(0,b.pageSize)}}if(b.url){b.remoteSort=true}var d=h.attr("id");delete (_itc_grids[d]);b.fitColumns=(b.fitColumns==false)?false:true;b.pagination=true;b.pageList=b.pageList||[10,15,20,30,100];b.onRenderFinish=b.onRendeFinish||function(){var j=a(this);var l=j.datagrid("getData");if(!l||l.total==0){return}var m=j.attr("id");var i=j.attr("pager");if(!i){FW.debug("使用iDatagrid初始化时必须在table中使用属性pager指定分页器！");return}if(!_itc_grids[m]){var k=typeof(styleOpt)=="undefined"?null:styleOpt;h.iPager("init",{target:i,styleOpts:k});_itc_grids[m]=true}j.iFixCheckbox()};var g=h.attr("style");if(!g||g.toLowerCase().indexOf("height")<0){b.scrollbarSize=b.scrollbarSize||0}var f=h.datagrid(b);return f}}}},iButton:function(d,b){var e=a(this).attr("id");if(d=="init"){if(b.split){ITCUtil.createSpltMnuBtn("#"+e,b)}else{ITCUtil.createBtn("#"+e,b)}}return a(this)},iBtnbar:function(d,b){var e=a(this).attr("id");if(d=="init"){ITCUtil.createBtnToolBar("#"+e,b)}return a(this)},iMenu:function(d,b){var f=a(this).attr("id");if(d=="init"){if(!b||typeof(b)!="object"){return}ITCUtil.createMenu("#"+f,b.menu,b)}else{if(d=="getVal"){var e=a("#"+b);if(e.length>0&&e.find(".dropdown-unchecked").length>0){return ITCUtil.getMenuCheckVal(b)}else{return ITCUtil.getMenuSelectVal("#"+f,b)}}}}})})(jQuery);$(document).ready(function(){$("body").click(function(){FW.triggerEvent("onBlankClick")})});var ajaxCounter=0;var lastAjaxTs=-1;var chkAjaxTime=0;var ajaxTimerId=-1;if(window._useLoadingMask){FW.showMask();ajaxTimerId=setInterval(function(){if(chkAjaxTime==3){clearInterval(ajaxTimerId);FW.removeMask();FW.debug("[dbg]所有ajax请求结束，掩模层移除")}else{chkAjaxTime+=1}},100)}$(document).ajaxStart(function(){var a=new Date().getTime();if(a-lastAjaxTs>3000&&lastAjaxTs!=-1){return}lastAjaxTs=a;ajaxCounter+=1;FW.debug("[dbg]ajax请求发生于"+a)});$(document).ajaxStop(function(){var a=new Date().getTime();if(ajaxCounter>0){ajaxCounter-=1;FW.debug("[dbg]ajax请求结束于"+a)}});